"use strict";(self.webpackChunkmymicroservice_7=self.webpackChunkmymicroservice_7||[]).push([[39332],{39332:(H,u,o)=>{o.r(u),o.d(u,{DashboardModule:()=>E});var l=o(15306),g=o(51336),p=o(20504),h=o(21998),D=o(75474),b=o(58780),t=o(93953),c=o(30791),r=o(89417),f=o(24721),v=o(30946);const T=["errorRateWidget"],C=["averageExecutionDurationWidget"],G=["editionsUsageWidget"],W=["latestTenantsWidget"];function y(e,d){1&e&&(t.j41(0,"div",17),t.nrm(1,"abp-error-rate-widget",18,0),t.k0s()),2&e&&(t.R7$(),t.Y8G("height",250))}function R(e,d){1&e&&(t.j41(0,"div",17),t.nrm(1,"abp-average-execution-duration-widget",18,1),t.k0s()),2&e&&(t.R7$(),t.Y8G("height",250))}function M(e,d){1&e&&(t.j41(0,"div",17),t.nrm(1,"abp-editions-usage-widget",18,2),t.k0s()),2&e&&(t.R7$(),t.Y8G("height",250))}function j(e,d){1&e&&(t.j41(0,"div",17),t.nrm(1,"abp-latest-tenants-widget",19,3),t.k0s()),2&e&&(t.R7$(),t.Y8G("minHeight",250))}const m=new Date,Y=new Date(m.getFullYear(),m.getMonth()-1,m.getDate());let w=(()=>{class e{fb=(0,t.WQX)(r.ok);errorRateWidget;averageExecutionDurationWidget;editionsUsageWidget;latestTenantsWidget;toDate=m;fromDate=Y;formFilters=this.fb.group({times:[{fromDate:this.fromDate,toDate:this.toDate}]});ngAfterViewInit(){this.refresh()}refresh(){const{fromDate:n,toDate:a}={...this.formFilters.value.times},i=this.convertToString(n),s=this.convertToString(a);this.errorRateWidget?.draw({startDate:i,endDate:s}),this.averageExecutionDurationWidget?.draw({startDate:i,endDate:s}),this.editionsUsageWidget?.draw(),this.latestTenantsWidget?.draw()}convertToString(n){return n.toLocalISOString()}static \u0275fac=function(a){return new(a||e)};static \u0275cmp=t.VBU({type:e,selectors:[["app-host-dashboard"]],viewQuery:function(a,i){if(1&a&&(t.GBs(T,5),t.GBs(C,5),t.GBs(G,5),t.GBs(W,5)),2&a){let s;t.mGM(s=t.lsd())&&(i.errorRateWidget=s.first),t.mGM(s=t.lsd())&&(i.averageExecutionDurationWidget=s.first),t.mGM(s=t.lsd())&&(i.editionsUsageWidget=s.first),t.mGM(s=t.lsd())&&(i.latestTenantsWidget=s.first)}},features:[t.Jv_([{provide:l.dn,useClass:l.Ae}])],decls:21,vars:14,consts:[["errorRateWidget",""],["averageExecutionDurationWidget",""],["editionsUsageWidget",""],["latestTenantsWidget",""],[3,"title"],[1,"card"],[1,"card-body"],[3,"ngSubmit","formGroup"],["id","datepicker",1,"input-daterange","row","align-items-center","justify-content-center"],[1,"col-12","col-lg-auto","col-md-6","mb-3","mb-lg-0"],["formControlName","times","id","times","startDateProp","fromDate","endDateProp","toDate",3,"labelText"],[1,"col-12","col-lg-2","col-md-12"],["type","submit",1,"btn","btn-primary","btn-block"],["aria-hidden","true",1,"fa","fa-refresh","me-1"],["id","DashboardWidgetsArea"],[1,"row"],["class","col col-md-12 col-lg-6",4,"abpPermission"],[1,"col","col-md-12","col-lg-6"],[3,"height"],[3,"minHeight"]],template:function(a,i){1&a&&(t.j41(0,"abp-page",4),t.nI1(1,"abpLocalization"),t.j41(2,"div",5)(3,"div",6)(4,"form",7),t.bIt("ngSubmit",function(){return i.refresh()}),t.j41(5,"div",8)(6,"div",9),t.nrm(7,"abp-date-range-picker",10),t.nI1(8,"abpLocalization"),t.k0s(),t.j41(9,"div",11)(10,"button",12),t.nrm(11,"i",13),t.j41(12,"span"),t.EFF(13),t.nI1(14,"abpLocalization"),t.k0s()()()()()()(),t.j41(15,"div",14)(16,"div",15),t.DNE(17,y,3,1,"div",16)(18,R,3,1,"div",16)(19,M,3,1,"div",16)(20,j,3,1,"div",16),t.k0s()()()),2&a&&(t.Y8G("title",t.bMT(1,8,"::Menu:Dashboard")),t.R7$(4),t.Y8G("formGroup",i.formFilters),t.R7$(3),t.Y8G("labelText",t.bMT(8,10,"::Date")),t.R7$(6),t.JRh(t.bMT(14,12,"::Refresh")),t.R7$(4),t.Y8G("abpPermission","AuditLogging.AuditLogs"),t.R7$(),t.Y8G("abpPermission","AuditLogging.AuditLogs"),t.R7$(),t.Y8G("abpPermission","Saas.Tenants"),t.R7$(),t.Y8G("abpPermission","Saas.Tenants"))},dependencies:[r.qT,r.BC,r.cb,r.j4,r.JD,c.S02,c.Dud,f.a5,f.lt,v.fI,g.ErrorRateWidgetComponent,g.AverageExecutionDurationWidgetComponent,p.EditionsUsageWidgetComponent,p.LatestTenantsWidgetComponent,h.H1,c.aM3]})}return e})(),S=(()=>{class e{ngOnDestroy(){}static \u0275fac=function(a){return new(a||e)};static \u0275cmp=t.VBU({type:e,selectors:[["app-tenant-dashboard"]],decls:5,vars:0,consts:[[1,"row","entry-row"],[1,"col"],[1,"card"],[1,"card-body"]],template:function(a,i){1&a&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.EFF(4," Add your Tenant related charts/widgets to this page ! "),t.k0s()()()())}})}return e})();function $(e,d){1&e&&t.nrm(0,"app-host-dashboard")}function x(e,d){1&e&&t.nrm(0,"app-tenant-dashboard")}const A=[{path:"",component:(()=>{class e{static \u0275fac=function(a){return new(a||e)};static \u0275cmp=t.VBU({type:e,selectors:[["app-dashboard"]],decls:2,vars:2,consts:[[4,"abpPermission"]],template:function(a,i){1&a&&t.DNE(0,$,1,0,"app-host-dashboard",0)(1,x,1,0,"app-tenant-dashboard",0),2&a&&(t.Y8G("abpPermission","AdministrationService.Dashboard.Host"),t.R7$(),t.Y8G("abpPermission","AdministrationService.Dashboard.Tenant"))},dependencies:[c.Dud,w,S],encapsulation:2})}return e})()}];let F=(()=>{class e{static \u0275fac=function(a){return new(a||e)};static \u0275mod=t.$C({type:e});static \u0275inj=t.G2t({imports:[b.iI.forChild(A),b.iI]})}return e})(),E=(()=>{class e{static \u0275fac=function(a){return new(a||e)};static \u0275mod=t.$C({type:e});static \u0275inj=t.G2t({imports:[D.G,F,l.IQ,g.AuditLoggingModule,p.SaasModule,h.wq,v.Y3]})}return e})()}}]);