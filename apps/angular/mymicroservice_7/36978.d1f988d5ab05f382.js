(self.webpackChunkmymicroservice_7=self.webpackChunkmymicroservice_7||[]).push([[36978],{80243:V=>{"use strict";var b={single_source_shortest_paths:function(d,g,t){var l={},p={};p[g]=0;var s,f,S,A,P,M,h=b.PriorityQueue.make();for(h.push(g,0);!h.empty();)for(S in A=(s=h.pop()).cost,P=d[f=s.value]||{})P.hasOwnProperty(S)&&(M=A+P[S],(typeof p[S]>"u"||p[S]>M)&&(p[S]=M,h.push(S,M),l[S]=f));if(typeof t<"u"&&typeof p[t]>"u"){var X=["Could not find a path from ",g," to ",t,"."].join("");throw new Error(X)}return l},extract_shortest_path_from_predecessor_list:function(d,g){for(var t=[],l=g;l;)t.push(l),l=d[l];return t.reverse(),t},find_path:function(d,g,t){var l=b.single_source_shortest_paths(d,g,t);return b.extract_shortest_path_from_predecessor_list(l,t)},PriorityQueue:{make:function(d){var l,g=b.PriorityQueue,t={};for(l in d=d||{},g)g.hasOwnProperty(l)&&(t[l]=g[l]);return t.queue=[],t.sorter=d.sorter||g.default_sorter,t},default_sorter:function(d,g){return d.cost-g.cost},push:function(d,g){this.queue.push({value:d,cost:g}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};V.exports=b},33174:V=>{"use strict";V.exports=function(d){for(var g=[],t=d.length,l=0;l<t;l++){var p=d.charCodeAt(l);if(p>=55296&&p<=56319&&t>l+1){var h=d.charCodeAt(l+1);h>=56320&&h<=57343&&(p=1024*(p-55296)+h-56320+65536,l+=1)}p<128?g.push(p):p<2048?(g.push(p>>6|192),g.push(63&p|128)):p<55296||p>=57344&&p<65536?(g.push(p>>12|224),g.push(p>>6&63|128),g.push(63&p|128)):p>=65536&&p<=1114111?(g.push(p>>18|240),g.push(p>>12&63|128),g.push(p>>6&63|128),g.push(63&p|128)):g.push(239,191,189)}return new Uint8Array(g).buffer}},68314:(V,b,d)=>{const t=d(72836),l=d(89460),p=d(7030),h=d(56511);function s(f,S,A,P,U){const M=[].slice.call(arguments,1),E=M.length,x="function"==typeof M[E-1];if(!x&&!t())throw new Error("Callback required as last argument");if(!x){if(E<1)throw new Error("Too few arguments provided");return 1===E?(A=S,S=P=void 0):2===E&&!S.getContext&&(P=A,A=S,S=void 0),new Promise(function(X,K){try{const $=l.create(A,P);X(f($,S,P))}catch($){K($)}})}if(E<2)throw new Error("Too few arguments provided");2===E?(U=A,A=S,S=P=void 0):3===E&&(S.getContext&&typeof U>"u"?(U=P,P=void 0):(U=P,P=A,A=S,S=void 0));try{const X=l.create(A,P);U(null,f(X,S,P))}catch(X){U(X)}}b.mo=s.bind(null,p.render),b.dY=s.bind(null,p.renderToDataURL),b.toString=s.bind(null,function(f,S,A){return h.render(f,A)})},72836:V=>{V.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},96214:(V,b,d)=>{const g=d(19089).getSymbolSize;b.getRowColCoords=function(l){if(1===l)return[];const p=Math.floor(l/7)+2,h=g(l),s=145===h?26:2*Math.ceil((h-13)/(2*p-2)),f=[h-7];for(let S=1;S<p-1;S++)f[S]=f[S-1]-s;return f.push(6),f.reverse()},b.getPositions=function(l){const p=[],h=b.getRowColCoords(l),s=h.length;for(let f=0;f<s;f++)for(let S=0;S<s;S++)0===f&&0===S||0===f&&S===s-1||f===s-1&&0===S||p.push([h[f],h[S]]);return p}},1018:(V,b,d)=>{const g=d(91677),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function l(p){this.mode=g.ALPHANUMERIC,this.data=p}l.getBitsLength=function(h){return 11*Math.floor(h/2)+h%2*6},l.prototype.getLength=function(){return this.data.length},l.prototype.getBitsLength=function(){return l.getBitsLength(this.data.length)},l.prototype.write=function(h){let s;for(s=0;s+2<=this.data.length;s+=2){let f=45*t.indexOf(this.data[s]);f+=t.indexOf(this.data[s+1]),h.put(f,11)}this.data.length%2&&h.put(t.indexOf(this.data[s]),6)},V.exports=l},84662:V=>{function b(){this.buffer=[],this.length=0}b.prototype={get:function(d){const g=Math.floor(d/8);return 1==(this.buffer[g]>>>7-d%8&1)},put:function(d,g){for(let t=0;t<g;t++)this.putBit(1==(d>>>g-t-1&1))},getLengthInBits:function(){return this.length},putBit:function(d){const g=Math.floor(this.length/8);this.buffer.length<=g&&this.buffer.push(0),d&&(this.buffer[g]|=128>>>this.length%8),this.length++}},V.exports=b},35941:V=>{function b(d){if(!d||d<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=d,this.data=new Uint8Array(d*d),this.reservedBit=new Uint8Array(d*d)}b.prototype.set=function(d,g,t,l){const p=d*this.size+g;this.data[p]=t,l&&(this.reservedBit[p]=!0)},b.prototype.get=function(d,g){return this.data[d*this.size+g]},b.prototype.xor=function(d,g,t){this.data[d*this.size+g]^=t},b.prototype.isReserved=function(d,g){return this.reservedBit[d*this.size+g]},V.exports=b},54969:(V,b,d)=>{const g=d(33174),t=d(91677);function l(p){this.mode=t.BYTE,"string"==typeof p&&(p=g(p)),this.data=new Uint8Array(p)}l.getBitsLength=function(h){return 8*h},l.prototype.getLength=function(){return this.data.length},l.prototype.getBitsLength=function(){return l.getBitsLength(this.data.length)},l.prototype.write=function(p){for(let h=0,s=this.data.length;h<s;h++)p.put(this.data[h],8)},V.exports=l},23677:(V,b,d)=>{const g=d(47424),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],l=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];b.getBlocksCount=function(h,s){switch(s){case g.L:return t[4*(h-1)+0];case g.M:return t[4*(h-1)+1];case g.Q:return t[4*(h-1)+2];case g.H:return t[4*(h-1)+3];default:return}},b.getTotalCodewordsCount=function(h,s){switch(s){case g.L:return l[4*(h-1)+0];case g.M:return l[4*(h-1)+1];case g.Q:return l[4*(h-1)+2];case g.H:return l[4*(h-1)+3];default:return}}},47424:(V,b)=>{b.L={bit:1},b.M={bit:0},b.Q={bit:3},b.H={bit:2},b.isValid=function(t){return t&&typeof t.bit<"u"&&t.bit>=0&&t.bit<4},b.from=function(t,l){if(b.isValid(t))return t;try{return function d(g){if("string"!=typeof g)throw new Error("Param is not a string");switch(g.toLowerCase()){case"l":case"low":return b.L;case"m":case"medium":return b.M;case"q":case"quartile":return b.Q;case"h":case"high":return b.H;default:throw new Error("Unknown EC Level: "+g)}}(t)}catch{return l}}},76269:(V,b,d)=>{const g=d(19089).getSymbolSize;b.getPositions=function(p){const h=g(p);return[[0,0],[h-7,0],[0,h-7]]}},26254:(V,b,d)=>{const g=d(19089),p=g.getBCHDigit(1335);b.getEncodedBits=function(s,f){const S=s.bit<<3|f;let A=S<<10;for(;g.getBCHDigit(A)-p>=0;)A^=1335<<g.getBCHDigit(A)-p;return 21522^(S<<10|A)}},66686:(V,b)=>{const d=new Uint8Array(512),g=new Uint8Array(256);(function(){let l=1;for(let p=0;p<255;p++)d[p]=l,g[l]=p,l<<=1,256&l&&(l^=285);for(let p=255;p<512;p++)d[p]=d[p-255]})(),b.log=function(l){if(l<1)throw new Error("log("+l+")");return g[l]},b.exp=function(l){return d[l]},b.mul=function(l,p){return 0===l||0===p?0:d[g[l]+g[p]]}},83264:(V,b,d)=>{const g=d(91677),t=d(19089);function l(p){this.mode=g.KANJI,this.data=p}l.getBitsLength=function(h){return 13*h},l.prototype.getLength=function(){return this.data.length},l.prototype.getBitsLength=function(){return l.getBitsLength(this.data.length)},l.prototype.write=function(p){let h;for(h=0;h<this.data.length;h++){let s=t.toSJIS(this.data[h]);if(s>=33088&&s<=40956)s-=33088;else{if(!(s>=57408&&s<=60351))throw new Error("Invalid SJIS character: "+this.data[h]+"\nMake sure your charset is UTF-8");s-=49472}s=192*(s>>>8&255)+(255&s),p.put(s,13)}},V.exports=l},3361:(V,b)=>{b.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function g(t,l,p){switch(t){case b.Patterns.PATTERN000:return(l+p)%2==0;case b.Patterns.PATTERN001:return l%2==0;case b.Patterns.PATTERN010:return p%3==0;case b.Patterns.PATTERN011:return(l+p)%3==0;case b.Patterns.PATTERN100:return(Math.floor(l/2)+Math.floor(p/3))%2==0;case b.Patterns.PATTERN101:return l*p%2+l*p%3==0;case b.Patterns.PATTERN110:return(l*p%2+l*p%3)%2==0;case b.Patterns.PATTERN111:return(l*p%3+(l+p)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}b.isValid=function(l){return null!=l&&""!==l&&!isNaN(l)&&l>=0&&l<=7},b.from=function(l){return b.isValid(l)?parseInt(l,10):void 0},b.getPenaltyN1=function(l){const p=l.size;let h=0,s=0,f=0,S=null,A=null;for(let P=0;P<p;P++){s=f=0,S=A=null;for(let U=0;U<p;U++){let M=l.get(P,U);M===S?s++:(s>=5&&(h+=s-5+3),S=M,s=1),M=l.get(U,P),M===A?f++:(f>=5&&(h+=f-5+3),A=M,f=1)}s>=5&&(h+=s-5+3),f>=5&&(h+=f-5+3)}return h},b.getPenaltyN2=function(l){const p=l.size;let h=0;for(let s=0;s<p-1;s++)for(let f=0;f<p-1;f++){const S=l.get(s,f)+l.get(s,f+1)+l.get(s+1,f)+l.get(s+1,f+1);(4===S||0===S)&&h++}return 3*h},b.getPenaltyN3=function(l){const p=l.size;let h=0,s=0,f=0;for(let S=0;S<p;S++){s=f=0;for(let A=0;A<p;A++)s=s<<1&2047|l.get(S,A),A>=10&&(1488===s||93===s)&&h++,f=f<<1&2047|l.get(A,S),A>=10&&(1488===f||93===f)&&h++}return 40*h},b.getPenaltyN4=function(l){let p=0;const h=l.data.length;for(let f=0;f<h;f++)p+=l.data[f];return 10*Math.abs(Math.ceil(100*p/h/5)-10)},b.applyMask=function(l,p){const h=p.size;for(let s=0;s<h;s++)for(let f=0;f<h;f++)p.isReserved(f,s)||p.xor(f,s,g(l,f,s))},b.getBestMask=function(l,p){const h=Object.keys(b.Patterns).length;let s=0,f=1/0;for(let S=0;S<h;S++){p(S),b.applyMask(S,l);const A=b.getPenaltyN1(l)+b.getPenaltyN2(l)+b.getPenaltyN3(l)+b.getPenaltyN4(l);b.applyMask(S,l),A<f&&(f=A,s=S)}return s}},91677:(V,b,d)=>{const g=d(80377),t=d(99359);b.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},b.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},b.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},b.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},b.MIXED={bit:-1},b.getCharCountIndicator=function(h,s){if(!h.ccBits)throw new Error("Invalid mode: "+h);if(!g.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?h.ccBits[0]:s<27?h.ccBits[1]:h.ccBits[2]},b.getBestModeForData=function(h){return t.testNumeric(h)?b.NUMERIC:t.testAlphanumeric(h)?b.ALPHANUMERIC:t.testKanji(h)?b.KANJI:b.BYTE},b.toString=function(h){if(h&&h.id)return h.id;throw new Error("Invalid mode")},b.isValid=function(h){return h&&h.bit&&h.ccBits},b.from=function(h,s){if(b.isValid(h))return h;try{return function l(p){if("string"!=typeof p)throw new Error("Param is not a string");switch(p.toLowerCase()){case"numeric":return b.NUMERIC;case"alphanumeric":return b.ALPHANUMERIC;case"kanji":return b.KANJI;case"byte":return b.BYTE;default:throw new Error("Unknown mode: "+p)}}(h)}catch{return s}}},96628:(V,b,d)=>{const g=d(91677);function t(l){this.mode=g.NUMERIC,this.data=l.toString()}t.getBitsLength=function(p){return 10*Math.floor(p/3)+(p%3?p%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(p){let h,s,f;for(h=0;h+3<=this.data.length;h+=3)s=this.data.substr(h,3),f=parseInt(s,10),p.put(f,10);const S=this.data.length-h;S>0&&(s=this.data.substr(h),f=parseInt(s,10),p.put(f,3*S+1))},V.exports=t},81744:(V,b,d)=>{const g=d(66686);b.mul=function(l,p){const h=new Uint8Array(l.length+p.length-1);for(let s=0;s<l.length;s++)for(let f=0;f<p.length;f++)h[s+f]^=g.mul(l[s],p[f]);return h},b.mod=function(l,p){let h=new Uint8Array(l);for(;h.length-p.length>=0;){const s=h[0];for(let S=0;S<p.length;S++)h[S]^=g.mul(p[S],s);let f=0;for(;f<h.length&&0===h[f];)f++;h=h.slice(f)}return h},b.generateECPolynomial=function(l){let p=new Uint8Array([1]);for(let h=0;h<l;h++)p=b.mul(p,new Uint8Array([1,g.exp(h)]));return p}},89460:(V,b,d)=>{const g=d(19089),t=d(47424),l=d(84662),p=d(35941),h=d(96214),s=d(76269),f=d(3361),S=d(23677),A=d(86289),P=d(91252),U=d(26254),M=d(91677),E=d(22868);function N(F,L,D){const I=F.size,z=U.getEncodedBits(L,D);let R,m;for(R=0;R<15;R++)m=1==(z>>R&1),F.set(R<6?R:R<8?R+1:I-15+R,8,m,!0),F.set(8,R<8?I-R-1:R<9?15-R-1+1:15-R-1,m,!0);F.set(I-8,8,1,!0)}function it(F,L,D,I){let z;if(Array.isArray(F))z=E.fromArray(F);else{if("string"!=typeof F)throw new Error("Invalid data");{let B=L;if(!B){const lt=E.rawSplit(F);B=P.getBestVersionForData(lt,D)}z=E.fromString(F,B||40)}}const R=P.getBestVersionForData(z,D);if(!R)throw new Error("The amount of data is too big to be stored in a QR Code");if(L){if(L<R)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+R+".\n")}else L=R;const m=function O(F,L,D){const I=new l;D.forEach(function(G){I.put(G.mode.bit,4),I.put(G.getLength(),M.getCharCountIndicator(G.mode,F)),G.write(I)});const m=8*(g.getSymbolTotalCodewords(F)-S.getTotalCodewordsCount(F,L));for(I.getLengthInBits()+4<=m&&I.put(0,4);I.getLengthInBits()%8!=0;)I.putBit(0);const j=(m-I.getLengthInBits())/8;for(let G=0;G<j;G++)I.put(G%2?17:236,8);return function et(F,L,D){const I=g.getSymbolTotalCodewords(L),R=I-S.getTotalCodewordsCount(L,D),m=S.getBlocksCount(L,D),G=m-I%m,B=Math.floor(I/m),lt=Math.floor(R/m),Kt=lt+1,qt=B-lt,de=new A(qt);let Bt=0;const Ut=new Array(m),Zt=new Array(m);let Pt=0;const _e=new Uint8Array(F.buffer);for(let At=0;At<m;At++){const te=At<G?lt:Kt;Ut[At]=_e.slice(Bt,Bt+te),Zt[At]=de.encode(Ut[At]),Bt+=te,Pt=Math.max(Pt,te)}const Ot=new Uint8Array(I);let bt,ft,he=0;for(bt=0;bt<Pt;bt++)for(ft=0;ft<m;ft++)bt<Ut[ft].length&&(Ot[he++]=Ut[ft][bt]);for(bt=0;bt<qt;bt++)for(ft=0;ft<m;ft++)Ot[he++]=Zt[ft][bt];return Ot}(I,F,L)}(L,D,z),j=g.getSymbolSize(L),G=new p(j);return function x(F,L){const D=F.size,I=s.getPositions(L);for(let z=0;z<I.length;z++){const R=I[z][0],m=I[z][1];for(let j=-1;j<=7;j++)if(!(R+j<=-1||D<=R+j))for(let G=-1;G<=7;G++)m+G<=-1||D<=m+G||F.set(R+j,m+G,j>=0&&j<=6&&(0===G||6===G)||G>=0&&G<=6&&(0===j||6===j)||j>=2&&j<=4&&G>=2&&G<=4,!0)}}(G,L),function X(F){const L=F.size;for(let D=8;D<L-8;D++){const I=D%2==0;F.set(D,6,I,!0),F.set(6,D,I,!0)}}(G),function K(F,L){const D=h.getPositions(L);for(let I=0;I<D.length;I++){const z=D[I][0],R=D[I][1];for(let m=-2;m<=2;m++)for(let j=-2;j<=2;j++)F.set(z+m,R+j,-2===m||2===m||-2===j||2===j||0===m&&0===j,!0)}}(G,L),N(G,D,0),L>=7&&function $(F,L){const D=F.size,I=P.getEncodedBits(L);let z,R,m;for(let j=0;j<18;j++)z=Math.floor(j/3),R=j%3+D-8-3,m=1==(I>>j&1),F.set(z,R,m,!0),F.set(R,z,m,!0)}(G,L),function k(F,L){const D=F.size;let I=-1,z=D-1,R=7,m=0;for(let j=D-1;j>0;j-=2)for(6===j&&j--;;){for(let G=0;G<2;G++)if(!F.isReserved(z,j-G)){let B=!1;m<L.length&&(B=1==(L[m]>>>R&1)),F.set(z,j-G,B),R--,-1===R&&(m++,R=7)}if(z+=I,z<0||D<=z){z-=I,I=-I;break}}}(G,m),isNaN(I)&&(I=f.getBestMask(G,N.bind(null,G,D))),f.applyMask(I,G),N(G,D,I),{modules:G,version:L,errorCorrectionLevel:D,maskPattern:I,segments:z}}b.create=function(L,D){if(typeof L>"u"||""===L)throw new Error("No input text");let z,R,I=t.M;return typeof D<"u"&&(I=t.from(D.errorCorrectionLevel,t.M),z=P.from(D.version),R=f.from(D.maskPattern),D.toSJISFunc&&g.setToSJISFunction(D.toSJISFunc)),it(L,z,I,R)}},86289:(V,b,d)=>{const g=d(81744);function t(l){this.genPoly=void 0,this.degree=l,this.degree&&this.initialize(this.degree)}t.prototype.initialize=function(p){this.degree=p,this.genPoly=g.generateECPolynomial(this.degree)},t.prototype.encode=function(p){if(!this.genPoly)throw new Error("Encoder not initialized");const h=new Uint8Array(p.length+this.degree);h.set(p);const s=g.mod(h,this.genPoly),f=this.degree-s.length;if(f>0){const S=new Uint8Array(this.degree);return S.set(s,f),S}return s},V.exports=t},99359:(V,b)=>{const d="[0-9]+";let t="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";t=t.replace(/u/g,"\\u");const l="(?:(?![A-Z0-9 $%*+\\-./:]|"+t+")(?:.|[\r\n]))+";b.KANJI=new RegExp(t,"g"),b.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),b.BYTE=new RegExp(l,"g"),b.NUMERIC=new RegExp(d,"g"),b.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const p=new RegExp("^"+t+"$"),h=new RegExp("^"+d+"$"),s=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");b.testKanji=function(S){return p.test(S)},b.testNumeric=function(S){return h.test(S)},b.testAlphanumeric=function(S){return s.test(S)}},22868:(V,b,d)=>{const g=d(91677),t=d(96628),l=d(1018),p=d(54969),h=d(83264),s=d(99359),f=d(19089),S=d(80243);function A($){return unescape(encodeURIComponent($)).length}function P($,N,k){const O=[];let et;for(;null!==(et=$.exec(k));)O.push({data:et[0],index:et.index,mode:N,length:et[0].length});return O}function U($){const N=P(s.NUMERIC,g.NUMERIC,$),k=P(s.ALPHANUMERIC,g.ALPHANUMERIC,$);let O,et;return f.isKanjiModeEnabled()?(O=P(s.BYTE,g.BYTE,$),et=P(s.KANJI,g.KANJI,$)):(O=P(s.BYTE_KANJI,g.BYTE,$),et=[]),N.concat(k,O,et).sort(function(F,L){return F.index-L.index}).map(function(F){return{data:F.data,mode:F.mode,length:F.length}})}function M($,N){switch(N){case g.NUMERIC:return t.getBitsLength($);case g.ALPHANUMERIC:return l.getBitsLength($);case g.KANJI:return h.getBitsLength($);case g.BYTE:return p.getBitsLength($)}}function K($,N){let k;const O=g.getBestModeForData($);if(k=g.from(N,O),k!==g.BYTE&&k.bit<O.bit)throw new Error('"'+$+'" cannot be encoded with mode '+g.toString(k)+".\n Suggested mode is: "+g.toString(O));switch(k===g.KANJI&&!f.isKanjiModeEnabled()&&(k=g.BYTE),k){case g.NUMERIC:return new t($);case g.ALPHANUMERIC:return new l($);case g.KANJI:return new h($);case g.BYTE:return new p($)}}b.fromArray=function(N){return N.reduce(function(k,O){return"string"==typeof O?k.push(K(O,null)):O.data&&k.push(K(O.data,O.mode)),k},[])},b.fromString=function(N,k){const et=function x($){const N=[];for(let k=0;k<$.length;k++){const O=$[k];switch(O.mode){case g.NUMERIC:N.push([O,{data:O.data,mode:g.ALPHANUMERIC,length:O.length},{data:O.data,mode:g.BYTE,length:O.length}]);break;case g.ALPHANUMERIC:N.push([O,{data:O.data,mode:g.BYTE,length:O.length}]);break;case g.KANJI:N.push([O,{data:O.data,mode:g.BYTE,length:A(O.data)}]);break;case g.BYTE:N.push([{data:O.data,mode:g.BYTE,length:A(O.data)}])}}return N}(U(N,f.isKanjiModeEnabled())),it=function X($,N){const k={},O={start:{}};let et=["start"];for(let it=0;it<$.length;it++){const F=$[it],L=[];for(let D=0;D<F.length;D++){const I=F[D],z=""+it+D;L.push(z),k[z]={node:I,lastCount:0},O[z]={};for(let R=0;R<et.length;R++){const m=et[R];k[m]&&k[m].node.mode===I.mode?(O[m][z]=M(k[m].lastCount+I.length,I.mode)-M(k[m].lastCount,I.mode),k[m].lastCount+=I.length):(k[m]&&(k[m].lastCount=I.length),O[m][z]=M(I.length,I.mode)+4+g.getCharCountIndicator(I.mode,N))}}et=L}for(let it=0;it<et.length;it++)O[et[it]].end=0;return{map:O,table:k}}(et,k),F=S.find_path(it.map,"start","end"),L=[];for(let D=1;D<F.length-1;D++)L.push(it.table[F[D]].node);return b.fromArray(function E($){return $.reduce(function(N,k){const O=N.length-1>=0?N[N.length-1]:null;return O&&O.mode===k.mode?(N[N.length-1].data+=k.data,N):(N.push(k),N)},[])}(L))},b.rawSplit=function(N){return b.fromArray(U(N,f.isKanjiModeEnabled()))}},19089:(V,b)=>{let d;const g=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];b.getSymbolSize=function(l){if(!l)throw new Error('"version" cannot be null or undefined');if(l<1||l>40)throw new Error('"version" should be in range from 1 to 40');return 4*l+17},b.getSymbolTotalCodewords=function(l){return g[l]},b.getBCHDigit=function(t){let l=0;for(;0!==t;)l++,t>>>=1;return l},b.setToSJISFunction=function(l){if("function"!=typeof l)throw new Error('"toSJISFunc" is not a valid function.');d=l},b.isKanjiModeEnabled=function(){return typeof d<"u"},b.toSJIS=function(l){return d(l)}},80377:(V,b)=>{b.isValid=function(g){return!isNaN(g)&&g>=1&&g<=40}},91252:(V,b,d)=>{const g=d(19089),t=d(23677),l=d(47424),p=d(91677),h=d(80377),f=g.getBCHDigit(7973);function A(M,E){return p.getCharCountIndicator(M,E)+4}function P(M,E){let x=0;return M.forEach(function(X){const K=A(X.mode,E);x+=K+X.getBitsLength()}),x}b.from=function(E,x){return h.isValid(E)?parseInt(E,10):x},b.getCapacity=function(E,x,X){if(!h.isValid(E))throw new Error("Invalid QR Code version");typeof X>"u"&&(X=p.BYTE);const N=8*(g.getSymbolTotalCodewords(E)-t.getTotalCodewordsCount(E,x));if(X===p.MIXED)return N;const k=N-A(X,E);switch(X){case p.NUMERIC:return Math.floor(k/10*3);case p.ALPHANUMERIC:return Math.floor(k/11*2);case p.KANJI:return Math.floor(k/13);default:return Math.floor(k/8)}},b.getBestVersionForData=function(E,x){let X;const K=l.from(x,l.M);if(Array.isArray(E)){if(E.length>1)return function U(M,E){for(let x=1;x<=40;x++)if(P(M,x)<=b.getCapacity(x,E,p.MIXED))return x}(E,K);if(0===E.length)return 1;X=E[0]}else X=E;return function S(M,E,x){for(let X=1;X<=40;X++)if(E<=b.getCapacity(X,x,M))return X}(X.mode,X.getLength(),K)},b.getEncodedBits=function(E){if(!h.isValid(E)||E<7)throw new Error("Invalid QR Code version");let x=E<<12;for(;g.getBCHDigit(x)-f>=0;)x^=7973<<g.getBCHDigit(x)-f;return E<<12|x}},7030:(V,b,d)=>{const g=d(47077);b.render=function(h,s,f){let S=f,A=s;typeof S>"u"&&(!s||!s.getContext)&&(S=s,s=void 0),s||(A=function l(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),S=g.getOptions(S);const P=g.getImageWidth(h.modules.size,S),U=A.getContext("2d"),M=U.createImageData(P,P);return g.qrToImageData(M.data,h,S),function t(p,h,s){p.clearRect(0,0,h.width,h.height),h.style||(h.style={}),h.height=s,h.width=s,h.style.height=s+"px",h.style.width=s+"px"}(U,A,P),U.putImageData(M,0,0),A},b.renderToDataURL=function(h,s,f){let S=f;return typeof S>"u"&&(!s||!s.getContext)&&(S=s,s=void 0),S||(S={}),b.render(h,s,S).toDataURL(S.type||"image/png",(S.rendererOpts||{}).quality)}},56511:(V,b,d)=>{const g=d(47077);function t(h,s){const f=h.a/255,S=s+'="'+h.hex+'"';return f<1?S+" "+s+'-opacity="'+f.toFixed(2).slice(1)+'"':S}function l(h,s,f){let S=h+s;return typeof f<"u"&&(S+=" "+f),S}b.render=function(s,f,S){const A=g.getOptions(f),P=s.modules.size,U=s.modules.data,M=P+2*A.margin,E=A.color.light.a?"<path "+t(A.color.light,"fill")+' d="M0 0h'+M+"v"+M+'H0z"/>':"",x="<path "+t(A.color.dark,"stroke")+' d="'+function p(h,s,f){let S="",A=0,P=!1,U=0;for(let M=0;M<h.length;M++){const E=Math.floor(M%s),x=Math.floor(M/s);!E&&!P&&(P=!0),h[M]?(U++,M>0&&E>0&&h[M-1]||(S+=P?l("M",E+f,.5+x+f):l("m",A,0),A=0,P=!1),E+1<s&&h[M+1]||(S+=l("h",U),U=0)):A++}return S}(U,P,A.margin)+'"/>',$='<svg xmlns="http://www.w3.org/2000/svg" '+(A.width?'width="'+A.width+'" height="'+A.width+'" ':"")+'viewBox="0 0 '+M+" "+M+'" shape-rendering="crispEdges">'+E+x+"</svg>\n";return"function"==typeof S&&S(null,$),$}},47077:(V,b)=>{function d(g){if("number"==typeof g&&(g=g.toString()),"string"!=typeof g)throw new Error("Color should be defined as hex string");let t=g.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+g);(3===t.length||4===t.length)&&(t=Array.prototype.concat.apply([],t.map(function(p){return[p,p]}))),6===t.length&&t.push("F","F");const l=parseInt(t.join(""),16);return{r:l>>24&255,g:l>>16&255,b:l>>8&255,a:255&l,hex:"#"+t.slice(0,6).join("")}}b.getOptions=function(t){t||(t={}),t.color||(t.color={});const p=t.width&&t.width>=21?t.width:void 0;return{width:p,scale:p?4:t.scale||4,margin:typeof t.margin>"u"||null===t.margin||t.margin<0?4:t.margin,color:{dark:d(t.color.dark||"#000000ff"),light:d(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},b.getScale=function(t,l){return l.width&&l.width>=t+2*l.margin?l.width/(t+2*l.margin):l.scale},b.getImageWidth=function(t,l){const p=b.getScale(t,l);return Math.floor((t+2*l.margin)*p)},b.qrToImageData=function(t,l,p){const h=l.modules.size,s=l.modules.data,f=b.getScale(h,p),S=Math.floor((h+2*p.margin)*f),A=p.margin*f,P=[p.color.light,p.color.dark];for(let U=0;U<S;U++)for(let M=0;M<S;M++){let E=4*(U*S+M),x=p.color.light;U>=A&&M>=A&&U<S-A&&M<S-A&&(x=P[s[Math.floor((U-A)/f)*h+Math.floor((M-A)/f)]?1:0]),t[E++]=x.r,t[E++]=x.g,t[E++]=x.b,t[E]=x.a}}},36978:(V,b,d)=>{"use strict";d.r(b),d.d(b,{ACCOUNT_CONFIG_OPTIONS:()=>we,AccountExtensionsGuard:()=>Zr,AccountPublicModule:()=>qr,AccountService:()=>St,AccountSessionDetailComponent:()=>hn,AccountSessionsComponent:()=>fn,AuthenticationFlowGuard:()=>Lr,AuthenticatorAppComponent:()=>dn,AuthenticatorAppService:()=>Qe,ChangePasswordComponent:()=>qe,ChangePasswordService:()=>We,EmailConfirmationComponent:()=>Ze,ForgotPasswordComponent:()=>ti,LinkLoggedComponent:()=>ei,LoginComponent:()=>ii,LoginWithRecoveryCodeComponent:()=>on,ManageProfileComponent:()=>ni,ManageProfileResolver:()=>vi,ManageProfileStateService:()=>Qt,MySecurityLogsComponent:()=>ve,PERIODICALLY_CHANGE_PASSWORD:()=>sn,PasswordComplexityIndicatorComponent:()=>Jt,PasswordComplexityIndicatorService:()=>pe,PersonalSettingsComponent:()=>ri,PersonalSettingsEmailComponent:()=>Je,PersonalSettingsHalfRowComponent:()=>Ce,PersonalSettingsPhoneNumberComponent:()=>Ke,PersonalSettingsTimerZoneComponent:()=>ui,PersonalSettingsVerifyButtonComponent:()=>ye,ProfilePictureComponent:()=>ai,QrCodeComponent:()=>un,RECAPTCHA_STRATEGY:()=>Ve,REQUIRES_TWO_FACTOR:()=>rn,RE_LOGIN_CONFIRMATION_TOKEN:()=>oi,RecaptchaLoginStrategy:()=>qi,RecaptchaPageStrategy:()=>ze,RecaptchaRegisterStrategy:()=>Zi,RecaptchaService:()=>le,RecaptchaStrategy:()=>Xe,RecaptchaV2Strategy:()=>tn,RecaptchaV3Strategy:()=>en,RecoveryCodeGuard:()=>jr,RecoveryCodeService:()=>Wt,RefreshPasswordComponent:()=>di,RegisterComponent:()=>ci,ResetPasswordComponent:()=>li,SHOULD_CHANGE_PASSWORD_ON_NEXT_LOGIN:()=>an,SecurityCodeGuard:()=>Dr,SecurityCodeService:()=>Ht,SendSecurityCodeComponent:()=>pi,TwoFactorTabComponent:()=>hi,TwoFactorTabService:()=>He,UrlComponentEncoder:()=>Ki,accountOptionsFactory:()=>yn,authenticationFlowGuard:()=>ce,getRedirectUrl:()=>Se,recoveryCodeGuard:()=>nn,securityCodeGuard:()=>Ji});var g=d(74523),t=d(93953),l=d(15306),p=d(24721),h=d(21998),s=d(30791),f=d(39862),S=d(30946),A=d(22514),P=d(86648),U=d(99437),M=d(18810),E=d(84412),x=d(7673),X=d(71985),K=d(70980),$=d(71203),N=d(88141),k=d(25558),O=d(21413),et=d(983),it=d(5964),F=d(65245),L=d(96354),D=d(44437),I=d(73703),z=d(96697),R=d(58780),m=d(89417),j=d(47405),G=d(89079),B=d(15923),lt=d(60177),Kt=d(49969),qt=d(55257);function de(n,o){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);o&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Bt(n){for(var o=1;o<arguments.length;o++){var e=null!=arguments[o]?arguments[o]:{};o%2?de(Object(e),!0).forEach(function(i){bt(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):de(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function Zt(n){var o=function Ut(n,o){if("object"!=typeof n||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var i=e.call(n,o||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(n)}(n,"string");return"symbol"==typeof o?o:o+""}function Pt(n){return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(n)}function Ot(n,o){for(var e=0;e<o.length;e++){var i=o[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,Zt(i.key),i)}}function bt(n,o,e){return(o=Zt(o))in n?Object.defineProperty(n,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[o]=e,n}function ft(n){return function At(n){if(Array.isArray(n))return Ae(n)}(n)||function te(n){if(typeof Symbol<"u"&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function An(n,o){if(n){if("string"==typeof n)return Ae(n,o);var e=Object.prototype.toString.call(n).slice(8,-1);if("Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Ae(n,o)}}(n)||function Rn(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(n,o){(null==o||o>n.length)&&(o=n.length);for(var e=0,i=new Array(o);e<o;e++)i[e]=n[e];return i}var fe=typeof window<"u"&&typeof window.document<"u",Ct=fe?window:{},Re=!(!fe||!Ct.document.documentElement)&&"ontouchstart"in Ct.document.documentElement,Me=!!fe&&"PointerEvent"in Ct,q="cropper",Rt="n",ee="ne",ie="nw",ne="se",oe="sw",Ee="".concat(q,"-crop"),_i="".concat(q,"-disabled"),pt="".concat(q,"-hidden"),Ai="".concat(q,"-hide"),Mn="".concat(q,"-invisible"),me="".concat(q,"-modal"),Pe="".concat(q,"-move"),re="".concat(q,"Action"),ge="".concat(q,"Preview"),ke="crop",Fe="crop",Ne="cropend",xe="cropmove",Le="cropstart",Ii="dblclick",Ei=Me?"pointerdown":Re?"touchstart":"mousedown",Pi=Me?"pointermove":Re?"touchmove":"mousemove",ki=Me?"pointerup pointercancel":Re?"touchend touchcancel":"mouseup",De="zoom",Li="image/jpeg",kn=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,Fn=/^data:/,Nn=/^data:image\/jpeg;base64,/,xn=/^img|canvas$/i,Bi={viewMode:0,dragMode:ke,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Dn=Number.isNaN||Ct.isNaN;function Y(n){return"number"==typeof n&&!Dn(n)}var Ui=function(o){return o>0&&o<1/0};function je(n){return typeof n>"u"}function Nt(n){return"object"===Pt(n)&&null!==n}var jn=Object.prototype.hasOwnProperty;function Gt(n){if(!Nt(n))return!1;try{var o=n.constructor,e=o.prototype;return o&&e&&jn.call(e,"isPrototypeOf")}catch{return!1}}function ut(n){return"function"==typeof n}var Bn=Array.prototype.slice;function Oi(n){return Array.from?Array.from(n):Bn.call(n)}function nt(n,o){return n&&ut(o)&&(Array.isArray(n)||Y(n.length)?Oi(n).forEach(function(e,i){o.call(n,e,i,n)}):Nt(n)&&Object.keys(n).forEach(function(e){o.call(n,n[e],e,n)})),n}var Z=Object.assign||function(o){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];return Nt(o)&&i.length>0&&i.forEach(function(a){Nt(a)&&Object.keys(a).forEach(function(c){o[c]=a[c]})}),o},Un=/\.\d*(?:0|9){12}\d*$/;function zt(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return Un.test(n)?Math.round(n*o)/o:n}var On=/^width|height|left|top|marginLeft|marginTop$/;function Mt(n,o){var e=n.style;nt(o,function(i,r){On.test(r)&&Y(i)&&(i="".concat(i,"px")),e[r]=i})}function st(n,o){if(o){if(Y(n.length))return void nt(n,function(i){st(i,o)});if(n.classList)return void n.classList.add(o);var e=n.className.trim();e?e.indexOf(o)<0&&(n.className="".concat(e," ").concat(o)):n.className=o}}function yt(n,o){if(o){if(Y(n.length))return void nt(n,function(e){yt(e,o)});if(n.classList)return void n.classList.remove(o);n.className.indexOf(o)>=0&&(n.className=n.className.replace(o,""))}}function Vt(n,o,e){if(o){if(Y(n.length))return void nt(n,function(i){Vt(i,o,e)});e?st(n,o):yt(n,o)}}var Gn=/([a-z\d])([A-Z])/g;function Be(n){return n.replace(Gn,"$1-$2").toLowerCase()}function Ue(n,o){return Nt(n[o])?n[o]:n.dataset?n.dataset[o]:n.getAttribute("data-".concat(Be(o)))}function ae(n,o,e){Nt(e)?n[o]=e:n.dataset?n.dataset[o]=e:n.setAttribute("data-".concat(Be(o)),e)}var $i=/\s\s*/,Gi=function(){var n=!1;if(fe){var o=!1,e=function(){},i=Object.defineProperty({},"once",{get:function(){return n=!0,o},set:function(a){o=a}});Ct.addEventListener("test",e,i),Ct.removeEventListener("test",e,i)}return n}();function vt(n,o,e){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=e;o.trim().split($i).forEach(function(a){if(!Gi){var c=n.listeners;c&&c[a]&&c[a][e]&&(r=c[a][e],delete c[a][e],0===Object.keys(c[a]).length&&delete c[a],0===Object.keys(c).length&&delete n.listeners)}n.removeEventListener(a,r,i)})}function mt(n,o,e){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=e;o.trim().split($i).forEach(function(a){if(i.once&&!Gi){var c=n.listeners,u=void 0===c?{}:c;r=function(){delete u[a][e],n.removeEventListener(a,r,i);for(var C=arguments.length,v=new Array(C),y=0;y<C;y++)v[y]=arguments[y];e.apply(n,v)},u[a]||(u[a]={}),u[a][e]&&n.removeEventListener(a,u[a][e],i),u[a][e]=r,n.listeners=u}n.addEventListener(a,r,i)})}function Xt(n,o,e){var i;return ut(Event)&&ut(CustomEvent)?i=new CustomEvent(o,{detail:e,bubbles:!0,cancelable:!0}):(i=document.createEvent("CustomEvent")).initCustomEvent(o,!0,!0,e),n.dispatchEvent(i)}function zi(n){var o=n.getBoundingClientRect();return{left:o.left+(window.pageXOffset-document.documentElement.clientLeft),top:o.top+(window.pageYOffset-document.documentElement.clientTop)}}var Oe=Ct.location,Vn=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function Vi(n){var o=n.match(Vn);return null!==o&&(o[1]!==Oe.protocol||o[2]!==Oe.hostname||o[3]!==Oe.port)}function Xi(n){var o="timestamp=".concat((new Date).getTime());return n+(-1===n.indexOf("?")?"?":"&")+o}function se(n){var o=n.rotate,e=n.scaleX,i=n.scaleY,r=n.translateX,a=n.translateY,c=[];Y(r)&&0!==r&&c.push("translateX(".concat(r,"px)")),Y(a)&&0!==a&&c.push("translateY(".concat(a,"px)")),Y(o)&&0!==o&&c.push("rotate(".concat(o,"deg)")),Y(e)&&1!==e&&c.push("scaleX(".concat(e,")")),Y(i)&&1!==i&&c.push("scaleY(".concat(i,")"));var u=c.length?c.join(" "):"none";return{WebkitTransform:u,msTransform:u,transform:u}}function be(n,o){var e=n.pageX,i=n.pageY,r={endX:e,endY:i};return o?r:Bt({startX:e,startY:i},r)}function It(n){var o=n.aspectRatio,e=n.height,i=n.width,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",a=Ui(i),c=Ui(e);if(a&&c){var u=e*o;"contain"===r&&u>i||"cover"===r&&u<i?e=i/o:i=e*o}else a?e=i/o:c&&(i=e*o);return{width:i,height:e}}var Yi=String.fromCharCode,Jn=/^data:.*,/;var eo={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var o=this.element,e=this.options,i=this.container,r=this.cropper,a=Number(e.minContainerWidth),c=Number(e.minContainerHeight);st(r,pt),yt(o,pt);var u={width:Math.max(i.offsetWidth,a>=0?a:200),height:Math.max(i.offsetHeight,c>=0?c:100)};this.containerData=u,Mt(r,{width:u.width,height:u.height}),st(o,pt),yt(r,pt)},initCanvas:function(){var o=this.containerData,e=this.imageData,i=this.options.viewMode,r=Math.abs(e.rotate)%180==90,a=r?e.naturalHeight:e.naturalWidth,c=r?e.naturalWidth:e.naturalHeight,u=a/c,w=o.width,C=o.height;o.height*u>o.width?3===i?w=o.height*u:C=o.width/u:3===i?C=o.width/u:w=o.height*u;var v={aspectRatio:u,naturalWidth:a,naturalHeight:c,width:w,height:C};this.canvasData=v,this.limited=1===i||2===i,this.limitCanvas(!0,!0),v.width=Math.min(Math.max(v.width,v.minWidth),v.maxWidth),v.height=Math.min(Math.max(v.height,v.minHeight),v.maxHeight),v.left=(o.width-v.width)/2,v.top=(o.height-v.height)/2,v.oldLeft=v.left,v.oldTop=v.top,this.initialCanvasData=Z({},v)},limitCanvas:function(o,e){var i=this.options,r=this.containerData,a=this.canvasData,c=this.cropBoxData,u=i.viewMode,w=a.aspectRatio,C=this.cropped&&c;if(o){var v=Number(i.minCanvasWidth)||0,y=Number(i.minCanvasHeight)||0;u>1?(v=Math.max(v,r.width),y=Math.max(y,r.height),3===u&&(y*w>v?v=y*w:y=v/w)):u>0&&(v?v=Math.max(v,C?c.width:0):y?y=Math.max(y,C?c.height:0):C&&((y=c.height)*w>(v=c.width)?v=y*w:y=v/w));var T=It({aspectRatio:w,width:v,height:y});y=T.height,a.minWidth=v=T.width,a.minHeight=y,a.maxWidth=1/0,a.maxHeight=1/0}if(e)if(u>(C?0:1)){var H=r.width-a.width,W=r.height-a.height;a.minLeft=Math.min(0,H),a.minTop=Math.min(0,W),a.maxLeft=Math.max(0,H),a.maxTop=Math.max(0,W),C&&this.limited&&(a.minLeft=Math.min(c.left,c.left+(c.width-a.width)),a.minTop=Math.min(c.top,c.top+(c.height-a.height)),a.maxLeft=c.left,a.maxTop=c.top,2===u&&(a.width>=r.width&&(a.minLeft=Math.min(0,H),a.maxLeft=Math.max(0,H)),a.height>=r.height&&(a.minTop=Math.min(0,W),a.maxTop=Math.max(0,W))))}else a.minLeft=-a.width,a.minTop=-a.height,a.maxLeft=r.width,a.maxTop=r.height},renderCanvas:function(o,e){var i=this.canvasData,r=this.imageData;if(e){var a=function Wn(n){var o=n.width,e=n.height,i=n.degree;if(90==(i=Math.abs(i)%180))return{width:e,height:o};var r=i%90*Math.PI/180,a=Math.sin(r),c=Math.cos(r),u=o*c+e*a,w=o*a+e*c;return i>90?{width:w,height:u}:{width:u,height:w}}({width:r.naturalWidth*Math.abs(r.scaleX||1),height:r.naturalHeight*Math.abs(r.scaleY||1),degree:r.rotate||0}),c=a.width,u=a.height,w=i.width*(c/i.naturalWidth),C=i.height*(u/i.naturalHeight);i.left-=(w-i.width)/2,i.top-=(C-i.height)/2,i.width=w,i.height=C,i.aspectRatio=c/u,i.naturalWidth=c,i.naturalHeight=u,this.limitCanvas(!0,!1)}(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCanvas(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,Mt(this.canvas,Z({width:i.width,height:i.height},se({translateX:i.left,translateY:i.top}))),this.renderImage(o),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(o){var e=this.canvasData,i=this.imageData,r=i.naturalWidth*(e.width/e.naturalWidth),a=i.naturalHeight*(e.height/e.naturalHeight);Z(i,{width:r,height:a,left:(e.width-r)/2,top:(e.height-a)/2}),Mt(this.image,Z({width:i.width,height:i.height},se(Z({translateX:i.left,translateY:i.top},i)))),o&&this.output()},initCropBox:function(){var o=this.options,e=this.canvasData,i=o.aspectRatio||o.initialAspectRatio,r=Number(o.autoCropArea)||.8,a={width:e.width,height:e.height};i&&(e.height*i>e.width?a.height=a.width/i:a.width=a.height*i),this.cropBoxData=a,this.limitCropBox(!0,!0),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),a.width=Math.max(a.minWidth,a.width*r),a.height=Math.max(a.minHeight,a.height*r),a.left=e.left+(e.width-a.width)/2,a.top=e.top+(e.height-a.height)/2,a.oldLeft=a.left,a.oldTop=a.top,this.initialCropBoxData=Z({},a)},limitCropBox:function(o,e){var i=this.options,r=this.containerData,a=this.canvasData,c=this.cropBoxData,u=this.limited,w=i.aspectRatio;if(o){var C=Number(i.minCropBoxWidth)||0,v=Number(i.minCropBoxHeight)||0,y=u?Math.min(r.width,a.width,a.width+a.left,r.width-a.left):r.width,T=u?Math.min(r.height,a.height,a.height+a.top,r.height-a.top):r.height;C=Math.min(C,r.width),v=Math.min(v,r.height),w&&(C&&v?v*w>C?v=C/w:C=v*w:C?v=C/w:v&&(C=v*w),T*w>y?T=y/w:y=T*w),c.minWidth=Math.min(C,y),c.minHeight=Math.min(v,T),c.maxWidth=y,c.maxHeight=T}e&&(u?(c.minLeft=Math.max(0,a.left),c.minTop=Math.max(0,a.top),c.maxLeft=Math.min(r.width,a.left+a.width)-c.width,c.maxTop=Math.min(r.height,a.top+a.height)-c.height):(c.minLeft=0,c.minTop=0,c.maxLeft=r.width-c.width,c.maxTop=r.height-c.height))},renderCropBox:function(){var o=this.options,e=this.containerData,i=this.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCropBox(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,o.movable&&o.cropBoxMovable&&ae(this.face,re,i.width>=e.width&&i.height>=e.height?"move":"all"),Mt(this.cropBox,Z({width:i.width,height:i.height},se({translateX:i.left,translateY:i.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Xt(this.element,Fe,this.getData())}},io={initPreview:function(){var o=this.element,e=this.crossOrigin,i=this.options.preview,r=e?this.crossOriginUrl:this.url,a=o.alt||"The image to preview",c=document.createElement("img");if(e&&(c.crossOrigin=e),c.src=r,c.alt=a,this.viewBox.appendChild(c),this.viewBoxImage=c,i){var u=i;"string"==typeof i?u=o.ownerDocument.querySelectorAll(i):i.querySelector&&(u=[i]),this.previews=u,nt(u,function(w){var C=document.createElement("img");ae(w,ge,{width:w.offsetWidth,height:w.offsetHeight,html:w.innerHTML}),e&&(C.crossOrigin=e),C.src=r,C.alt=a,C.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',w.innerHTML="",w.appendChild(C)})}},resetPreview:function(){nt(this.previews,function(o){var e=Ue(o,ge);Mt(o,{width:e.width,height:e.height}),o.innerHTML=e.html,function zn(n,o){if(Nt(n[o]))try{delete n[o]}catch{n[o]=void 0}else if(n.dataset)try{delete n.dataset[o]}catch{n.dataset[o]=void 0}else n.removeAttribute("data-".concat(Be(o)))}(o,ge)})},preview:function(){var o=this.imageData,e=this.canvasData,i=this.cropBoxData,r=i.width,a=i.height,c=o.width,u=o.height,w=i.left-e.left-o.left,C=i.top-e.top-o.top;!this.cropped||this.disabled||(Mt(this.viewBoxImage,Z({width:c,height:u},se(Z({translateX:-w,translateY:-C},o)))),nt(this.previews,function(v){var y=Ue(v,ge),T=y.width,H=y.height,W=T,tt=H,Q=1;r&&(tt=a*(Q=T/r)),a&&tt>H&&(W=r*(Q=H/a),tt=H),Mt(v,{width:W,height:tt}),Mt(v.getElementsByTagName("img")[0],Z({width:c*Q,height:u*Q},se(Z({translateX:-w*Q,translateY:-C*Q},o))))}))}},no={bind:function(){var o=this.element,e=this.options,i=this.cropper;ut(e.cropstart)&&mt(o,Le,e.cropstart),ut(e.cropmove)&&mt(o,xe,e.cropmove),ut(e.cropend)&&mt(o,Ne,e.cropend),ut(e.crop)&&mt(o,Fe,e.crop),ut(e.zoom)&&mt(o,De,e.zoom),mt(i,Ei,this.onCropStart=this.cropStart.bind(this)),e.zoomable&&e.zoomOnWheel&&mt(i,"wheel",this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&mt(i,Ii,this.onDblclick=this.dblclick.bind(this)),mt(o.ownerDocument,Pi,this.onCropMove=this.cropMove.bind(this)),mt(o.ownerDocument,ki,this.onCropEnd=this.cropEnd.bind(this)),e.responsive&&mt(window,"resize",this.onResize=this.resize.bind(this))},unbind:function(){var o=this.element,e=this.options,i=this.cropper;ut(e.cropstart)&&vt(o,Le,e.cropstart),ut(e.cropmove)&&vt(o,xe,e.cropmove),ut(e.cropend)&&vt(o,Ne,e.cropend),ut(e.crop)&&vt(o,Fe,e.crop),ut(e.zoom)&&vt(o,De,e.zoom),vt(i,Ei,this.onCropStart),e.zoomable&&e.zoomOnWheel&&vt(i,"wheel",this.onWheel,{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&vt(i,Ii,this.onDblclick),vt(o.ownerDocument,Pi,this.onCropMove),vt(o.ownerDocument,ki,this.onCropEnd),e.responsive&&vt(window,"resize",this.onResize)}},oo={resize:function(){if(!this.disabled){var u,w,o=this.options,e=this.container,i=this.containerData,r=e.offsetWidth/i.width,a=e.offsetHeight/i.height,c=Math.abs(r-1)>Math.abs(a-1)?r:a;1!==c&&(o.restore&&(u=this.getCanvasData(),w=this.getCropBoxData()),this.render(),o.restore&&(this.setCanvasData(nt(u,function(C,v){u[v]=C*c})),this.setCropBoxData(nt(w,function(C,v){w[v]=C*c}))))}},dblclick:function(){this.disabled||"none"===this.options.dragMode||this.setDragMode(function $n(n,o){return n.classList?n.classList.contains(o):n.className.indexOf(o)>-1}(this.dragBox,Ee)?"move":ke)},wheel:function(o){var e=this,i=Number(this.options.wheelZoomRatio)||.1,r=1;this.disabled||(o.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){e.wheeling=!1},50),o.deltaY?r=o.deltaY>0?1:-1:o.wheelDelta?r=-o.wheelDelta/120:o.detail&&(r=o.detail>0?1:-1),this.zoom(-r*i,o)))},cropStart:function(o){var e=o.buttons,i=o.button;if(!(this.disabled||("mousedown"===o.type||"pointerdown"===o.type&&"mouse"===o.pointerType)&&(Y(e)&&1!==e||Y(i)&&0!==i||o.ctrlKey))){var c,r=this.options,a=this.pointers;o.changedTouches?nt(o.changedTouches,function(u){a[u.identifier]=be(u)}):a[o.pointerId||0]=be(o),c=Object.keys(a).length>1&&r.zoomable&&r.zoomOnTouch?"zoom":Ue(o.target,re),kn.test(c)&&!1!==Xt(this.element,Le,{originalEvent:o,action:c})&&(o.preventDefault(),this.action=c,this.cropping=!1,"crop"===c&&(this.cropping=!0,st(this.dragBox,me)))}},cropMove:function(o){var e=this.action;if(!this.disabled&&e){var i=this.pointers;o.preventDefault(),!1!==Xt(this.element,xe,{originalEvent:o,action:e})&&(o.changedTouches?nt(o.changedTouches,function(r){Z(i[r.identifier]||{},be(r,!0))}):Z(i[o.pointerId||0]||{},be(o,!0)),this.change(o))}},cropEnd:function(o){if(!this.disabled){var e=this.action,i=this.pointers;o.changedTouches?nt(o.changedTouches,function(r){delete i[r.identifier]}):delete i[o.pointerId||0],e&&(o.preventDefault(),Object.keys(i).length||(this.action=""),this.cropping&&(this.cropping=!1,Vt(this.dragBox,me,this.cropped&&this.options.modal)),Xt(this.element,Ne,{originalEvent:o,action:e}))}}},ro={change:function(o){var Tt,i=this.canvasData,r=this.containerData,a=this.cropBoxData,c=this.pointers,u=this.action,w=this.options.aspectRatio,C=a.left,v=a.top,y=a.width,T=a.height,H=C+y,W=v+T,tt=0,Q=0,rt=r.width,ct=r.height,ot=!0;!w&&o.shiftKey&&(w=y&&T?y/T:1),this.limited&&(Q=a.minTop,rt=(tt=a.minLeft)+Math.min(r.width,i.width,i.left+i.width),ct=Q+Math.min(r.height,i.height,i.top+i.height));var ht=c[Object.keys(c)[0]],_={x:ht.endX-ht.startX,y:ht.endY-ht.startY},J=function(gt){switch(gt){case"e":H+_.x>rt&&(_.x=rt-H);break;case"w":C+_.x<tt&&(_.x=tt-C);break;case Rt:v+_.y<Q&&(_.y=Q-v);break;case"s":W+_.y>ct&&(_.y=ct-W)}};switch(u){case"all":C+=_.x,v+=_.y;break;case"e":if(_.x>=0&&(H>=rt||w&&(v<=Q||W>=ct))){ot=!1;break}J("e"),(y+=_.x)<0&&(u="w",C-=y=-y),w&&(v+=(a.height-(T=y/w))/2);break;case Rt:if(_.y<=0&&(v<=Q||w&&(C<=tt||H>=rt))){ot=!1;break}J(Rt),v+=_.y,(T-=_.y)<0&&(u="s",v-=T=-T),w&&(C+=(a.width-(y=T*w))/2);break;case"w":if(_.x<=0&&(C<=tt||w&&(v<=Q||W>=ct))){ot=!1;break}J("w"),C+=_.x,(y-=_.x)<0&&(u="e",C-=y=-y),w&&(v+=(a.height-(T=y/w))/2);break;case"s":if(_.y>=0&&(W>=ct||w&&(C<=tt||H>=rt))){ot=!1;break}J("s"),(T+=_.y)<0&&(u=Rt,v-=T=-T),w&&(C+=(a.width-(y=T*w))/2);break;case ee:if(w){if(_.y<=0&&(v<=Q||H>=rt)){ot=!1;break}J(Rt),v+=_.y,y=(T-=_.y)*w}else J(Rt),J("e"),_.x>=0?H<rt?y+=_.x:_.y<=0&&v<=Q&&(ot=!1):y+=_.x,_.y<=0?v>Q&&(T-=_.y,v+=_.y):(T-=_.y,v+=_.y);y<0&&T<0?(u=oe,v-=T=-T,C-=y=-y):y<0?(u=ie,C-=y=-y):T<0&&(u=ne,v-=T=-T);break;case ie:if(w){if(_.y<=0&&(v<=Q||C<=tt)){ot=!1;break}J(Rt),v+=_.y,C+=a.width-(y=(T-=_.y)*w)}else J(Rt),J("w"),_.x<=0?C>tt?(y-=_.x,C+=_.x):_.y<=0&&v<=Q&&(ot=!1):(y-=_.x,C+=_.x),_.y<=0?v>Q&&(T-=_.y,v+=_.y):(T-=_.y,v+=_.y);y<0&&T<0?(u=ne,v-=T=-T,C-=y=-y):y<0?(u=ee,C-=y=-y):T<0&&(u=oe,v-=T=-T);break;case oe:if(w){if(_.x<=0&&(C<=tt||W>=ct)){ot=!1;break}J("w"),C+=_.x,T=(y-=_.x)/w}else J("s"),J("w"),_.x<=0?C>tt?(y-=_.x,C+=_.x):_.y>=0&&W>=ct&&(ot=!1):(y-=_.x,C+=_.x),_.y>=0?W<ct&&(T+=_.y):T+=_.y;y<0&&T<0?(u=ee,v-=T=-T,C-=y=-y):y<0?(u=ne,C-=y=-y):T<0&&(u=ie,v-=T=-T);break;case ne:if(w){if(_.x>=0&&(H>=rt||W>=ct)){ot=!1;break}J("e"),T=(y+=_.x)/w}else J("s"),J("e"),_.x>=0?H<rt?y+=_.x:_.y>=0&&W>=ct&&(ot=!1):y+=_.x,_.y>=0?W<ct&&(T+=_.y):T+=_.y;y<0&&T<0?(u=ie,v-=T=-T,C-=y=-y):y<0?(u=oe,C-=y=-y):T<0&&(u=ee,v-=T=-T);break;case"move":this.move(_.x,_.y),ot=!1;break;case"zoom":this.zoom(function Xn(n){var o=Bt({},n),e=0;return nt(n,function(i,r){delete o[r],nt(o,function(a){var c=Math.abs(i.startX-a.startX),u=Math.abs(i.startY-a.startY),w=Math.abs(i.endX-a.endX),C=Math.abs(i.endY-a.endY),v=Math.sqrt(c*c+u*u),T=(Math.sqrt(w*w+C*C)-v)/v;Math.abs(T)>Math.abs(e)&&(e=T)})}),e}(c),o),ot=!1;break;case"crop":if(!_.x||!_.y){ot=!1;break}Tt=zi(this.cropper),C=ht.startX-Tt.left,v=ht.startY-Tt.top,y=a.minWidth,T=a.minHeight,_.x>0?u=_.y>0?ne:ee:_.x<0&&(C-=y,u=_.y>0?oe:ie),_.y<0&&(v-=T),this.cropped||(yt(this.cropBox,pt),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}ot&&(a.width=y,a.height=T,a.left=C,a.top=v,this.action=u,this.renderCropBox()),nt(c,function(at){at.startX=at.endX,at.startY=at.endY})}},ao={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&st(this.dragBox,me),yt(this.cropBox,pt),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Z({},this.initialImageData),this.canvasData=Z({},this.initialCanvasData),this.cropBoxData=Z({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Z(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),yt(this.dragBox,me),st(this.cropBox,pt)),this},replace:function(o){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&o&&(this.isImg&&(this.element.src=o),e?(this.url=o,this.image.src=o,this.ready&&(this.viewBoxImage.src=o,nt(this.previews,function(i){i.getElementsByTagName("img")[0].src=o}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(o))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,yt(this.cropper,_i)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,st(this.cropper,_i)),this},destroy:function(){var o=this.element;return o[q]?(o[q]=void 0,this.isImg&&this.replaced&&(o.src=this.originalUrl),this.uncreate(),this):this},move:function(o){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,i=this.canvasData,r=i.left,a=i.top;return this.moveTo(je(o)?o:r+Number(o),je(e)?e:a+Number(e))},moveTo:function(o){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,i=this.canvasData,r=!1;return o=Number(o),e=Number(e),this.ready&&!this.disabled&&this.options.movable&&(Y(o)&&(i.left=o,r=!0),Y(e)&&(i.top=e,r=!0),r&&this.renderCanvas(!0)),this},zoom:function(o,e){var i=this.canvasData;return o=Number(o),this.zoomTo(i.width*(o=o<0?1/(1-o):1+o)/i.naturalWidth,null,e)},zoomTo:function(o,e,i){var r=this.options,a=this.canvasData,c=a.width,u=a.height,w=a.naturalWidth,C=a.naturalHeight;if((o=Number(o))>=0&&this.ready&&!this.disabled&&r.zoomable){var v=w*o,y=C*o;if(!1===Xt(this.element,De,{ratio:o,oldRatio:c/w,originalEvent:i}))return this;if(i){var T=this.pointers,H=zi(this.cropper),W=T&&Object.keys(T).length?function Yn(n){var o=0,e=0,i=0;return nt(n,function(r){o+=r.startX,e+=r.startY,i+=1}),{pageX:o/=i,pageY:e/=i}}(T):{pageX:i.pageX,pageY:i.pageY};a.left-=(W.pageX-H.left-a.left)/c*(v-c),a.top-=(W.pageY-H.top-a.top)/u*(y-u)}else Gt(e)&&Y(e.x)&&Y(e.y)?(a.left-=(e.x-a.left)/c*(v-c),a.top-=(e.y-a.top)/u*(y-u)):(a.left-=(v-c)/2,a.top-=(y-u)/2);a.width=v,a.height=y,this.renderCanvas(!0)}return this},rotate:function(o){return this.rotateTo((this.imageData.rotate||0)+Number(o))},rotateTo:function(o){return Y(o=Number(o))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=o%360,this.renderCanvas(!0,!0)),this},scaleX:function(o){var e=this.imageData.scaleY;return this.scale(o,Y(e)?e:1)},scaleY:function(o){var e=this.imageData.scaleX;return this.scale(Y(e)?e:1,o)},scale:function(o){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,i=this.imageData,r=!1;return o=Number(o),e=Number(e),this.ready&&!this.disabled&&this.options.scalable&&(Y(o)&&(i.scaleX=o,r=!0),Y(e)&&(i.scaleY=e,r=!0),r&&this.renderCanvas(!0,!0)),this},getData:function(){var c,o=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.options,i=this.imageData,r=this.canvasData,a=this.cropBoxData;if(this.ready&&this.cropped){var u=i.width/i.naturalWidth;if(nt(c={x:a.left-r.left,y:a.top-r.top,width:a.width,height:a.height},function(v,y){c[y]=v/u}),o){var w=Math.round(c.y+c.height),C=Math.round(c.x+c.width);c.x=Math.round(c.x),c.y=Math.round(c.y),c.width=C-c.x,c.height=w-c.y}}else c={x:0,y:0,width:0,height:0};return e.rotatable&&(c.rotate=i.rotate||0),e.scalable&&(c.scaleX=i.scaleX||1,c.scaleY=i.scaleY||1),c},setData:function(o){var e=this.options,i=this.imageData,r=this.canvasData,a={};if(this.ready&&!this.disabled&&Gt(o)){var c=!1;e.rotatable&&Y(o.rotate)&&o.rotate!==i.rotate&&(i.rotate=o.rotate,c=!0),e.scalable&&(Y(o.scaleX)&&o.scaleX!==i.scaleX&&(i.scaleX=o.scaleX,c=!0),Y(o.scaleY)&&o.scaleY!==i.scaleY&&(i.scaleY=o.scaleY,c=!0)),c&&this.renderCanvas(!0,!0);var u=i.width/i.naturalWidth;Y(o.x)&&(a.left=o.x*u+r.left),Y(o.y)&&(a.top=o.y*u+r.top),Y(o.width)&&(a.width=o.width*u),Y(o.height)&&(a.height=o.height*u),this.setCropBoxData(a)}return this},getContainerData:function(){return this.ready?Z({},this.containerData):{}},getImageData:function(){return this.sized?Z({},this.imageData):{}},getCanvasData:function(){var o=this.canvasData,e={};return this.ready&&nt(["left","top","width","height","naturalWidth","naturalHeight"],function(i){e[i]=o[i]}),e},setCanvasData:function(o){var e=this.canvasData,i=e.aspectRatio;return this.ready&&!this.disabled&&Gt(o)&&(Y(o.left)&&(e.left=o.left),Y(o.top)&&(e.top=o.top),Y(o.width)?(e.width=o.width,e.height=o.width/i):Y(o.height)&&(e.height=o.height,e.width=o.height*i),this.renderCanvas(!0)),this},getCropBoxData:function(){var e,o=this.cropBoxData;return this.ready&&this.cropped&&(e={left:o.left,top:o.top,width:o.width,height:o.height}),e||{}},setCropBoxData:function(o){var r,a,e=this.cropBoxData,i=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&Gt(o)&&(Y(o.left)&&(e.left=o.left),Y(o.top)&&(e.top=o.top),Y(o.width)&&o.width!==e.width&&(r=!0,e.width=o.width),Y(o.height)&&o.height!==e.height&&(a=!0,e.height=o.height),i&&(r?e.height=e.width/i:a&&(e.width=e.height*i)),this.renderCropBox()),this},getCroppedCanvas:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var e=this.canvasData,i=function Hn(n,o,e,i){var r=o.aspectRatio,a=o.naturalWidth,c=o.naturalHeight,u=o.rotate,w=void 0===u?0:u,C=o.scaleX,v=void 0===C?1:C,y=o.scaleY,T=void 0===y?1:y,H=e.aspectRatio,W=e.naturalWidth,tt=e.naturalHeight,Q=i.fillColor,rt=void 0===Q?"transparent":Q,ct=i.imageSmoothingEnabled,ot=void 0===ct||ct,Tt=i.imageSmoothingQuality,ht=void 0===Tt?"low":Tt,_=i.maxWidth,J=void 0===_?1/0:_,at=i.maxHeight,gt=void 0===at?1/0:at,_t=i.minWidth,Lt=void 0===_t?0:_t,Dt=i.minHeight,Et=void 0===Dt?0:Dt,wt=document.createElement("canvas"),dt=wt.getContext("2d"),jt=It({aspectRatio:H,width:J,height:gt}),Te=It({aspectRatio:H,width:Lt,height:Et},"cover"),Ci=Math.min(jt.width,Math.max(Te.width,W)),yi=Math.min(jt.height,Math.max(Te.height,tt)),wn=It({aspectRatio:r,width:J,height:gt}),Sn=It({aspectRatio:r,width:Lt,height:Et},"cover"),Tn=Math.min(wn.width,Math.max(Sn.width,a)),_n=Math.min(wn.height,Math.max(Sn.height,c)),ta=[-Tn/2,-_n/2,Tn,_n];return wt.width=zt(Ci),wt.height=zt(yi),dt.fillStyle=rt,dt.fillRect(0,0,Ci,yi),dt.save(),dt.translate(Ci/2,yi/2),dt.rotate(w*Math.PI/180),dt.scale(v,T),dt.imageSmoothingEnabled=ot,dt.imageSmoothingQuality=ht,dt.drawImage.apply(dt,[n].concat(ft(ta.map(function(ea){return Math.floor(zt(ea))})))),dt.restore(),wt}(this.image,this.imageData,e,o);if(!this.cropped)return i;var r=this.getData(o.rounded),a=r.x,c=r.y,u=r.width,w=r.height,C=i.width/Math.floor(e.naturalWidth);1!==C&&(a*=C,c*=C,u*=C,w*=C);var v=u/w,y=It({aspectRatio:v,width:o.maxWidth||1/0,height:o.maxHeight||1/0}),T=It({aspectRatio:v,width:o.minWidth||0,height:o.minHeight||0},"cover"),H=It({aspectRatio:v,width:o.width||(1!==C?i.width:u),height:o.height||(1!==C?i.height:w)}),W=H.width,tt=H.height;W=Math.min(y.width,Math.max(T.width,W)),tt=Math.min(y.height,Math.max(T.height,tt));var Q=document.createElement("canvas"),rt=Q.getContext("2d");Q.width=zt(W),Q.height=zt(tt),rt.fillStyle=o.fillColor||"transparent",rt.fillRect(0,0,W,tt);var ct=o.imageSmoothingEnabled,Tt=o.imageSmoothingQuality;rt.imageSmoothingEnabled=void 0===ct||ct,Tt&&(rt.imageSmoothingQuality=Tt);var gt,_t,Lt,Dt,Et,wt,ht=i.width,_=i.height,J=a,at=c;J<=-u||J>ht?(J=0,gt=0,Lt=0,Et=0):J<=0?(Lt=-J,J=0,Et=gt=Math.min(ht,u+J)):J<=ht&&(Lt=0,Et=gt=Math.min(u,ht-J)),gt<=0||at<=-w||at>_?(at=0,_t=0,Dt=0,wt=0):at<=0?(Dt=-at,at=0,wt=_t=Math.min(_,w+at)):at<=_&&(Dt=0,wt=_t=Math.min(w,_-at));var dt=[J,at,gt,_t];if(Et>0&&wt>0){var jt=W/u;dt.push(Lt*jt,Dt*jt,Et*jt,wt*jt)}return rt.drawImage.apply(rt,[i].concat(ft(dt.map(function(Te){return Math.floor(zt(Te))})))),Q},setAspectRatio:function(o){var e=this.options;return!this.disabled&&!je(o)&&(e.aspectRatio=Math.max(0,o)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(o){var e=this.options,i=this.dragBox,r=this.face;if(this.ready&&!this.disabled){var a=o===ke,c=e.movable&&"move"===o;e.dragMode=o=a||c?o:"none",ae(i,re,o),Vt(i,Ee,a),Vt(i,Pe,c),e.cropBoxMovable||(ae(r,re,o),Vt(r,Ee,a),Vt(r,Pe,c))}return this}},so=Ct.Cropper,Wi=function(){function n(o){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function _e(n,o){if(!(n instanceof o))throw new TypeError("Cannot call a class as a function")}(this,n),!o||!xn.test(o.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=o,this.options=Z({},Bi,Gt(e)&&e),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return function he(n,o,e){return o&&Ot(n.prototype,o),e&&Ot(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}(n,[{key:"init",value:function(){var r,e=this.element,i=e.tagName.toLowerCase();if(!e[q]){if(e[q]=this,"img"===i){if(this.isImg=!0,r=e.getAttribute("src")||"",this.originalUrl=r,!r)return;r=e.src}else"canvas"===i&&window.HTMLCanvasElement&&(r=e.toDataURL());this.load(r)}}},{key:"load",value:function(e){var i=this;if(e){this.url=e,this.imageData={};var r=this.element,a=this.options;if(!a.rotatable&&!a.scalable&&(a.checkOrientation=!1),!a.checkOrientation||!window.ArrayBuffer)return void this.clone();if(Fn.test(e))return void(Nn.test(e)?this.read(function Kn(n){var o=n.replace(Jn,""),e=atob(o),i=new ArrayBuffer(e.length),r=new Uint8Array(i);return nt(r,function(a,c){r[c]=e.charCodeAt(c)}),i}(e)):this.clone());var c=new XMLHttpRequest,u=this.clone.bind(this);this.reloading=!0,this.xhr=c,c.onabort=u,c.onerror=u,c.ontimeout=u,c.onprogress=function(){c.getResponseHeader("content-type")!==Li&&c.abort()},c.onload=function(){i.read(c.response)},c.onloadend=function(){i.reloading=!1,i.xhr=null},a.checkCrossOrigin&&Vi(e)&&r.crossOrigin&&(e=Xi(e)),c.open("GET",e,!0),c.responseType="arraybuffer",c.withCredentials="use-credentials"===r.crossOrigin,c.send()}}},{key:"read",value:function(e){var i=this.options,r=this.imageData,a=function Zn(n){var e,o=new DataView(n);try{var i,r,a;if(255===o.getUint8(0)&&216===o.getUint8(1))for(var c=o.byteLength,u=2;u+1<c;){if(255===o.getUint8(u)&&225===o.getUint8(u+1)){r=u;break}u+=1}if(r){var C=r+10;if("Exif"===function Qn(n,o,e){var i="";e+=o;for(var r=o;r<e;r+=1)i+=Yi(n.getUint8(r));return i}(o,r+4,4)){var v=o.getUint16(C);if(((i=18761===v)||19789===v)&&42===o.getUint16(C+2,i)){var y=o.getUint32(C+4,i);y>=8&&(a=C+y)}}}if(a){var H,W,T=o.getUint16(a,i);for(W=0;W<T;W+=1)if(274===o.getUint16(H=a+12*W+2,i)){e=o.getUint16(H+=8,i),o.setUint16(H,1,i);break}}}catch{e=1}return e}(e),c=0,u=1,w=1;if(a>1){this.url=function qn(n,o){for(var e=[],r=new Uint8Array(n);r.length>0;)e.push(Yi.apply(null,Oi(r.subarray(0,8192)))),r=r.subarray(8192);return"data:".concat(o,";base64,").concat(btoa(e.join("")))}(e,Li);var C=function to(n){var o=0,e=1,i=1;switch(n){case 2:e=-1;break;case 3:o=-180;break;case 4:i=-1;break;case 5:o=90,i=-1;break;case 6:o=90;break;case 7:o=90,e=-1;break;case 8:o=-90}return{rotate:o,scaleX:e,scaleY:i}}(a);c=C.rotate,u=C.scaleX,w=C.scaleY}i.rotatable&&(r.rotate=c),i.scalable&&(r.scaleX=u,r.scaleY=w),this.clone()}},{key:"clone",value:function(){var e=this.element,i=this.url,r=e.crossOrigin,a=i;this.options.checkCrossOrigin&&Vi(i)&&(r||(r="anonymous"),a=Xi(i)),this.crossOrigin=r,this.crossOriginUrl=a;var c=document.createElement("img");r&&(c.crossOrigin=r),c.src=a||i,c.alt=e.alt||"The image to crop",this.image=c,c.onload=this.start.bind(this),c.onerror=this.stop.bind(this),st(c,Ai),e.parentNode.insertBefore(c,e.nextSibling)}},{key:"start",value:function(){var e=this,i=this.image;i.onload=null,i.onerror=null,this.sizing=!0;var r=Ct.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Ct.navigator.userAgent),a=function(C,v){Z(e.imageData,{naturalWidth:C,naturalHeight:v,aspectRatio:C/v}),e.initialImageData=Z({},e.imageData),e.sizing=!1,e.sized=!0,e.build()};if(!i.naturalWidth||r){var c=document.createElement("img"),u=document.body||document.documentElement;this.sizingImage=c,c.onload=function(){a(c.width,c.height),r||u.removeChild(c)},c.src=i.src,r||(c.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",u.appendChild(c))}else a(i.naturalWidth,i.naturalHeight)}},{key:"stop",value:function(){var e=this.image;e.onload=null,e.onerror=null,e.parentNode.removeChild(e),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var e=this.element,i=this.options,r=this.image,a=e.parentNode,c=document.createElement("div");c.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var u=c.querySelector(".".concat(q,"-container")),w=u.querySelector(".".concat(q,"-canvas")),C=u.querySelector(".".concat(q,"-drag-box")),v=u.querySelector(".".concat(q,"-crop-box")),y=v.querySelector(".".concat(q,"-face"));this.container=a,this.cropper=u,this.canvas=w,this.dragBox=C,this.cropBox=v,this.viewBox=u.querySelector(".".concat(q,"-view-box")),this.face=y,w.appendChild(r),st(e,pt),a.insertBefore(u,e.nextSibling),yt(r,Ai),this.initPreview(),this.bind(),i.initialAspectRatio=Math.max(0,i.initialAspectRatio)||NaN,i.aspectRatio=Math.max(0,i.aspectRatio)||NaN,i.viewMode=Math.max(0,Math.min(3,Math.round(i.viewMode)))||0,st(v,pt),i.guides||st(v.getElementsByClassName("".concat(q,"-dashed")),pt),i.center||st(v.getElementsByClassName("".concat(q,"-center")),pt),i.background&&st(u,"".concat(q,"-bg")),i.highlight||st(y,Mn),i.cropBoxMovable&&(st(y,Pe),ae(y,re,"all")),i.cropBoxResizable||(st(v.getElementsByClassName("".concat(q,"-line")),pt),st(v.getElementsByClassName("".concat(q,"-point")),pt)),this.render(),this.ready=!0,this.setDragMode(i.dragMode),i.autoCrop&&this.crop(),this.setData(i.data),ut(i.ready)&&mt(e,"ready",i.ready,{once:!0}),Xt(e,"ready")}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var e=this.cropper.parentNode;e&&e.removeChild(this.cropper),yt(this.element,pt)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=so,n}},{key:"setDefaults",value:function(e){Z(Bi,Gt(e)&&e)}}])}();Z(Wi.prototype,eo,io,no,oo,ro,ao);var xt=d(54741),$e=d(68314),co=d(345);const lo=["qrcElement"];let po=(()=>{class n{constructor(e,i){this.renderer=e,this.sanitizer=i,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new t.bkB,this.context=null}ngOnChanges(){var e=this;return(0,g.A)(function*(){yield e.createQRCode()})()}isValidQrCodeText(e){return!1===this.allowEmptyString?!(typeof e>"u"||""===e||"null"===e||null===e):!(typeof e>"u")}toDataURL(e){return new Promise((i,r)=>{(0,$e.dY)(this.qrdata,e,(a,c)=>{a?r(a):i(c)})})}toCanvas(e,i){return new Promise((r,a)=>{(0,$e.mo)(e,this.qrdata,i,c=>{c?a(c):r("success")})})}toSVG(e){return new Promise((i,r)=>{(0,$e.toString)(this.qrdata,e,(a,c)=>{a?r(a):i(c)})})}renderElement(e){for(const i of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,i);this.renderer.appendChild(this.qrcElement.nativeElement,e)}createQRCode(){var e=this;return(0,g.A)(function*(){e.version&&e.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),e.version=40):e.version&&e.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),e.version=1):void 0!==e.version&&isNaN(e.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),e.version=void 0);try{if(!e.isValidQrCodeText(e.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");e.isValidQrCodeText(e.qrdata)&&""===e.qrdata&&(e.qrdata=" ");const i={color:{dark:e.colorDark,light:e.colorLight},errorCorrectionLevel:e.errorCorrectionLevel,margin:e.margin,scale:e.scale,version:e.version,width:e.width},r=e.imageSrc,a=e.imageHeight||40,c=e.imageWidth||40;switch(e.elementType){case"canvas":{const u=e.renderer.createElement("canvas");e.context=u.getContext("2d"),e.toCanvas(u,i).then(()=>{if(e.ariaLabel&&e.renderer.setAttribute(u,"aria-label",`${e.ariaLabel}`),e.title&&e.renderer.setAttribute(u,"title",`${e.title}`),r&&e.context){e.centerImage=new Image(c,a),r!==e.centerImage.src&&(e.centerImage.src=r),a!==e.centerImage.height&&(e.centerImage.height=a),c!==e.centerImage.width&&(e.centerImage.width=c);const w=e.centerImage;w&&(w.onload=()=>{e.context?.drawImage(w,u.width/2-c/2,u.height/2-a/2,c,a)})}e.renderElement(u),e.emitQRCodeURL(u)}).catch(w=>{console.error("[angularx-qrcode] canvas error:",w)});break}case"svg":{const u=e.renderer.createElement("div");e.toSVG(i).then(w=>{e.renderer.setProperty(u,"innerHTML",w);const C=u.firstChild;e.renderer.setAttribute(C,"height",`${e.width}`),e.renderer.setAttribute(C,"width",`${e.width}`),e.renderElement(C),e.emitQRCodeURL(C)}).catch(w=>{console.error("[angularx-qrcode] svg error:",w)});break}default:{const u=e.renderer.createElement("img");e.toDataURL(i).then(w=>{e.alt&&u.setAttribute("alt",e.alt),e.ariaLabel&&u.setAttribute("aria-label",e.ariaLabel),u.setAttribute("src",w),e.title&&u.setAttribute("title",e.title),e.renderElement(u),e.emitQRCodeURL(u)}).catch(w=>{console.error("[angularx-qrcode] img/url error:",w)})}}}catch(i){console.error("[angularx-qrcode] Error generating QR Code:",i.message)}})()}emitQRCodeURL(e){const i=e.constructor.name;if(i===SVGSVGElement.name){const c=new Blob([e.outerHTML],{type:"image/svg+xml"}),u=URL.createObjectURL(c),w=this.sanitizer.bypassSecurityTrustUrl(u);return void this.qrCodeURL.emit(w)}let r="";i===HTMLCanvasElement.name&&(r=e.toDataURL("image/png")),i===HTMLImageElement.name&&(r=e.src),fetch(r).then(a=>a.blob()).then(a=>URL.createObjectURL(a)).then(a=>this.sanitizer.bypassSecurityTrustUrl(a)).then(a=>{this.qrCodeURL.emit(a)}).catch(a=>{console.error("[angularx-qrcode] Error when fetching image/png URL: "+a)})}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(t.sFG),t.rXU(co.up))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["qrcode"]],viewQuery:function(i,r){if(1&i&&t.GBs(lo,7),2&i){let a;t.mGM(a=t.lsd())&&(r.qrcElement=a.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[t.OA$],decls:2,vars:2,consts:[["qrcElement",""]],template:function(i,r){1&i&&t.nrm(0,"div",null,0),2&i&&t.HbH(r.cssClass)},encapsulation:2,changeDetection:0})}}return n})(),uo=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({})}}return n})();var Ge=d(33380);const Hi=()=>({standalone:!0});function ho(n,o){if(1&n&&(t.j41(0,"span",1),t.nrm(1,"i",3),t.j41(2,"span",4),t.EFF(3),t.nI1(4,"abpLocalization"),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(3),t.JRh(t.bMT(4,1,e.verifiedLabel||"AbpAccount::Verified"))}}function fo(n,o){if(1&n){const e=t.RV6();t.j41(0,"button",5),t.bIt("click",function(){t.eBV(e);const r=t.XpG(2);return t.Njj(r.onBtnClick())}),t.nrm(1,"i",6),t.EFF(2),t.nI1(3,"abpLocalization"),t.k0s()}if(2&n){const e=t.XpG(2);t.R7$(2),t.SpI(" ",t.bMT(3,1,e.buttonLabel||"AbpAccount::Verify")," ")}}function mo(n,o){if(1&n&&t.DNE(0,ho,5,3,"span",1)(1,fo,4,3,"button",2),2&n){const e=t.XpG();t.vxM(e.verified?0:1)}}function go(n,o){if(1&n&&(t.j41(0,"span",0),t.nI1(1,"abpLocalization"),t.nrm(2,"i",7),t.j41(3,"span",8),t.EFF(4),t.nI1(5,"abpLocalization"),t.k0s()()),2&n){const e=t.XpG();t.Y8G("ngbTooltip",t.bMT(1,2,e.editedTooltip||"AbpAccount::FirstlySubmitToVerify")),t.R7$(4),t.SpI(" ",t.bMT(5,4,e.editedLabel||"AbpAccount::NotVerified")," ")}}function bo(n,o){if(1&n){const e=t.RV6();t.j41(0,"div",4)(1,"abp-personal-settings-verify-button",5),t.nI1(2,"async"),t.bIt("btnClick",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.sendEmailVerificationToken())}),t.k0s()()}if(2&n){const e=t.XpG();t.R7$(),t.Y8G("verified",e.isVerified)("edited",t.bMT(2,2,e.isValueChanged$))}}const vo=()=>({size:"sm"});function Co(n,o){if(1&n){const e=t.RV6();t.j41(0,"div",7)(1,"abp-personal-settings-verify-button",9),t.nI1(2,"async"),t.bIt("btnClick",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.initPhoneNumberConfirmation())}),t.k0s()()}if(2&n){const e=t.XpG();t.R7$(),t.Y8G("verified",e.isVerified)("edited",t.bMT(2,2,e.isValueChanged$))}}function yo(n,o){1&n&&(t.j41(0,"h5"),t.EFF(1),t.nI1(2,"abpLocalization"),t.k0s()),2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"AbpAccount::Verify")))}function wo(n,o){if(1&n){const e=t.RV6();t.j41(0,"form",10),t.bIt("ngSubmit",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.confirmPhoneNumber())}),t.j41(1,"div",11)(2,"p"),t.EFF(3),t.nI1(4,"abpLocalization"),t.k0s(),t.j41(5,"div",3)(6,"label",12),t.EFF(7),t.nI1(8,"abpLocalization"),t.k0s(),t.j41(9,"input",13),t.mxI("ngModelChange",function(r){t.eBV(e);const a=t.XpG();return t.DH7(a.token,r)||(a.token=r),t.Njj(r)}),t.k0s()()()()}if(2&n){const e=t.XpG();t.R7$(3),t.SpI(" ",t.i5U(4,3,"AbpAccount::ConfirmationTokenSentMessage",e.formControl.value)," "),t.R7$(4),t.JRh(t.bMT(8,6,"AbpAccount::PhoneConfirmationToken")),t.R7$(2),t.R50("ngModel",e.token)}}function So(n,o){if(1&n){const e=t.RV6();t.j41(0,"button",14),t.EFF(1),t.nI1(2,"abpLocalization"),t.k0s(),t.j41(3,"abp-button",15),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.confirmPhoneNumber())}),t.EFF(4),t.nI1(5,"abpLocalization"),t.k0s()}2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,2,"AbpAccount::Cancel")," "),t.R7$(3),t.SpI(" ",t.bMT(5,4,"AbpAccount::Save")," "))}const Yt=(n,o)=>({"fa-eye-slash":n,"fa-eye":o});function To(n,o){if(1&n){const e=t.RV6();t.j41(0,"div",1)(1,"label",11),t.EFF(2),t.nI1(3,"abpLocalization"),t.j41(4,"span"),t.EFF(5," * "),t.k0s()(),t.j41(6,"div",4),t.nrm(7,"input",12),t.j41(8,"button",6),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.showCurrentPassword=!r.showCurrentPassword)}),t.nrm(9,"i",7),t.k0s()()()}if(2&n){const e=t.XpG();t.R7$(2),t.SpI(" ",t.bMT(3,3,"AbpIdentity::DisplayName:CurrentPassword")," "),t.R7$(5),t.Y8G("abpShowPassword",e.showCurrentPassword),t.R7$(2),t.Y8G("ngClass",t.l_i(5,Yt,!e.showCurrentPassword,e.showCurrentPassword))}}function _o(n,o){if(1&n&&(t.nrm(0,"abp-password-complexity-indicator",13),t.j41(1,"div",14),t.EFF(2),t.nI1(3,"abpLocalization"),t.j41(4,"span"),t.EFF(5),t.nI1(6,"abpLocalization"),t.k0s()()),2&n){const e=t.XpG();t.Y8G("progressBar",e.progressBar),t.R7$(2),t.SpI(" ",t.bMT(3,5,"AbpAccount::Strength"),"\xa0 "),t.R7$(2),t.xc7("color",null==e.progressBar?null:e.progressBar.bgColor),t.R7$(),t.JRh(t.bMT(6,7,"AbpAccount::"+(null==e.progressBar?null:e.progressBar.text)))}}const Ao=()=>["/account/login"];function Ro(n,o){1&n&&(t.j41(0,"p"),t.EFF(1),t.nI1(2,"abpLocalization"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"AbpAccount::YourEmailAddressIsSuccessfullyConfirmed")," "))}function Mo(n,o){1&n&&(t.j41(0,"p",0),t.EFF(1),t.nI1(2,"abpLocalization"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"AbpUi::ValidationErrorMessage")," "))}function Io(n,o){if(1&n){const e=t.RV6();t.j41(0,"form",1),t.bIt("ngSubmit",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.onSubmit())}),t.j41(1,"p"),t.EFF(2),t.nI1(3,"abpLocalization"),t.k0s(),t.j41(4,"div",2)(5,"div",3),t.nrm(6,"input",4),t.j41(7,"label",5),t.EFF(8),t.nI1(9,"abpLocalization"),t.k0s()(),t.j41(10,"div",6)(11,"a",7),t.nrm(12,"i",8),t.EFF(13),t.nI1(14,"abpLocalization"),t.k0s(),t.j41(15,"abp-button",9),t.nrm(16,"i",10),t.EFF(17),t.nI1(18,"abpLocalization"),t.k0s()()()()}if(2&n){const e=t.XpG();t.Y8G("formGroup",e.form),t.R7$(2),t.JRh(t.bMT(3,6,"AbpAccount::SendPasswordResetLink_Information")),t.R7$(6),t.JRh(t.bMT(9,8,"AbpAccount::EmailAddress")),t.R7$(5),t.SpI(" ",t.bMT(14,10,"AbpAccount::Login")," "),t.R7$(2),t.Y8G("loading",e.inProgress),t.R7$(2),t.SpI(" ",t.bMT(18,12,"AbpAccount::Submit")," ")}}function Eo(n,o){1&n&&(t.j41(0,"p"),t.EFF(1),t.nI1(2,"abpLocalization"),t.k0s(),t.j41(3,"a",11)(4,"button",12),t.nrm(5,"i",13),t.EFF(6),t.nI1(7,"abpLocalization"),t.k0s()()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,2,"AbpAccount::PasswordResetMailSentMessage")," "),t.R7$(5),t.SpI(" ",t.bMT(7,4,"AbpAccount::BackToLogin")," "))}const Qi=["recaptcha"];function Po(n,o){1&n&&(t.nrm(0,"div",1),t.nI1(1,"abpLocalization")),2&n&&t.Y8G("innerHTML",t.i5U(1,1,"AbpAccount::LinkAccountWarning","/account/login"),t.npT)}function ko(n,o){1&n&&(t.j41(0,"h5",2),t.EFF(1),t.nI1(2,"abpLocalization"),t.j41(3,"a",21),t.EFF(4),t.nI1(5,"abpLocalization"),t.k0s()()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,2,"AbpAccount::NotAMemberYet")," "),t.R7$(3),t.SpI(" ",t.bMT(5,4,"AbpAccount::Register")," "))}const Fo=(n,o)=>o.name,No=n=>({active:n});function xo(n,o){if(1&n){const e=t.RV6();t.j41(0,"li",10),t.bIt("click",function(){t.eBV(e);const r=t.XpG().$implicit,a=t.XpG(2);return t.Njj(a.selected=r)}),t.j41(1,"a",11),t.EFF(2),t.nI1(3,"abpLocalization"),t.k0s()()}if(2&n){const e=t.XpG().$implicit,i=t.XpG(2);t.R7$(),t.Y8G("ngClass",t.eq3(4,No,(null==i.selected?null:i.selected.name)===e.name)),t.R7$(),t.SpI(" ",t.bMT(3,2,e.name)," ")}}function Lo(n,o){1&n&&t.DNE(0,xo,4,6,"li",9),2&n&&t.Y8G("abpPermission",o.$implicit.requiredPolicy)}function Do(n,o){1&n&&t.eu8(0)}function jo(n,o){if(1&n&&(t.j41(0,"div",8)(1,"div",12)(2,"h2"),t.EFF(3),t.nI1(4,"abpLocalization"),t.k0s(),t.nrm(5,"hr",13),t.DNE(6,Do,1,0,"ng-container",14),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(),t.Y8G("@fadeIn",void 0)("id",e.selected.name+"-tab"),t.R7$(2),t.JRh(t.bMT(4,4,e.selected.name)),t.R7$(3),t.Y8G("ngComponentOutlet",e.selected.component)}}function Bo(n,o){if(1&n&&(t.j41(0,"div",4)(1,"ul",5),t.Z7z(2,Lo,1,1,"li",6,Fo),t.k0s()(),t.j41(4,"div",7),t.DNE(5,jo,7,6,"div",8),t.k0s()),2&n){const e=o,i=t.XpG();t.R7$(2),t.Dyx(e),t.R7$(3),t.vxM(i.isProfileLoaded&&e.length&&i.selected?5:-1)}}function Uo(n,o){1&n&&t.nrm(0,"div",15),2&n&&t.Y8G("abpLoading",!0)}function Oo(n,o){1&n&&t.DNE(0,Uo,1,1,"ng-template",null,0,t.C5r)}function $o(n,o){if(1&n){const e=t.RV6();t.j41(0,"form",1),t.bIt("ngSubmit",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.submit())}),t.nrm(1,"abp-extensible-form",2),t.j41(2,"abp-button",3),t.EFF(3),t.nI1(4,"abpLocalization"),t.k0s()()}if(2&n){const e=t.XpG();t.Y8G("formGroup",e.form),t.R7$(),t.Y8G("selectedRecord",e.storedProfile),t.R7$(),t.Y8G("disabled",null==e.form?null:e.form.invalid),t.R7$(),t.SpI(" ",t.bMT(4,4,"AbpIdentity::Save"),"")}}const Go=["uploadFile"],zo=["selectedImgRef"],Vo=["preview"];function Xo(n,o){if(1&n&&(t.j41(0,"div",22),t.nrm(1,"img",23,1),t.k0s(),t.j41(3,"div",24),t.EFF(4),t.nI1(5,"abpLocalization"),t.k0s(),t.j41(6,"div",25)(7,"ul",26)(8,"li",27),t.nrm(9,"img",28,2),t.k0s(),t.j41(11,"li",29),t.nrm(12,"img",30,2),t.k0s(),t.j41(14,"li",31),t.nrm(15,"img",32,2),t.k0s()()()),2&n){const e=t.XpG(3);t.R7$(),t.Y8G("src",e.selectedImage,t.B4B),t.R7$(3),t.SpI(" ",t.bMT(5,2,"AbpAccount::MoveCursorOnExamples")," ")}}function Yo(n,o){if(1&n){const e=t.RV6();t.j41(0,"div",17)(1,"div",5)(2,"h3"),t.EFF(3),t.nI1(4,"abpLocalization"),t.k0s(),t.j41(5,"div",6)(6,"label",20),t.EFF(7),t.nI1(8,"abpLocalization"),t.k0s(),t.j41(9,"input",21,0),t.bIt("change",function(r){t.eBV(e);const a=t.XpG(2);return t.Njj(a.onSelectImage(r.target.files[0]))}),t.k0s()(),t.DNE(11,Xo,17,4),t.k0s()()}if(2&n){const e=t.XpG(2);t.R7$(3),t.JRh(t.bMT(4,3,"AbpAccount::ChangeProfilePicture")),t.R7$(4),t.JRh(t.bMT(8,5,"AbpAccount::SelectNewImage")),t.R7$(4),t.vxM(e.selectedImage?11:-1)}}function Wo(n,o){if(1&n){const e=t.RV6();t.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"label",7),t.EFF(4),t.nI1(5,"abpLocalization"),t.k0s(),t.nrm(6,"br")(7,"img",8),t.nI1(8,"async"),t.k0s()()(),t.nrm(9,"hr"),t.j41(10,"div",4)(11,"div",5)(12,"div",9)(13,"input",10),t.mxI("ngModelChange",function(r){t.eBV(e);const a=t.XpG();return t.DH7(a.profilePictureType,r)||(a.profilePictureType=r),t.Njj(r)}),t.k0s(),t.j41(14,"label",11),t.EFF(15),t.nI1(16,"abpLocalization"),t.k0s()(),t.j41(17,"div",9)(18,"input",12),t.mxI("ngModelChange",function(r){t.eBV(e);const a=t.XpG();return t.DH7(a.profilePictureType,r)||(a.profilePictureType=r),t.Njj(r)}),t.k0s(),t.j41(19,"label",13),t.EFF(20),t.nI1(21,"abpLocalization"),t.k0s(),t.j41(22,"small",14),t.EFF(23),t.nI1(24,"abpLocalization"),t.k0s()(),t.j41(25,"div",9)(26,"input",15),t.mxI("ngModelChange",function(r){t.eBV(e);const a=t.XpG();return t.DH7(a.profilePictureType,r)||(a.profilePictureType=r),t.Njj(r)}),t.k0s(),t.j41(27,"label",16),t.EFF(28),t.nI1(29,"abpLocalization"),t.k0s()()()(),t.DNE(30,Yo,12,7,"div",17),t.j41(31,"div",18)(32,"div",5)(33,"button",19),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.submit())}),t.EFF(34),t.nI1(35,"abpLocalization"),t.k0s()()()}if(2&n){let e;const i=t.XpG();t.R7$(4),t.JRh(t.bMT(5,15,"AbpAccount::CurrentProfilePicture")),t.R7$(3),t.Y8G("src",null==(e=t.bMT(8,17,i.profilePicture$))?null:e.source,t.B4B),t.R7$(6),t.Y8G("value",0),t.R50("ngModel",i.profilePictureType),t.R7$(2),t.JRh(t.bMT(16,19,"AbpAccount::UseDefault")),t.R7$(3),t.Y8G("value",1),t.R50("ngModel",i.profilePictureType),t.R7$(2),t.JRh(t.bMT(21,21,"AbpAccount::DisplayName:UseGravatar")),t.R7$(3),t.JRh(t.bMT(24,23,"AbpAccount::Description:UseGravatar")),t.R7$(3),t.Y8G("value",2),t.R50("ngModel",i.profilePictureType),t.R7$(2),t.JRh(t.bMT(29,25,"AbpAccount::UploadFile")),t.R7$(2),t.vxM(2===i.profilePictureType?30:-1),t.R7$(3),t.Y8G("disabled",i.inProgress||2===i.profilePictureType&&!i.selectedImage),t.R7$(),t.SpI(" ",t.bMT(35,27,"AbpAccount::SaveChanges")," ")}}function Ho(n,o){if(1&n&&t.nrm(0,"div",3),2&n){const e=t.XpG();t.Y8G("abpLoading",!e.profileLoaded)}}function Qo(n,o){if(1&n&&(t.j41(0,"div",13),t.EFF(1),t.nI1(2,"abpLocalization"),t.j41(3,"span"),t.EFF(4),t.nI1(5,"abpLocalization"),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(),t.SpI(" ",t.bMT(2,4,"AbpAccount::Strength"),"\xa0 "),t.R7$(2),t.xc7("color",null==e.progressBar?null:e.progressBar.bgColor),t.R7$(),t.JRh(t.bMT(5,6,"AbpAccount::"+(null==e.progressBar?null:e.progressBar.text)))}}function Jo(n,o){if(1&n){const e=t.RV6();t.j41(0,"form",4),t.bIt("ngSubmit",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.onSubmit())}),t.j41(1,"div",5),t.nrm(2,"input",6),t.j41(3,"label",7),t.EFF(4),t.nI1(5,"abpLocalization"),t.k0s()(),t.j41(6,"div",5),t.nrm(7,"input",8),t.j41(8,"label",9),t.EFF(9),t.nI1(10,"abpLocalization"),t.k0s()(),t.j41(11,"div",10)(12,"input",11),t.bIt("abpCapsLock",function(r){t.eBV(e);const a=t.XpG();return t.Njj(a.capsLock=r)})("keyup",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.validatePassword())}),t.k0s(),t.nrm(13,"abp-password-complexity-indicator",12),t.DNE(14,Qo,6,8,"div",13),t.j41(15,"label",14),t.EFF(16),t.nI1(17,"abpLocalization"),t.k0s(),t.nrm(18,"i",15),t.nI1(19,"abpLocalization"),t.j41(20,"i",16),t.nI1(21,"abpLocalization"),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.showPassword=!r.showPassword)}),t.k0s()(),t.nrm(22,"div",null,0),t.j41(24,"div",17)(25,"div",18)(26,"abp-button",19),t.EFF(27),t.nI1(28,"abpLocalization"),t.k0s()()()()}if(2&n){const e=t.XpG();t.Y8G("formGroup",e.form),t.R7$(4),t.SpI(" ",t.bMT(5,16,"AbpAccount::UserName")," "),t.R7$(5),t.SpI(" ",t.bMT(10,18,"AbpAccount::EmailAddress")," "),t.R7$(3),t.Y8G("abpShowPassword",e.showPassword),t.R7$(),t.Y8G("progressBar",e.progressBar),t.R7$(),t.vxM((null==e.progressBar?null:e.progressBar.width)>0?14:-1),t.R7$(2),t.SpI(" ",t.bMT(17,20,"AbpAccount::Password")," "),t.R7$(2),t.AVh("d-none",!e.capsLock),t.Y8G("ngbTooltip",t.bMT(19,22,"AbpAccount::CapsLockOn")),t.R7$(2),t.ZvI("bi bi-eye",e.showPassword?"":"-slash"," show-pass-icon"),t.Y8G("ngbTooltip",t.bMT(21,24,"AbpAccount::"+(e.showPassword?"HidePassword":"ShowPassword"))),t.R7$(6),t.Y8G("loading",e.inProgress),t.R7$(),t.SpI(" ",t.bMT(28,26,"AbpAccount::Register")," ")}}function Ko(n,o){if(1&n&&(t.j41(0,"div",6),t.EFF(1),t.nI1(2,"abpLocalization"),t.j41(3,"span"),t.EFF(4),t.nI1(5,"abpLocalization"),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(),t.SpI(" ",t.bMT(2,4,"AbpAccount::Strength"),"\xa0 "),t.R7$(2),t.xc7("color",null==e.progressBar?null:e.progressBar.bgColor),t.R7$(),t.JRh(t.bMT(5,6,"AbpAccount::"+(null==e.progressBar?null:e.progressBar.text)))}}function qo(n,o){if(1&n){const e=t.RV6();t.j41(0,"form",1),t.bIt("ngSubmit",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.onSubmit())}),t.j41(1,"p"),t.EFF(2),t.nI1(3,"abpLocalization"),t.k0s(),t.j41(4,"div",2)(5,"label",3),t.EFF(6),t.nI1(7,"abpLocalization"),t.j41(8,"span"),t.EFF(9," * "),t.k0s()(),t.j41(10,"input",4),t.bIt("keyup",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.validatePassword())}),t.k0s(),t.nrm(11,"abp-password-complexity-indicator",5),t.DNE(12,Ko,6,8,"div",6),t.k0s(),t.j41(13,"div",7)(14,"label",8),t.EFF(15),t.nI1(16,"abpLocalization"),t.k0s(),t.j41(17,"span"),t.EFF(18," * "),t.k0s(),t.nrm(19,"input",9),t.k0s(),t.j41(20,"button",10),t.EFF(21),t.nI1(22,"abpLocalization"),t.k0s(),t.j41(23,"abp-button",11),t.EFF(24),t.nI1(25,"abpLocalization"),t.k0s()()}if(2&n){const e=t.XpG();t.Y8G("formGroup",e.form)("mapErrorsFn",e.mapErrorsFn),t.R7$(2),t.JRh(t.bMT(3,10,"AbpAccount::ResetPassword_Information")),t.R7$(4),t.SpI(" ",t.bMT(7,12,"AbpAccount::Password")," "),t.R7$(5),t.Y8G("progressBar",e.progressBar),t.R7$(),t.vxM((null==e.progressBar?null:e.progressBar.width)>0?12:-1),t.R7$(3),t.JRh(t.bMT(16,14,"AbpAccount::ConfirmPassword")),t.R7$(6),t.SpI(" ",t.bMT(22,16,"AbpAccount::Cancel")," "),t.R7$(2),t.Y8G("loading",e.inProgress),t.R7$(),t.SpI(" ",t.bMT(25,18,"AbpAccount::Submit")," ")}}function Zo(n,o){1&n&&(t.j41(0,"p"),t.EFF(1),t.nI1(2,"abpLocalization"),t.k0s(),t.j41(3,"a",12)(4,"button",13),t.EFF(5),t.nI1(6,"abpLocalization"),t.k0s()()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,2,"AbpAccount::YourPasswordIsSuccessfullyReset")," "),t.R7$(4),t.SpI(" ",t.bMT(6,4,"AbpAccount::BackToLogin")," "))}const tr=()=>["/account/login-with-recovery-code"];function er(n,o){if(1&n&&(t.j41(0,"option",3),t.EFF(1),t.k0s()),2&n){const e=o.$implicit;t.Y8G("ngValue",e),t.R7$(),t.JRh(e)}}function ir(n,o){if(1&n){const e=t.RV6();t.j41(0,"form")(1,"p"),t.EFF(2),t.nI1(3,"abpLocalization"),t.k0s(),t.j41(4,"div",0)(5,"label",1),t.EFF(6),t.nI1(7,"abpLocalization"),t.k0s(),t.j41(8,"select",2),t.mxI("ngModelChange",function(r){t.eBV(e);const a=t.XpG();return t.DH7(a.selectedProvider,r)||(a.selectedProvider=r),t.Njj(r)}),t.Z7z(9,er,2,2,"option",3,t.Vm6),t.k0s()(),t.j41(11,"abp-button",4),t.bIt("abpClick",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.sendTwoFactorCode())}),t.EFF(12),t.nI1(13,"abpLocalization"),t.k0s()()}if(2&n){const e=t.XpG();t.R7$(2),t.JRh(t.bMT(3,5,"AbpAccount::SendSecurityCode_Information")),t.R7$(4),t.JRh(t.bMT(7,7,"AbpAccount::SelectedProvider")),t.R7$(2),t.R50("ngModel",e.selectedProvider),t.R7$(),t.Dyx(e.providers),t.R7$(2),t.Y8G("loading",e.loading),t.R7$(),t.SpI(" ",t.bMT(13,9,"AbpAccount::Submit")," ")}}function nr(n,o){if(1&n){const e=t.RV6();t.j41(0,"form",5),t.bIt("ngSubmit",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.login())}),t.j41(1,"p"),t.EFF(2),t.nI1(3,"abpLocalization"),t.k0s(),t.j41(4,"div",0)(5,"label",6),t.EFF(6),t.nI1(7,"abpLocalization"),t.k0s(),t.nrm(8,"input",7),t.k0s(),t.j41(9,"abp-button",8),t.EFF(10),t.nI1(11,"abpLocalization"),t.k0s()(),t.j41(12,"div",9)(13,"p")(14,"a",10),t.EFF(15),t.nI1(16,"abpLocalization"),t.k0s()()()}if(2&n){const e=t.XpG();t.Y8G("formGroup",e.codeForm),t.R7$(2),t.JRh(t.bMT(3,7,"AbpAccount::VerifySecurityCode_Information")),t.R7$(4),t.JRh(t.bMT(7,9,"AbpAccount::Code")),t.R7$(3),t.Y8G("loading",e.loading),t.R7$(),t.SpI(" ",t.bMT(11,11,"AbpAccount::Submit")," "),t.R7$(4),t.Y8G("routerLink",t.lJ4(15,tr)),t.R7$(),t.SpI(" ",t.bMT(16,13,"AbpAccount::LoginWithRecoveryCode_URL"),". ")}}const or=(n,o)=>o.value;function rr(n,o){if(1&n&&(t.j41(0,"option",4),t.EFF(1),t.k0s()),2&n){const e=o.$implicit;t.Y8G("ngValue",e.value),t.R7$(),t.SpI(" ",e.name," ")}}function ar(n,o){1&n&&t.Z7z(0,rr,2,2,"option",4,or),2&n&&t.Dyx(o)}function sr(n,o){if(1&n&&(t.j41(0,"div",11),t.EFF(1),t.nI1(2,"abpLocalization"),t.j41(3,"span"),t.EFF(4),t.nI1(5,"abpLocalization"),t.k0s()()),2&n){const e=t.XpG();t.R7$(),t.SpI(" ",t.bMT(2,4,"AbpAccount::Strength"),"\xa0 "),t.R7$(2),t.xc7("color",null==e.progressBar?null:e.progressBar.bgColor),t.R7$(),t.JRh(t.bMT(5,6,"AbpAccount::"+(null==e.progressBar?null:e.progressBar.text)))}}function cr(n,o){if(1&n&&t.nrm(0,"qrcode",0),2&n){const e=t.XpG();t.Y8G("qrdata",o)("width",e.width||256)("errorCorrectionLevel",e.errorCorrectionLevel||"M")}}function lr(n,o){1&n&&(t.j41(0,"div",1),t.nrm(1,"i",2),t.k0s())}const pr=()=>({$implicit:"VerifyTheAuthenticator"}),ur=n=>({$implicit:"RecoveryCodes",disabled:n});function dr(n,o){if(1&n){const e=t.RV6();t.j41(0,"div",19)(1,"div",20)(2,"div",21)(3,"h5"),t.EFF(4),t.nI1(5,"abpLocalization"),t.k0s(),t.j41(6,"div",22),t.nrm(7,"abp-qr-code",23),t.k0s()()()(),t.j41(8,"div",24)(9,"div",25)(10,"span",26),t.EFF(11,"Or"),t.k0s()()(),t.j41(12,"div",19)(13,"div",20)(14,"div",21)(15,"h5"),t.EFF(16),t.nI1(17,"abpLocalization"),t.k0s(),t.j41(18,"div",27)(19,"code",28),t.EFF(20),t.k0s()(),t.j41(21,"button",29),t.bIt("click",function(){t.eBV(e);const r=t.XpG(3);return t.Njj(r.copySharedKey())}),t.EFF(22),t.nI1(23,"abpLocalization"),t.k0s()()()()}if(2&n){const e=o;t.R7$(4),t.JRh(t.bMT(5,5,"AbpAccount::UseQrCode")),t.R7$(3),t.Y8G("qrData",e.uri),t.R7$(9),t.JRh(t.bMT(17,7,"AbpAccount::ManuallyEnterCode")),t.R7$(4),t.JRh(e.key),t.R7$(2),t.SpI(" ",t.bMT(23,9,"AbpAccount::CopyToClipboard")," ")}}function hr(n,o){1&n&&t.eu8(0)}function fr(n,o){if(1&n&&(t.j41(0,"div",12)(1,"h4",13),t.EFF(2),t.nI1(3,"abpLocalization"),t.k0s(),t.j41(4,"p",14),t.EFF(5),t.nI1(6,"abpLocalization"),t.k0s(),t.j41(7,"div",15)(8,"div",16),t.DNE(9,dr,24,11),t.k0s(),t.j41(10,"div",17),t.DNE(11,hr,1,0,"ng-container",18),t.k0s()()()),2&n){let e;const i=t.XpG(2),r=t.sdS(3);t.R7$(2),t.JRh(t.bMT(3,5,"AbpAccount::Authenticator")),t.R7$(3),t.SpI(" ",t.bMT(6,7,"AbpAccount::UseTwoFactorAuthenticatorApp_Information")," "),t.R7$(4),t.vxM((e=i.authenticatorInfo())?9:-1,e),t.R7$(2),t.Y8G("ngTemplateOutlet",r)("ngTemplateOutletContext",t.lJ4(9,pr))}}function mr(n,o){1&n&&t.eu8(0)}function gr(n,o){if(1&n){const e=t.RV6();t.j41(0,"div",30)(1,"h4",13),t.EFF(2),t.nI1(3,"abpLocalization"),t.k0s(),t.j41(4,"p",14),t.EFF(5),t.nI1(6,"abpLocalization"),t.k0s(),t.j41(7,"div",31)(8,"div",19)(9,"abp-form-input",32),t.nI1(10,"abpLocalization"),t.mxI("ngModelChange",function(r){t.eBV(e);const a=t.XpG(2);return t.DH7(a.verifyCode,r)||(a.verifyCode=r),t.Njj(r)}),t.k0s()(),t.j41(11,"div",19)(12,"abp-button",33),t.bIt("click",function(){t.eBV(e);const r=t.XpG(2);return t.Njj(r.verifyQrCode())}),t.EFF(13),t.nI1(14,"abpLocalization"),t.k0s()()(),t.j41(15,"div",17),t.DNE(16,mr,1,0,"ng-container",18),t.k0s()()}if(2&n){const e=t.XpG(2),i=t.sdS(3);t.R7$(2),t.SpI(" ",t.bMT(3,10,"AbpAccount::VerifyTheAuthenticator")," "),t.R7$(3),t.SpI(" ",t.bMT(6,12,"AbpAccount::UseTwoFactorAuthenticatorApp_Code")," "),t.R7$(4),t.Y8G("inputId","code"),t.R50("ngModel",e.verifyCode),t.Y8G("label",t.bMT(10,14,"AbpAccount::Code")),t.R7$(3),t.Y8G("id","verifyQRCode")("buttonClass","btn btn-outline-success mt-3"),t.R7$(),t.SpI(" ",e.isVerifiedAuthenticatorCode()?"Verified":t.bMT(14,16,"AbpAccount::Verify")," "),t.R7$(3),t.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",t.eq3(18,ur,!e.isVerifiedAuthenticatorCode()))}}function br(n,o){if(1&n&&(t.j41(0,"code"),t.EFF(1),t.k0s(),t.nrm(2,"br")),2&n){const e=o.$implicit;t.R7$(),t.JRh(e)}}function vr(n,o){if(1&n){const e=t.RV6();t.j41(0,"div",34)(1,"h4",13),t.EFF(2),t.nI1(3,"abpLocalization"),t.k0s(),t.j41(4,"p",14),t.EFF(5),t.nI1(6,"abpLocalization"),t.k0s(),t.j41(7,"ul",35)(8,"li",36)(9,"div",37)(10,"div",38)(11,"button",39),t.bIt("click",function(){t.eBV(e);const r=t.XpG(2);return t.Njj(r.printRecoverCodes())}),t.EFF(12),t.nI1(13,"abpLocalization"),t.k0s(),t.j41(14,"button",40),t.bIt("click",function(){t.eBV(e);const r=t.XpG(2);return t.Njj(r.copyRecoveryCodes())}),t.EFF(15),t.nI1(16,"abpLocalization"),t.k0s()(),t.j41(17,"div",41)(18,"div",42),t.Z7z(19,br,3,1,null,null,t.Vm6),t.k0s()(),t.j41(21,"div",38)(22,"abp-button",43),t.bIt("click",function(){t.eBV(e);const r=t.XpG(2);return t.Njj(r.recoveryCodeOk())}),t.EFF(23),t.nI1(24,"abpLocalization"),t.k0s()()()()()()}if(2&n){const e=t.XpG(2);t.R7$(2),t.JRh(t.bMT(3,12,"AbpAccount::RecoveryCodes")),t.R7$(3),t.SpI(" ",t.bMT(6,14,"AbpAccount::RecoveryCodes_Information")," "),t.R7$(6),t.AVh("disabled",!e.hasRecoveryCodes()),t.R7$(),t.SpI(" ",t.bMT(13,16,"AbpAccount::PrintCodes")," "),t.R7$(2),t.AVh("disabled",!e.hasRecoveryCodes()),t.R7$(),t.SpI(" ",t.bMT(16,18,"AbpAccount::CopyToClipboard")," "),t.R7$(4),t.Dyx(e.recoveryCodeList()),t.R7$(3),t.Y8G("id","recoveryCodeOk")("disabled",!e.hasRecoveryCodes())("buttonClass","btn btn-primary mt-2"),t.R7$(),t.SpI(" ",t.bMT(24,20,"AbpAccount::Done")," ")}}function Cr(n,o){if(1&n){const e=t.RV6();t.j41(0,"ul",3,1),t.mxI("activeIdChange",function(r){t.eBV(e);const a=t.XpG();return t.DH7(a.activeStep,r)||(a.activeStep=r),t.Njj(r)}),t.j41(2,"li",4)(3,"button",5)(4,"small",6),t.EFF(5),t.nI1(6,"abpLocalization"),t.k0s(),t.j41(7,"p",7),t.EFF(8),t.nI1(9,"abpLocalization"),t.k0s()(),t.DNE(10,fr,12,10,"ng-template",8),t.k0s(),t.j41(11,"li",4)(12,"button",5)(13,"small",6),t.EFF(14),t.nI1(15,"abpLocalization"),t.k0s(),t.j41(16,"p",7),t.EFF(17),t.nI1(18,"abpLocalization"),t.k0s()(),t.DNE(19,gr,17,20,"ng-template",8),t.k0s(),t.j41(20,"li",9)(21,"button",5)(22,"small",6),t.EFF(23),t.nI1(24,"abpLocalization"),t.k0s(),t.j41(25,"p",7),t.EFF(26),t.nI1(27,"abpLocalization"),t.k0s()(),t.DNE(28,vr,25,22,"ng-template",8),t.k0s()(),t.j41(29,"div",10),t.nrm(30,"div",11),t.k0s()}if(2&n){const e=t.sdS(1),i=t.XpG();t.R50("activeId",i.activeStep),t.R7$(2),t.Y8G("ngbNavItem","Authenticator"),t.R7$(3),t.JRh(t.i5U(6,14,"AbpAccount::Step","1")),t.R7$(3),t.JRh(t.bMT(9,17,"AbpAccount::Authenticator")),t.R7$(3),t.Y8G("ngbNavItem","VerifyTheAuthenticator"),t.R7$(3),t.JRh(t.i5U(15,19,"AbpAccount::Step","2")),t.R7$(3),t.JRh(t.bMT(18,22,"AbpAccount::VerifyTheAuthenticator")),t.R7$(3),t.Y8G("ngbNavItem","RecoveryCodes")("classList","recovery-codes-tab")("disabled",!i.isVerifiedAuthenticatorCode()),t.R7$(3),t.JRh(t.i5U(24,24,"AbpAccount::Step","3")),t.R7$(3),t.JRh(t.bMT(27,27,"AbpAccount::RecoveryCodes")),t.R7$(3),t.Y8G("id",i.activeStep),t.R7$(),t.Y8G("ngbNavOutlet",e)}}function yr(n,o){if(1&n){const e=t.RV6();t.j41(0,"div",2)(1,"div",44)(2,"h4",13),t.EFF(3),t.nI1(4,"abpLocalization"),t.k0s(),t.j41(5,"p",14),t.EFF(6),t.nI1(7,"abpLocalization"),t.k0s(),t.j41(8,"abp-button",45),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.resetAuthenticator())}),t.EFF(9),t.nI1(10,"abpLocalization"),t.k0s()()()}2&n&&(t.R7$(3),t.JRh(t.bMT(4,3,"AbpAccount::ResetAuthenticator")),t.R7$(3),t.JRh(t.bMT(7,5,"AbpAccount::ResetAuthenticator_Information")),t.R7$(3),t.SpI(" ",t.bMT(10,7,"AbpAccount::ResetAuthenticator")," "))}function wr(n,o){if(1&n){const e=t.RV6();t.j41(0,"button",46),t.bIt("click",function(){const r=t.eBV(e).$implicit,a=t.XpG();return t.Njj(a.activeStep=r)}),t.EFF(1),t.nI1(2,"abpLocalization"),t.nrm(3,"i",47),t.k0s()}if(2&n){const e=o.$implicit;t.AVh("disabled",o.disabled),t.Mz_("id","next-btn-",e,""),t.R7$(),t.SpI(" ",t.bMT(2,5,"AbpAccount::NextStep")," ")}}function Sr(n,o){if(1&n&&(t.j41(0,"form",0)(1,"div",2),t.nrm(2,"input",3),t.j41(3,"label",4),t.EFF(4),t.nI1(5,"abpLocalization"),t.k0s(),t.nrm(6,"br"),t.j41(7,"span",5),t.EFF(8),t.nI1(9,"abpLocalization"),t.k0s()()()),2&n){const e=t.XpG();t.Y8G("formGroup",e.form),t.R7$(4),t.SpI(" ",t.bMT(5,3,"AbpAccount::DisplayName:TwoFactorEnabled")," "),t.R7$(4),t.JRh(t.bMT(9,5,"AbpAccount::TwoFactorEnabledInfo"))}}function Tr(n,o){1&n&&t.nrm(0,"div",1),2&n&&t.Y8G("abpLoading",!0)}function _r(n,o){1&n&&(t.j41(0,"h3"),t.EFF(1),t.nI1(2,"abpLocalization"),t.k0s()),2&n&&(t.R7$(),t.JRh(t.bMT(2,1,"AbpIdentity::Detail")))}function Ar(n,o){1&n&&t.EFF(0),2&n&&t.SpI(" ",o.$implicit," ")}function Rr(n,o){if(1&n&&(t.j41(0,"div",4)(1,"div",5)(2,"strong"),t.EFF(3),t.nI1(4,"abpLocalization"),t.k0s()(),t.j41(5,"div",6),t.EFF(6),t.k0s()(),t.nrm(7,"hr",7),t.j41(8,"div",4)(9,"div",5)(10,"strong"),t.EFF(11),t.nI1(12,"abpLocalization"),t.k0s()(),t.j41(13,"div",6),t.EFF(14),t.k0s()(),t.nrm(15,"hr",7),t.j41(16,"div",4)(17,"div",5)(18,"strong"),t.EFF(19),t.nI1(20,"abpLocalization"),t.k0s()(),t.j41(21,"div",6),t.EFF(22),t.k0s()(),t.nrm(23,"hr",7),t.j41(24,"div",4)(25,"div",5)(26,"strong"),t.EFF(27),t.nI1(28,"abpLocalization"),t.k0s()(),t.j41(29,"div",6),t.EFF(30),t.k0s()(),t.nrm(31,"hr",7),t.j41(32,"div",4)(33,"div",5)(34,"strong"),t.EFF(35),t.nI1(36,"abpLocalization"),t.k0s()(),t.j41(37,"div",6)(38,"ul",8)(39,"li",9),t.Z7z(40,Ar,1,1,null,null,t.Vm6),t.k0s()()()(),t.nrm(42,"hr",7),t.j41(43,"div",4)(44,"div",5)(45,"strong"),t.EFF(46),t.nI1(47,"abpLocalization"),t.k0s()(),t.j41(48,"div",6),t.EFF(49),t.nI1(50,"shortDateTime"),t.k0s()(),t.nrm(51,"hr",7),t.j41(52,"div",4)(53,"div",5)(54,"strong"),t.EFF(55),t.nI1(56,"abpLocalization"),t.k0s()(),t.j41(57,"div",6),t.EFF(58),t.nI1(59,"shortDateTime"),t.k0s()(),t.nrm(60,"hr",7)),2&n){const e=t.XpG();t.R7$(3),t.JRh(t.bMT(4,13,"AbpIdentity::Session:Device")),t.R7$(3),t.SpI(" ",e.sessionInfo().device," "),t.R7$(5),t.JRh(t.bMT(12,15,"AbpIdentity::Session:DeviceInfo")),t.R7$(3),t.SpI(" ",e.sessionInfo().deviceInfo," "),t.R7$(5),t.JRh(t.bMT(20,17,"AbpIdentity::Session:UserInfo")),t.R7$(3),t.SpI(" ",e.sessionInfo().userName," "),t.R7$(5),t.JRh(t.bMT(28,19,"AbpIdentity::Session:ClientId")),t.R7$(3),t.SpI(" ",e.sessionInfo().clientId," "),t.R7$(5),t.JRh(t.bMT(36,21,"AbpIdentity::Session:IpAddresses")),t.R7$(5),t.Dyx(e.sessionInfo().ipAddresses),t.R7$(6),t.JRh(t.bMT(47,23,"AbpIdentity::Session:SignedIn")),t.R7$(3),t.SpI(" ",t.bMT(50,25,e.sessionInfo().signedIn)," "),t.R7$(6),t.JRh(t.bMT(56,27,"AbpIdentity::Session:LastAccessed")),t.R7$(3),t.SpI(" ",t.bMT(59,29,e.sessionInfo().lastAccessed)," ")}}function Mr(n,o){1&n&&(t.j41(0,"button",10),t.EFF(1),t.nI1(2,"abpLocalization"),t.k0s()),2&n&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"AbpUi::Close")," "))}function Ir(n,o){if(1&n){const e=t.RV6();t.j41(0,"div",14)(1,"button",15),t.nrm(2,"i",16),t.EFF(3),t.nI1(4,"abpLocalization"),t.k0s(),t.j41(5,"div",17)(6,"button",18),t.bIt("click",function(){const r=t.eBV(e).row,a=t.XpG(2);return t.Njj(a.showDetail(r))}),t.EFF(7),t.nI1(8,"abpLocalization"),t.k0s(),t.j41(9,"button",18),t.bIt("click",function(){const r=t.eBV(e).row,a=t.XpG(2);return t.Njj(a.revokeSession(r))}),t.EFF(10),t.nI1(11,"abpLocalization"),t.k0s()()()}2&n&&(t.R7$(3),t.SpI("",t.bMT(4,3,"AbpUi::Actions")," "),t.R7$(4),t.SpI(" ",t.bMT(8,5,"AbpIdentity::Session:Detail")," "),t.R7$(3),t.SpI(" ",t.bMT(11,7,"AbpIdentity::Session:Revoke")," "))}function Er(n,o){1&n&&(t.nrm(0,"i",19),t.nI1(1,"abpLocalization")),2&n&&t.Y8G("ngbTooltip",t.bMT(1,1,"AbpIdentity::Session:Current"))}function Pr(n,o){if(1&n&&(t.EFF(0),t.DNE(1,Er,2,3,"i",19)),2&n){const i=o.row;t.SpI(" ",o.value," "),t.R7$(),t.vxM(i.isCurrent?1:-1)}}function kr(n,o){1&n&&(t.EFF(0),t.nI1(1,"shortDateTime")),2&n&&t.SpI(" ",t.bMT(1,1,o.value)," ")}function Fr(n,o){1&n&&(t.EFF(0),t.nI1(1,"shortDateTime")),2&n&&t.SpI(" ",t.bMT(1,1,o.value)," ")}function Nr(n,o){if(1&n&&(t.j41(0,"ngx-datatable",7)(1,"ngx-datatable-column",8),t.nI1(2,"abpLocalization"),t.DNE(3,Ir,12,9,"ng-template",9),t.k0s(),t.j41(4,"ngx-datatable-column",10),t.nI1(5,"abpLocalization"),t.DNE(6,Pr,2,2,"ng-template",9),t.k0s(),t.nrm(7,"ngx-datatable-column",11),t.nI1(8,"abpLocalization"),t.j41(9,"ngx-datatable-column",12),t.nI1(10,"abpLocalization"),t.DNE(11,kr,2,3,"ng-template",9),t.k0s(),t.j41(12,"ngx-datatable-column",13),t.nI1(13,"abpLocalization"),t.DNE(14,Fr,2,3,"ng-template",9),t.k0s()()),2&n){const e=t.XpG();t.Y8G("rows",e.data().items)("count",e.data().totalCount)("list",e.list),t.R7$(),t.Y8G("name",t.bMT(2,13,"AbpUi::Actions"))("sortable",!1),t.R7$(3),t.Y8G("name",t.bMT(5,15,"AbpIdentity::Session:Device"))("sortable",!0),t.R7$(3),t.Y8G("name",t.bMT(8,17,"AbpIdentity::Session:DeviceInfo"))("sortable",!0),t.R7$(2),t.Y8G("name",t.bMT(10,19,"AbpIdentity::Session:SignedIn"))("sortable",!0),t.R7$(3),t.Y8G("name",t.bMT(13,21,"AbpIdentity::Session:LastAccessed"))("sortable",!0)}}function xr(n,o){if(1&n){const e=t.RV6();t.j41(0,"abp-account-session-detail",20),t.mxI("isModalVisibleChange",function(r){t.eBV(e);const a=t.XpG();return t.DH7(a.visibleSessionDetailModal,r)||(a.visibleSessionDetailModal=r),t.Njj(r)}),t.k0s()}if(2&n){const e=t.XpG();t.Y8G("sessionId",e.sessionId()),t.R50("isModalVisible",e.visibleSessionDetailModal)}}let Wt=(()=>{class n{constructor(){this.pipeToLogin=(0,t.WQX)(s.STu),this.injector=(0,t.WQX)(t.zZn),this.authService=(0,t.WQX)(s.uRZ),this.toaster=(0,t.WQX)(f.W9),this.data=(0,t.vPA)(null),this.hasData=(0,t.EWP)(()=>!!this.data())}login(e){const{username:i,password:r,redirectUrl:a,rememberMe:c}=this.data(),C=this.authService.loginUsingGrant("password",{username:i,password:r,RecoveryCode:e});return(0,P.H)(C).pipe(this.pipeToLogin&&this.pipeToLogin({redirectUrl:a,rememberMe:c},this.injector),(0,U.W)(v=>(this.toaster.error(v.error?.error_description||v.error?.error.message||"AbpAccount::DefaultErrorMessage",null,{life:7e3}),(0,M.$)(()=>v))))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac})}}return n})(),Ht=(()=>{class n{constructor(e,i){this.injector=e,this.toaster=i,this.pipeToLogin=this.injector.get(s.STu),this.authService=this.injector.get(s.uRZ)}login(e){const{username:i,password:r}=this.data,u=this.authService.loginUsingGrant("password",{username:i,password:r,TwoFactorProvider:e.provider,TwoFactorCode:e.code});return(0,P.H)(u).pipe(this.pipeToLogin&&this.pipeToLogin({redirectUrl:this.data.redirectUrl,rememberMe:this.data.rememberMe},this.injector),(0,U.W)(w=>(this.toaster.error(w.error?.error_description||w.error?.error.message||"AbpAccount::DefaultErrorMessage",null,{life:7e3}),(0,M.$)(()=>w))))}static{this.\u0275fac=function(i){return new(i||n)(t.KVO(t.zZn),t.KVO(f.W9))}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac})}}return n})(),Lr=(()=>{class n{constructor(e){this.authService=e}canActivate(){return!!this.authService.isInternalAuth||(this.authService.navigateToLogin(),!1)}static{this.\u0275fac=function(i){return new(i||n)(t.KVO(s.uRZ))}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac})}}return n})();const ce=()=>{const n=(0,t.WQX)(s.uRZ);return!!n.isInternalAuth||(n.navigateToLogin(),!1)};let Dr=(()=>{class n{constructor(e,i){this.service=e,this.router=i}canActivate(){const e=this.router.createUrlTree(["/account/login"]);return!!this.service.data||e}static{this.\u0275fac=function(i){return new(i||n)(t.KVO(Ht),t.KVO(R.Ix))}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac})}}return n})();const Ji=()=>{const n=(0,t.WQX)(Ht),e=(0,t.WQX)(R.Ix).createUrlTree(["/account/login"]);return!!n.data||e};class Ki{encodeKey(o){return encodeURIComponent(o)}encodeValue(o){return encodeURIComponent(o)}decodeKey(o){return decodeURIComponent(o)}decodeValue(o){return decodeURIComponent(o)}}let St=(()=>{class n{getMySecurityLogsByInput(e={}){return this.restService.request({url:"/api/identity/security-logs/my",method:"GET",params:e},{apiName:this.apiName})}constructor(e){this.restService=e,this.apiName="AbpAccountPublic",this.confirmEmail=i=>this.restService.request({method:"POST",url:"/api/account/confirm-email",body:i},{apiName:this.apiName}),this.confirmPhoneNumber=i=>this.restService.request({method:"POST",url:"/api/account/confirm-phone-number",body:i},{apiName:this.apiName}),this.getProfilePicture=i=>this.restService.request({method:"GET",url:`/api/account/profile-picture/${i}`},{apiName:this.apiName}),this.getProfilePictureFile=i=>this.restService.request({method:"GET",url:`/api/account/profile-picture-file/${i}`},{apiName:this.apiName}),this.register=i=>this.restService.request({method:"POST",url:"/api/account/register",body:i},{apiName:this.apiName}),this.resetPassword=i=>this.restService.request({method:"POST",url:"/api/account/reset-password",body:i},{apiName:this.apiName}),this.sendEmailConfirmationToken=i=>this.restService.request({method:"POST",url:"/api/account/send-email-confirmation-token",body:i},{apiName:this.apiName}),this.sendPasswordResetCode=i=>this.restService.request({method:"POST",url:"/api/account/send-password-reset-code",body:i},{apiName:this.apiName}),this.sendPhoneNumberConfirmationToken=i=>this.restService.request({method:"POST",url:"/api/account/send-phone-number-confirmation-token",body:i},{apiName:this.apiName}),this.setProfilePicture=i=>this.restService.request({method:"POST",url:"/api/account/profile-picture",body:i},{apiName:this.apiName}),this.uploadProfilePictureFile=i=>this.restService.request({method:"POST",url:"/api/account/profile-picture-file"},{apiName:this.apiName}),this.recaptchaByCaptchaResponse=i=>this.restService.request({method:"GET",url:"/api/account/recaptcha-validate",params:{captchaResponse:i}},{apiName:this.apiName}),this.getTwoFactorProviders=i=>this.restService.request({url:"/api/account/two-factor-providers",method:"GET",params:i},{apiName:this.apiName,httpParamEncoder:new Ki}),this.sendTwoFactorCode=i=>this.restService.request({url:"/api/account/send-two-factor-code",method:"POST",body:i},{apiName:this.apiName})}static{this.\u0275fac=function(i){return new(i||n)(t.KVO(s.G9T))}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Qt=(()=>{class n{constructor(){this.store=new s.JG$({})}get createStateStream(){return this.store.sliceState}getProfile$(){return this.store.sliceState(e=>e.profile)}getProfile(){return this.store.state.profile}setProfile(e){this.store.patch({profile:e})}setHideEmailVerificationBtn(e){this.store.patch({hideEmailVerificationBtn:e})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class ze{constructor(o,e){this.configState=o,this.targetElement=e}setIsEnabled(){this.isEnabled="true"===(this.configState.getSetting(this.settingKey)||"").toLowerCase()}}class qi extends ze{constructor(o,e){super(o,e),this.action="login",this.settingKey="Abp.Account.Captcha.UseCaptchaOnLogin",this.setIsEnabled()}}class Zi extends ze{constructor(o,e){super(o,e),this.action="register",this.settingKey="Abp.Account.Captcha.UseCaptchaOnRegistration",this.setIsEnabled()}}const Ve={Login:(n,o)=>new qi(n,o),Register:(n,o)=>new Zi(n,o)};class Xe{get cultureName(){return this.configState.getAll().localization.currentCulture.cultureName}get siteKey(){return this.configState.getSetting("Abp.Account.Captcha.SiteKey")}get verifyBaseUrl(){return this.configState.getSetting("Abp.Account.Captcha.VerifyBaseUrl")}constructor(o){this.injector=o,this.lazyLoadService=o.get(s.yHE),this.configState=o.get(s.d14),this.appendScript()}appendScript(){this.lazyLoadService.load(s.NWu.AppendScriptToBody(this.scriptPath)).subscribe()}destroy(){this.scriptPath&&this.lazyLoadService.remove(this.scriptPath)}reset(){}}class tn extends Xe{constructor(o,e){super(o),this.zone=this.injector.get(t.SKi),this.token=new E.t(null),this.targetElement=e}appendScript(){window.recaptchaV2Loaded=()=>{grecaptcha.render(this.targetElement,{sitekey:this.siteKey,"expired-callback":()=>{this.zone.run(()=>this.token.next(null))},callback:o=>this.token.next(o)})},this.scriptPath=`${this.verifyBaseUrl}recaptcha/api.js?render=explicit&hl=${this.cultureName}&onload=recaptchaV2Loaded`,super.appendScript()}reset(){grecaptcha.reset()}getVerificationToken(){return this.token.asObservable()}}class en extends Xe{constructor(o,e){super(o),this.action=e}appendScript(){this.scriptPath=`${this.verifyBaseUrl}recaptcha/api.js?hl=${this.cultureName}&render=${this.siteKey}`,super.appendScript()}getVerificationToken(){try{grecaptcha}catch{return(0,x.of)(null)}return new X.c(o=>{grecaptcha.ready(()=>{grecaptcha.execute(this.siteKey,{action:this.action}).then(e=>{o.next(e)})})})}destroy(){super.destroy();const o=document.querySelector(".grecaptcha-badge");o.parentElement.removeChild(o)}}let le=(()=>{class n{get isEnabled(){return this.pageStrategy.isEnabled}get reCaptchaVersion(){return this.configState.getSetting("Abp.Account.Captcha.Version")}constructor(e,i,r){this.injector=e,this.configState=i,this.accountService=r}setStrategy(e){this.pageStrategy=e,this.pageStrategy.isEnabled&&this.init()}init(){"2"===this.reCaptchaVersion?this.strategy=new tn(this.injector,this.pageStrategy.targetElement):"3"===this.reCaptchaVersion&&(this.strategy=new en(this.injector,this.pageStrategy.action))}validate(){return this.strategy.getVerificationToken().pipe((0,k.n)(e=>this.accountService.recaptchaByCaptchaResponse(e).pipe((0,I.u)(!0))))}getVerificationToken(){return this.strategy.getVerificationToken()}ngOnDestroy(){this.pageStrategy.isEnabled&&this.strategy.destroy()}reset(){this.isEnabled&&this.strategy.reset()}static{this.\u0275fac=function(i){return new(i||n)(t.KVO(t.zZn),t.KVO(s.d14),t.KVO(St))}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac})}}return n})();const{required:Ye}=m.k0;let We=(()=>{class n{constructor(){this.manageProfileState=(0,t.WQX)(Qt),this.fb=(0,t.WQX)(m.ok),this.toasterService=(0,t.WQX)(f.W9),this.activatedRoute=(0,t.WQX)(R.nX),this.router=(0,t.WQX)(R.Ix),this.profileService=(0,t.WQX)(j.pq),this.authService=(0,t.WQX)(s.uRZ),this.toasterSuccessOption={message:"AbpAccount::PasswordChangedMessage",title:"",options:{life:5e3}},this.legacyInjector=(0,t.WQX)(t.zZn),this.PASSWORD_FIELDS=["newPassword","repeatNewPassword"],this.MapErrorsFnFactory=()=>(e,i,r)=>this.PASSWORD_FIELDS.indexOf(String(r.name))<0?e:e.concat(i.filter(({key:a})=>"passwordMismatch"===a))}getQueryParams(){const{token:e,username:i}=this.activatedRoute.snapshot.queryParams;return{token:e,username:i}}get hasPassword(){return!!this.manageProfileState.getProfile()?.hasPassword}get returnUrl(){return this.activatedRoute.snapshot.queryParams.returnUrl}buildForm(e=!1){const i=(0,f.kl)(this.legacyInjector),r=this.fb.group({currentPassword:["",Ye],newPassword:["",{validators:[Ye,...i]}],repeatNewPassword:["",{validators:[Ye,...i]}]},{validators:[(0,p.CF)(this.PASSWORD_FIELDS)]});return e&&r.removeControl("currentPassword"),r}changePassword(e){return this.profileService.changePassword(e)}changePasswordAndLogin(e){const i=this.getQueryParams();return(0,P.H)(this.authService.loginUsingGrant("password",{password:e.currentPassword,NewPassword:e.newPassword,username:i.username,ChangePasswordToken:i.token}))}redirectToReturnUrl(){return(0,P.H)(this.router.navigateByUrl(this.returnUrl||"/"))}showSuccessMessage(){const{message:e,title:i,options:r}=this.toasterSuccessOption;this.toasterService.success(e,i,r)}showErrorMessage(e){this.toasterService.error(e.error?.error?.message||"AbpAccount::DefaultErrorMessage")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),He=(()=>{class n{constructor(){this.accountService=(0,t.WQX)(j.Di),this.profileService=(0,t.WQX)(j.pq)}get isTwoFactorEnabled$(){return this.profileService.getTwoFactorEnabled()}setTwoFactorStatus(e){return this.profileService.setTwoFactorEnabled(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac})}}return n})(),pe=(()=>{class n{constructor(){this.colors=["#B0284B","#F2A34F","#5588A4","#3E5CF6","#6EBD70"],this.texts=["Weak","Fair","Normal","Good","Strong"],this.requirements={minLengthRegex:/(?=.{6,})/,numberRegex:/(?=.*[0-9])/,lowercaseRegex:/(?=.*[a-z ])/,uppercaseRegex:/(?=.*[A-Z])/,specialCharacterRegex:/[^a-zA-Z0-9 ]+/}}validatePassword(e){let i=0;return Object.values(this.requirements).forEach(r=>{r.test(e)&&i++}),{bgColor:this.colors[i-1],text:this.texts[i-1],width:100/this.colors.length*i}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Qe=(()=>{class n{constructor(){this.accountService=(0,t.WQX)(j.Di),this.hasAuthenticator=(0,G.ot)(this.accountService.hasAuthenticator()),this.authenticatorInfo=(0,G.ot)(this.accountService.getAuthenticatorInfo())}resetAuthenticator(){return this.accountService.resetAuthenticator()}verifyAuthenticatorCode(e){return this.accountService.verifyAuthenticatorCode({code:e})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac})}}return n})(),jr=(()=>{class n{constructor(){this.router=(0,t.WQX)(R.Ix),this.recoveryCodeService=(0,t.WQX)(Wt)}canActivate(){const e=this.router.createUrlTree(["/account/login"]);return!!this.recoveryCodeService.hasData()||e}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac})}}return n})();const nn=()=>{const n=(0,t.WQX)(R.Ix),o=(0,t.WQX)(Wt),e=n.createUrlTree(["/account/login"]);return!!o.hasData()||e},Br=B.SY.createMany([]);let ve=(()=>{class n{constructor(){this.service=(0,t.WQX)(j.Di),this.list=(0,t.WQX)(s.aGM),this.data={items:[],totalCount:0},this.filter={}}ngOnInit(){this.hookToQuery()}hookToQuery(){this.list.hookToQuery(e=>this.service.getSecurityLogList({...e,...this.filter})).subscribe(e=>this.data=e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["abp-my-security-logs"]],features:[t.Jv_([s.aGM,{provide:B.JF,useValue:"Account.MySecurityLogs"},{provide:l.dn,useClass:f.MJ}])],decls:33,vars:26,consts:[["id","wrapper"],[3,"title","toolbar"],[1,"card"],[1,"card-body","pb-lg-3"],[1,"row","align-items-end",3,"keyup.enter"],[1,"row"],[1,"col-md-6","col-lg-3","col-xxl-3"],[1,"mb-3"],[1,"form-label"],[3,"ngModelChange","ngModel","ngModelOptions"],[1,"col-md-6","col-lg-3"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],[1,"mt-3","mb-lg-0","d-grid"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-search","me-1"],[3,"data","recordsTotal","list"]],template:function(i,r){1&i&&(t.j41(0,"div",0)(1,"abp-page",1),t.nI1(2,"abpLocalization"),t.j41(3,"div",2)(4,"div",3)(5,"div",4),t.bIt("keyup.enter",function(){return r.list.get()}),t.j41(6,"div",5)(7,"div",6)(8,"div",7)(9,"label",8),t.EFF(10),t.nI1(11,"abpLocalization"),t.k0s(),t.j41(12,"abp-datetime-picker",9),t.mxI("ngModelChange",function(c){return t.DH7(r.filter.startTime,c)||(r.filter.startTime=c),c}),t.k0s()()(),t.j41(13,"div",6)(14,"div",7)(15,"label",8),t.EFF(16),t.nI1(17,"abpLocalization"),t.k0s(),t.j41(18,"abp-datetime-picker",9),t.mxI("ngModelChange",function(c){return t.DH7(r.filter.endTime,c)||(r.filter.endTime=c),c}),t.k0s()()(),t.j41(19,"div",10)(20,"div",7)(21,"label",8),t.EFF(22),t.nI1(23,"abpLocalization"),t.k0s(),t.j41(24,"input",11),t.mxI("ngModelChange",function(c){return t.DH7(r.filter.action,c)||(r.filter.action=c),c}),t.k0s()()(),t.j41(25,"div",6)(26,"div",12)(27,"button",13),t.bIt("click",function(){return r.list.get()}),t.nrm(28,"i",14),t.j41(29,"span"),t.EFF(30),t.nI1(31,"abpLocalization"),t.k0s()()()()()()()(),t.nrm(32,"abp-extensible-table",15),t.k0s()()),2&i&&(t.R7$(),t.Y8G("title",t.bMT(2,14,"AbpAccount::MySecurityLogs"))("toolbar",r.data.items),t.R7$(9),t.JRh(t.bMT(11,16,"AbpAccount::StartTime")),t.R7$(2),t.R50("ngModel",r.filter.startTime),t.Y8G("ngModelOptions",t.lJ4(24,Hi)),t.R7$(4),t.JRh(t.bMT(17,18,"AbpAccount::EndTime")),t.R7$(2),t.R50("ngModel",r.filter.endTime),t.Y8G("ngModelOptions",t.lJ4(25,Hi)),t.R7$(4),t.JRh(t.bMT(23,20,"AbpAccount::MySecurityLogs:Action")),t.R7$(2),t.R50("ngModel",r.filter.action),t.R7$(6),t.JRh(t.bMT(31,22,"AbpUi::Search")),t.R7$(2),t.Y8G("data",r.data.items)("recordsTotal",r.data.totalCount)("list",r.list))},dependencies:[m.me,m.BC,m.vS,B.XY,h.H1,S.jx,s.aM3],encapsulation:2})}}return n})();const Ur=B.Fh.createMany([{type:"string",name:"creationTime",displayName:"AbpAccount::MySecurityLogs:Time",sortable:!0,columnWidth:180,valueResolver:n=>{const o=n.getInjected(s.d14),e=n.getInjected(lt.vh);return(0,x.of)(e.transform(n.record.creationTime,(0,s.vnA)(o)))}},{type:"string",name:"action",displayName:"AbpAccount::MySecurityLogs:Action",sortable:!0,columnWidth:180,valueResolver:n=>(0,x.of)(`<div style="max-width: 160px" class="pointer abp-ellipsis-inline">${n.record.action||""}</div>`),action:n=>{const o=n.getInjected(ve);o.filter.action=n.record.action,o.list.get()}},{type:"string",name:"clientIpAddress",displayName:"AbpAccount::MySecurityLogs:IpAddress",sortable:!1,columnWidth:200,valueResolver:n=>(0,x.of)(`<div style="max-width: 180px" class="abp-ellipsis-inline">${n.record.clientIpAddress||""}</div>`)},{type:"string",name:"browserInfo",displayName:"AbpAccount::MySecurityLogs:Browser",sortable:!1,columnWidth:200,valueResolver:n=>(0,x.of)(`<div style="max-width: 180px" class="abp-ellipsis-inline">${n.record.browserInfo||""}</div>`)},{type:"string",name:"applicationName",displayName:"AbpAccount::MySecurityLogs:Application",sortable:!0,columnWidth:150,valueResolver:n=>(0,x.of)(`<div style="max-width: 135px" class="abp-ellipsis-inline">${n.record.applicationName||""}</div>`)},{type:"string",name:"identity",displayName:"AbpAccount::MySecurityLogs:Identity",sortable:!0,columnWidth:150,valueResolver:n=>(0,x.of)(`<div style="max-width: 135px" class="abp-ellipsis-inline">${n.record.identity||""}</div>`)},{type:"string",name:"clientId",displayName:"AbpAccount::MySecurityLogs:Client",sortable:!0,columnWidth:320,valueResolver:n=>(0,x.of)(`<div>${n.record.clientId||""}</div>`)}]),Or=B.KR.createMany([]);let Ce=(()=>{class n{constructor(e){this.formProp=e,this.displayName=e.displayName,this.name=e.name,this.id=e.id}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(B.MW))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["abp-personal-settings-half-row"]],features:[t.Jv_([],[B.P4])],decls:6,vars:7,consts:[[1,"w-50","d-inline"],[1,"mb-3"],[1,"form-label"],["type","text",1,"form-control",3,"formControlName"]],template:function(i,r){1&i&&(t.j41(0,"div",0)(1,"div",1)(2,"label",2),t.EFF(3),t.nI1(4,"abpLocalization"),t.k0s(),t.nrm(5,"input",3),t.k0s()()),2&i&&(t.R7$(2),t.BMQ("for",r.name),t.R7$(),t.SpI("",t.bMT(4,5,r.displayName)," "),t.R7$(2),t.Y8G("formControlName",r.name),t.BMQ("id",r.id)("name",r.name))},dependencies:[m.me,m.BC,m.JD,p.lt,s.aM3],encapsulation:2})}}return n})(),ye=(()=>{class n{constructor(){this.btnClick=new t.bkB}onBtnClick(){this.btnClick.emit()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["abp-personal-settings-verify-button"]],inputs:{buttonLabel:"buttonLabel",verifiedLabel:"verifiedLabel",verified:"verified",edited:"edited",editedLabel:"editedLabel",editedTooltip:"editedTooltip"},outputs:{btnClick:"btnClick"},decls:2,vars:1,consts:[["placement","top",1,"input-group-text",3,"ngbTooltip"],[1,"input-group-text"],["type","button",1,"btn","btn-warning",2,"border-top-left-radius","0","border-bottom-left-radius","0"],["aria-hidden","true",1,"me-1","text-success","fa","fa-check-square"],[1,"text-success"],["type","button",1,"btn","btn-warning",2,"border-top-left-radius","0","border-bottom-left-radius","0",3,"click"],["aria-hidden","true",1,"me-1","fa","fa-vcard"],["aria-hidden","true",1,"me-1","fa","fa-times"],[1,"text-danger"]],template:function(i,r){1&i&&t.DNE(0,mo,2,1)(1,go,6,6,"span",0),2&i&&t.vxM(r.edited?1:0)},dependencies:[l.md,s.aM3],encapsulation:2,changeDetection:0})}}return n})(),Je=(()=>{class n{constructor(e,i,r,a,c,u,w,C){this.formProp=e,this.propData=i,this.formGroupDirective=r,this.manageProfileState=a,this.toasterService=c,this.accountService=u,this.configState=w,this.environmentService=C,this.subscriptionService=(0,t.WQX)(s.nCQ),this.displayName=e.displayName,this.name=e.name,this.id=e.id,this.formGroup=this.formGroupDirective.control,this.formControl=this.formGroup.controls[this.name],this.initialValue=i.email,this.isValueChanged$=this.formControl.valueChanges.pipe((0,L.T)(v=>v!==this.initialValue)),this.isReadonly$=w.getSetting$("Abp.Identity.User.IsEmailUpdateEnabled").pipe((0,L.T)(v=>"true"!==v.toLowerCase())),this.isVerified=i.emailConfirmed,this.showEmailVerificationBtn$=this.manageProfileState.createStateStream(v=>!v.hideEmailVerificationBtn)}get userId(){return this.configState.getDeep("currentUser.id")}sendEmailVerificationToken(){if(this.formControl.invalid)return;const e=this.formControl.value,i=this.userId,r=this.environmentService.getEnvironment$().pipe((0,L.T)(({application:{baseUrl:a},oAuthConfig:{responseType:c}})=>({appName:"code"===c?"MVC":"Angular",returnUrl:`${a}/account/login`})),(0,k.n)(({appName:a,returnUrl:c})=>this.accountService.sendEmailConfirmationToken({appName:a,email:e,userId:i,returnUrl:c})));this.subscriptionService.addOne(r,()=>{this.toasterService.success("AbpAccount::EmailConfirmationSentMessage","",{messageLocalizationParams:[e]}),this.manageProfileState.setHideEmailVerificationBtn(!0)})}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(B.MW),t.rXU(B.dx),t.rXU(m.j4),t.rXU(Qt),t.rXU(f.W9),t.rXU(St),t.rXU(s.d14),t.rXU(s.vf1))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["abp-personal-settings-email"]],features:[t.Jv_([],[B.P4])],decls:11,vars:12,consts:[[1,"mb-3"],[1,"form-label"],["validationTarget","","validationStyle","",1,"input-group"],["type","email",1,"form-control",3,"formControlName","readonly"],[1,"input-group-append"],[3,"btnClick","verified","edited"]],template:function(i,r){1&i&&(t.j41(0,"div",0)(1,"label",1),t.EFF(2),t.nI1(3,"abpLocalization"),t.k0s(),t.j41(4,"span"),t.EFF(5," * "),t.k0s(),t.j41(6,"div",2),t.nrm(7,"input",3),t.nI1(8,"async"),t.DNE(9,bo,3,4,"div",4),t.nI1(10,"async"),t.k0s()()),2&i&&(t.R7$(),t.BMQ("for",r.id),t.R7$(),t.JRh(t.bMT(3,6,r.displayName)),t.R7$(5),t.Y8G("formControlName",r.name)("readonly",t.bMT(8,8,r.isReadonly$)),t.BMQ("id",r.id),t.R7$(2),t.vxM(t.bMT(10,10,r.showEmailVerificationBtn$)?9:-1))},dependencies:[m.me,m.BC,m.JD,p.WE,p.Ss,p.lt,ye,lt.Jj,s.aM3],encapsulation:2})}}return n})(),Ke=(()=>{class n{constructor(e,i,r,a,c,u,w,C,v){this.formProp=e,this.propData=i,this.formGroupDirective=r,this.configState=a,this.accountService=c,this.toasterService=u,this.manageProfileState=w,this.confirmationService=C,this.cdr=v,this.initPhoneNumberConfirmation=()=>{this.formControl.invalid||this.accountService.sendPhoneNumberConfirmationToken({phoneNumber:this.formControl.value,userId:this.userId}).pipe((0,N.M)(()=>this.token="")).subscribe(this.openModal)},this.openModal=()=>{this.modalVisible=!0,this.cdr.detectChanges()},this.removeModal=()=>{this.modalVisible=!1},this.setPhoneNumberAsConfirmed=()=>{const y={...this.manageProfileState.getProfile(),phoneNumberConfirmed:!0};this.manageProfileState.setProfile(y)},this.name=e.name,this.id=e.id,this.isVerified=i.phoneNumberConfirmed,this.displayName=e.displayName,this.formGroup=this.formGroupDirective.control,this.formControl=this.formGroup.controls[this.name],this.isEnablePhoneNumberConfirmation=this.getIsEnablePhoneNumberConfirmation(),this.initialValue=i.phoneNumber,this.isValueChanged$=this.formControl.valueChanges.pipe((0,L.T)(y=>y!==this.initialValue))}getIsEnablePhoneNumberConfirmation(){return"True"===this.configState.getSetting("Abp.Identity.SignIn.EnablePhoneNumberConfirmation")}get userId(){return this.configState.getDeep("currentUser.id")}confirmPhoneNumber(){this.accountService.confirmPhoneNumber({token:this.token,userId:this.userId}).pipe((0,N.M)(this.setPhoneNumberAsConfirmed),(0,N.M)(this.removeModal)).subscribe(()=>{this.toasterService.success("AbpAccount::Verified","",{life:5e3})})}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(B.MW),t.rXU(B.dx),t.rXU(m.j4),t.rXU(s.d14),t.rXU(St),t.rXU(f.W9),t.rXU(Qt),t.rXU(f.td),t.rXU(t.gRc))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["abp-personal-settings-phone-number"]],features:[t.Jv_([],[B.P4])],decls:14,vars:11,consts:[["abpHeader",""],["abpBody",""],["abpFooter",""],[1,"mb-3"],[1,"form-label"],["validationTarget","","validationStyle","",1,"input-group"],["type","text",1,"form-control",3,"formControlName"],[1,"input-group-append"],[3,"visibleChange","visible","busy","options"],[3,"btnClick","verified","edited"],[3,"ngSubmit"],[1,"mt-2"],["for","confirm-phone-number",1,"form-label"],["id","confirm-phone-number","name","confirm-phone-number","type","text","autofocus","",1,"form-control",3,"ngModelChange","ngModel"],["abpClose","","type","button",1,"btn","btn-outline-primary"],["type","abp-button","iconClass","fa fa-check",3,"click"]],template:function(i,r){if(1&i){const a=t.RV6();t.j41(0,"div",3)(1,"label",4),t.EFF(2),t.nI1(3,"abpLocalization"),t.k0s(),t.j41(4,"div",5),t.nrm(5,"input",6),t.DNE(6,Co,3,4,"div",7),t.k0s()(),t.j41(7,"abp-modal",8),t.mxI("visibleChange",function(u){return t.eBV(a),t.DH7(r.modalVisible,u)||(r.modalVisible=u),t.Njj(u)}),t.DNE(8,yo,3,3,"ng-template",null,0,t.C5r)(10,wo,10,8,"ng-template",null,1,t.C5r)(12,So,6,6,"ng-template",null,2,t.C5r),t.k0s()}2&i&&(t.R7$(),t.BMQ("for",r.id),t.R7$(),t.JRh(t.bMT(3,8,r.displayName)),t.R7$(3),t.Y8G("formControlName",r.name),t.BMQ("id",r.id),t.R7$(),t.vxM(r.initialValue&&r.isEnablePhoneNumberConfirmation?6:-1),t.R7$(),t.R50("visible",r.modalVisible),t.Y8G("busy",r.modalBusy)("options",t.lJ4(10,vo)))},dependencies:[m.qT,m.me,m.BC,m.cb,m.vS,m.cV,m.JD,s.B7c,p.WE,p.Ss,p.lt,f.Qp,f.zf,f.b6,ye,lt.Jj,s.aM3],encapsulation:2})}}return n})(),Jt=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["abp-password-complexity-indicator"]],inputs:{progressBar:"progressBar"},decls:2,vars:8,consts:[[1,"progress","transition","mx-3"],[1,"progress-bar","transition"]],template:function(i,r){1&i&&(t.j41(0,"div",0),t.nrm(1,"div",1),t.k0s()),2&i&&(t.xc7("opacity",(null==r.progressBar?null:r.progressBar.width)>0?1:0)("background-color","var(--lpx-border-color)"),t.R7$(),t.xc7("width",(null==r.progressBar?null:r.progressBar.width)+"%")("background-color",null==r.progressBar?null:r.progressBar.bgColor))},styles:[".transition[_ngcontent-%COMP%]{transition:all .3s ease-out}.progress[_ngcontent-%COMP%]{backgroundcolor:var(--lpx-border-color);height:4px;border-radius:3px 3px 0 0;margin-top:-5px;z-index:1;position:relative}[_nghost-%COMP%]{order:1}"]})}}return n})(),qe=(()=>{class n{constructor(){this.service=(0,t.WQX)(We),this.#t=(0,t.WQX)(t.abz),this.#e=(0,t.WQX)(t.gRc),this.passwordComplexityService=(0,t.WQX)(pe),this.subscription=(0,t.WQX)(s.nCQ),this.hideCurrentPassword=!1,this.showCurrentPassword=!1,this.showNewPassword=!1,this.showConfirmPassword=!1,this.mapErrorsFn=this.service.MapErrorsFnFactory()}#t;#e;ngOnInit(){this.hideCurrentPassword=!this.service.hasPassword,this.form=this.service.buildForm(this.hideCurrentPassword)}onSuccess(){this.service.showSuccessMessage(),this.hideCurrentPassword=!1,this.form=this.service.buildForm(this.hideCurrentPassword),this.progressBar=null,this.#e.detectChanges()}onSubmit(){if(this.form.invalid)return;const e=this.form.value;this.service.changePassword({currentPassword:e.currentPassword,newPassword:e.newPassword}).pipe((0,G.pQ)(this.#t)).subscribe({next:()=>this.onSuccess()})}get newPassword(){return this.form.value.newPassword}validatePassword(){this.progressBar=this.passwordComplexityService.validatePassword(this.newPassword)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["abp-change-password-form"]],exportAs:["abpChangePasswordForm"],features:[t.Jv_([s.nCQ])],decls:26,vars:23,consts:[["validateOnSubmit","",3,"ngSubmit","formGroup","mapErrorsFn"],[1,"mb-3"],[1,"mb-3","d-flex","flex-column"],["for","new-password",1,"form-label"],["validationTarget","",1,"input-group","form-group"],["id","new-password","formControlName","newPassword",1,"form-control",3,"keyup","abpShowPassword"],["type","button",1,"btn","btn-secondary",3,"click"],["aria-hidden","true",1,"fa",3,"ngClass"],["for","confirm-new-password",1,"form-label"],["id","confirm-new-password","formControlName","repeatNewPassword",1,"form-control",3,"keyup","abpShowPassword"],["iconClass","fa fa-check","buttonClass","btn btn-primary color-white","buttonType","submit"],["for","current-password",1,"form-label"],["id","current-password","formControlName","currentPassword",1,"form-control",3,"abpShowPassword"],[3,"progressBar"],[1,"d-flex","align-items-center","order-2","mt-1",2,"font-weight","500"]],template:function(i,r){1&i&&(t.j41(0,"form",0),t.bIt("ngSubmit",function(){return r.onSubmit()}),t.DNE(1,To,10,8,"div",1),t.j41(2,"div",2)(3,"label",3),t.EFF(4),t.nI1(5,"abpLocalization"),t.j41(6,"span"),t.EFF(7," * "),t.k0s()(),t.j41(8,"div",4)(9,"input",5),t.bIt("keyup",function(){return r.validatePassword()}),t.k0s(),t.j41(10,"button",6),t.bIt("click",function(){return r.showNewPassword=!r.showNewPassword}),t.nrm(11,"i",7),t.k0s()(),t.DNE(12,_o,7,9),t.k0s(),t.j41(13,"div",1)(14,"label",8),t.EFF(15),t.nI1(16,"abpLocalization"),t.j41(17,"span"),t.EFF(18," * "),t.k0s()(),t.j41(19,"div",4)(20,"input",9),t.bIt("keyup",function(){return r.validatePassword()}),t.k0s(),t.j41(21,"button",6),t.bIt("click",function(){return r.showConfirmPassword=!r.showConfirmPassword}),t.nrm(22,"i",7),t.k0s()()(),t.j41(23,"abp-button",10),t.EFF(24),t.nI1(25,"abpLocalization"),t.k0s()()),2&i&&(t.Y8G("formGroup",r.form)("mapErrorsFn",r.mapErrorsFn),t.R7$(),t.vxM(r.hideCurrentPassword?-1:1),t.R7$(3),t.SpI(" ",t.bMT(5,11,"AbpIdentity::DisplayName:NewPassword")," "),t.R7$(5),t.Y8G("abpShowPassword",r.showNewPassword),t.R7$(2),t.Y8G("ngClass",t.l_i(17,Yt,!r.showNewPassword,r.showNewPassword)),t.R7$(),t.vxM((null==r.progressBar?null:r.progressBar.width)>0?12:-1),t.R7$(3),t.SpI(" ",t.bMT(16,13,"AbpIdentity::DisplayName:NewPasswordConfirm")," "),t.R7$(5),t.Y8G("abpShowPassword",r.showConfirmPassword),t.R7$(2),t.Y8G("ngClass",t.l_i(20,Yt,!r.showConfirmPassword,r.showConfirmPassword)),t.R7$(2),t.SpI(" ",t.bMT(25,15,"AbpIdentity::Save")," "))},dependencies:[lt.YU,m.qT,m.me,m.BC,m.cb,m.j4,m.JD,s.S02,p.a5,p.Ss,p.lt,f.Qp,s.MGs,Jt,s.aM3],encapsulation:2})}}return n})(),Ze=(()=>{class n{constructor(e,i,r){this.multiTenancy=e,this.accountService=i,this.route=r,this.resetTenantBox=()=>{}}ngOnInit(){const{isTenantBoxVisible:e}=this.multiTenancy;this.resetTenantBox=()=>this.multiTenancy.isTenantBoxVisible=e,setTimeout(()=>this.multiTenancy.isTenantBoxVisible=!1,0),this.confirmation()}ngOnDestroy(){this.resetTenantBox()}confirmation(){const{userId:e,confirmationToken:i}=this.route.snapshot.queryParams;e&&i?this.accountService.confirmEmail({userId:e,token:i}).subscribe(()=>this.confirmed=!0):this.notValid=!0}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(s.J2c),t.rXU(St),t.rXU(R.nX))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["abp-email-confirmation"]],decls:5,vars:7,consts:[[1,"text-danger","font-weight-bold"],["role","button",1,"btn","btn-primary",3,"routerLink"]],template:function(i,r){1&i&&(t.DNE(0,Ro,3,3,"p")(1,Mo,3,3,"p",0),t.j41(2,"a",1),t.EFF(3),t.nI1(4,"abpLocalization"),t.k0s()),2&i&&(t.vxM(r.confirmed?0:-1),t.R7$(),t.vxM(r.notValid?1:-1),t.R7$(),t.Y8G("routerLink",t.lJ4(6,Ao)),t.R7$(),t.JRh(t.bMT(4,4,"AbpAccount::Login")))},dependencies:[R.Wk,s.aM3],encapsulation:2})}}return n})();const{required:$r,email:Gr}=m.k0;let ti=(()=>{class n{constructor(e,i){this.fb=e,this.accountService=i,this.isEmailSent=!1,this.form=this.fb.group({email:["",[$r,Gr]]})}onSubmit(){this.form.invalid||(this.inProgress=!0,this.accountService.sendPasswordResetCode({email:this.form.get("email").value,appName:"Angular"}).pipe((0,K.j)(()=>this.inProgress=!1)).subscribe(()=>{this.isEmailSent=!0}))}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(m.ze),t.rXU(St))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["abp-forgot-password"]],decls:2,vars:1,consts:[["validateOnSubmit","",3,"formGroup"],["validateOnSubmit","",3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"form-floating","mb-3"],["autofocus","","type","email","id","email","formControlName","email","placeholder","name@example.com",1,"form-control"],["for","floatingInput"],[1,"d-flex","gap-2"],["routerLink","/account/login",1,"btn","btn-outline-primary","btn-lg","text-nowrap"],[1,"bi","bi-arrow-left-short"],["buttonClass","btn btn-primary btn-lg text-nowrap w-100","buttonType","submit",1,"flex-fill",3,"loading"],[1,"bi","bi-send","me-1"],["routerLink","/account/login",1,"d-grid"],[1,"d-block","mt-2","mb-3","btn","btn-primary"],["aria-hidden","true",1,"fa","fa-long-arrow-left","me-1"]],template:function(i,r){1&i&&t.DNE(0,Io,19,14,"form",0)(1,Eo,8,6),2&i&&t.vxM(r.isEmailSent?1:0)},dependencies:[m.qT,m.me,m.BC,m.cb,m.j4,m.JD,R.Wk,s.B7c,s.S02,p.a5,p.lt,f.Qp,s.aM3],encapsulation:2})}}return n})();const we=new t.nKC("ACCOUNT_CONFIG_OPTIONS");function Se(n){const o=n.get(R.nX),e=n.get(we);return o.snapshot.queryParams.returnUrl||e.redirectUrl}let ei=(()=>{class n{get linkUser(){const{linkUserId:e,linkTenantId:i,linkUserName:r,linkTenantName:a}=this.route.snapshot.queryParams;return{linkUserId:e,linkTenantId:i,linkUserName:r,linkTenantName:a}}constructor(e,i,r,a){this.injector=e,this.router=i,this.route=r,this.identityLinkUserService=a,this.tenantAndUserName=""}ngOnInit(){this.init()}init(){const{linkUserId:e,linkTenantId:i,linkUserName:r,linkTenantName:a}=this.linkUser;e?(this.identityLinkUserService.isLinked({tenantId:i,userId:e}).subscribe(c=>{c||this.navigateToLogin()}),this.tenantAndUserName=i?`${a}\\${r}`:r):this.navigateToLogin()}navigateToLogin(){this.router.navigateByUrl("/account/login")}navigateToMainPage(e){this.router.navigate([Se(this.injector)||"/"],{queryParams:e})}navigateToMainPageForLinkLogin(){const{linkUserId:e,linkTenantId:i}=this.linkUser;this.navigateToMainPage({handler:"linkLogin",linkUserId:e,linkTenantId:i})}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(t.zZn),t.rXU(R.Ix),t.rXU(R.nX),t.rXU(j.hH))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["abp-link-logged"]],decls:11,vars:7,consts:[[1,"d-grid"],["type","button",1,"btn","btn-primary","mb-3",3,"click"],[1,"ms-1"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"me-1"]],template:function(i,r){1&i&&(t.j41(0,"div",0)(1,"button",1),t.bIt("click",function(){return r.navigateToMainPage()}),t.EFF(2," \u2190 "),t.j41(3,"span",2),t.EFF(4),t.nI1(5,"abpLocalization"),t.k0s()(),t.j41(6,"button",3),t.bIt("click",function(){return r.navigateToMainPageForLinkLogin()}),t.j41(7,"span",4),t.EFF(8),t.nI1(9,"abpLocalization"),t.k0s(),t.EFF(10," \u2192 "),t.k0s()()),2&i&&(t.R7$(4),t.JRh(t.bMT(5,2,"AbpAccount::StayWithCurrentAccount")),t.R7$(4),t.JRh(t.i5U(9,4,"AbpAccount::ReturnToPreviousAccount",r.tenantAndUserName)))},dependencies:[s.aM3],encapsulation:2})}}return n})();const{required:zr}=m.k0;let on=(()=>{class n{constructor(){this.fb=(0,t.WQX)(m.ok),this.recoveryCodeService=(0,t.WQX)(Wt),this.loading=!1,this.form=this.fb.group({recoveryCode:[null,zr]})}login(){this.form.invalid||(this.loading=!0,this.recoveryCodeService.login(this.form.value.recoveryCode).pipe((0,K.j)(()=>this.loading=!1)).subscribe())}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["abp-login-with-recovery-code"]],standalone:!0,features:[t.aNF],decls:12,vars:12,consts:[[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","recoveryCode",1,"form-label"],["autofocus","","id","recoveryCode","type","text","formControlName","recoveryCode","autocomplete","off",1,"form-control"],["buttonType","submit",3,"loading","disabled"]],template:function(i,r){1&i&&(t.j41(0,"form",0),t.bIt("ngSubmit",function(){return r.login()}),t.j41(1,"p"),t.EFF(2),t.nI1(3,"abpLocalization"),t.k0s(),t.j41(4,"div",1)(5,"label",2),t.EFF(6),t.nI1(7,"abpLocalization"),t.k0s(),t.nrm(8,"input",3),t.k0s(),t.j41(9,"abp-button",4),t.EFF(10),t.nI1(11,"abpLocalization"),t.k0s()()),2&i&&(t.Y8G("formGroup",r.form),t.R7$(2),t.JRh(t.bMT(3,6,"AbpAccount::LoginWithRecoveryCode_Information")),t.R7$(4),t.SpI(" ",t.bMT(7,8,"AbpAccount::RecoveryCode")," "),t.R7$(3),t.Y8G("loading",r.loading)("disabled",r.form.invalid),t.R7$(),t.SpI(" ",t.bMT(11,10,"AbpAccount::Submit")," "))},dependencies:[s.Ui,m.qT,m.me,m.BC,m.cb,m.j4,m.JD,s.aM3,s.B7c,s.S02,f.Ts,p.a5,p.lt,f.Qp],encapsulation:2})}}return n})();const rn="RequiresTwoFactor",an="ShouldChangePasswordOnNextLogin",sn="PeriodicallyChangePassword",{maxLength:cn,required:ln}=m.k0;let ii=(()=>{class n{constructor(e){this.injector=e,this.isSelfRegistrationEnabled=!0,this.authWrapperKey="Account.AuthWrapper",this.showPassword=!1,this.capsLock=!1,this.recoveryCodeService=(0,t.WQX)(Wt),this.fb=e.get(m.ze),this.toasterService=e.get(f.W9),this.authService=e.get(s.uRZ),this.configState=e.get(s.d14),this.route=e.get(R.nX),this.router=e.get(R.Ix),this.identityLinkUserService=e.get(j.hH),this.recaptchaService=e.get(le),this.securityCodeService=e.get(Ht)}ngOnInit(){this.init(),this.buildForm(),this.setLinkUserParams()}ngAfterViewInit(){this.recaptchaService.setStrategy(Ve.Login(this.configState,this.recaptchaRef.nativeElement))}setLinkUserParams(){const{linkUserId:e,linkToken:i,linkTenantId:r}=this.route.snapshot.queryParams;e&&i&&this.identityLinkUserService.verifyLinkToken({token:i,userId:e,tenantId:r}).subscribe(a=>{a&&(this.linkUser={userId:e,token:i,tenantId:r})})}init(){this.isSelfRegistrationEnabled="false"!==(this.configState.getSetting("Abp.Account.IsSelfRegistrationEnabled")||"").toLowerCase()}buildForm(){this.form=this.fb.group({username:["",[ln,cn(255)]],password:["",[ln,cn(128)]],rememberMe:[!1]})}onSubmit(){if(this.form.invalid)return;this.inProgress=!0;const{username:e,password:i,rememberMe:r}=this.form.value,c={username:e,password:i,rememberMe:r,redirectUrl:Se(this.injector)||(this.linkUser?null:"/")};this.checkRecaptcha().pipe((0,k.n)(u=>u?this.authService.login(c).pipe(this.handleLoginError(c)).pipe(this.linkUser?this.switchToLinkUser():(0,N.M)()):(0,x.of)(null)),(0,K.j)(()=>this.inProgress=!1)).subscribe()}checkRecaptcha(){return this.recaptchaService.isEnabled?this.recaptchaService.validate():(0,x.of)(!0)}switchToLinkUser(){return(0,$.F)((0,k.n)(()=>this.identityLinkUserService.link(this.linkUser)),(0,N.M)(()=>{this.router.navigate(["/account/link-logged"],{queryParams:this.route.snapshot.queryParams})}))}handleLoginError(e){return(0,U.W)(i=>{switch(i.error?.error_description){case rn:const a={...e,userId:i.error.userId};return this.securityCodeService.data={...a,twoFactorToken:i.error.twoFactorToken},this.recoveryCodeService.data.set({...a}),(0,P.H)(this.router.navigate(["/account/send-security-code"]));case sn:case an:return(0,P.H)(this.router.navigate(["/account/change-password"],{queryParams:{token:i.error.changePasswordToken,redirectUrl:e.redirectUrl,username:e.username}}))}return this.recaptchaService.reset(),this.toasterService.error(i.error?.error_description||i.error?.error?.message||"AbpAccount::DefaultErrorMessage",null,{life:7e3}),(0,M.$)(()=>i)})}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(t.zZn))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["abp-login"]],viewQuery:function(i,r){if(1&i&&t.GBs(Qi,5),2&i){let a;t.mGM(a=t.lsd())&&(r.recaptchaRef=a.first)}},features:[t.Jv_([le])],decls:36,vars:31,consts:[["recaptcha",""],["role","alert",1,"alert","alert-warning",3,"innerHTML"],[1,"mb-2"],["validateOnSubmit","",3,"ngSubmit","formGroup"],[1,"form-floating","mb-2"],["autofocus","","type","text","id","login-input-user-name-or-email-address","formControlName","username","placeholder","name@example.com",1,"form-control"],["for","login-input-user-name-or-email-address"],["id","password","placeholder","Password","formControlName","password",1,"form-control",3,"abpCapsLock","abpShowPassword"],["for","floatingPassword"],["id","capslockicon",1,"bi","bi-capslock","caps-lock-icon",3,"ngbTooltip"],["id","passwordicon","aria-label","Show/Hide password",3,"click","ngbTooltip"],[1,"row","mb-3"],[1,"col"],[1,"form-check","form-switch"],["type","checkbox","id","rememberMe","formControlName","rememberMe",1,"form-check-input"],["for","rememberMe",1,"form-check-label"],[1,"col","text-end"],["routerLink","/account/forgot-password",1,"text-decoration-none"],[1,"row"],["buttonClass","mt-2 mb-3 btn btn-primary btn-lg","buttonType","submit",1,"d-grid",3,"loading"],[1,"bi","bi-box-arrow-in-right","me-1"],["routerLink","/account/register","queryParamsHandling","preserve",1,"text-decoration-none"]],template:function(i,r){if(1&i){const a=t.RV6();t.DNE(0,Po,2,4,"div",1)(1,ko,6,6,"h5",2),t.j41(2,"form",3),t.bIt("ngSubmit",function(){return t.eBV(a),t.Njj(r.onSubmit())}),t.j41(3,"div",4),t.nrm(4,"input",5),t.j41(5,"label",6),t.EFF(6),t.nI1(7,"abpLocalization"),t.k0s()(),t.j41(8,"div",4)(9,"input",7),t.bIt("abpCapsLock",function(u){return t.eBV(a),t.Njj(r.capsLock=u)}),t.k0s(),t.j41(10,"label",8),t.EFF(11),t.nI1(12,"abpLocalization"),t.k0s(),t.nrm(13,"i",9),t.nI1(14,"abpLocalization"),t.j41(15,"i",10),t.nI1(16,"abpLocalization"),t.bIt("click",function(){return t.eBV(a),t.Njj(r.showPassword=!r.showPassword)}),t.k0s()(),t.j41(17,"div",11)(18,"div",12)(19,"div",13),t.nrm(20,"input",14),t.j41(21,"label",15),t.EFF(22),t.nI1(23,"abpLocalization"),t.k0s()()(),t.j41(24,"div",16)(25,"a",17),t.EFF(26),t.nI1(27,"abpLocalization"),t.k0s()()(),t.j41(28,"div",18)(29,"div",12),t.nrm(30,"div",null,0),t.j41(32,"abp-button",19),t.nrm(33,"i",20),t.EFF(34),t.nI1(35,"abpLocalization"),t.k0s()()()()}2&i&&(t.vxM(r.linkUser?0:-1),t.R7$(),t.vxM(r.isSelfRegistrationEnabled?1:-1),t.R7$(),t.Y8G("formGroup",r.form),t.R7$(4),t.SpI(" ",t.bMT(7,17,"AbpAccount::UserNameOrEmailAddress")," "),t.R7$(3),t.Y8G("abpShowPassword",r.showPassword),t.R7$(2),t.JRh(t.bMT(12,19,"AbpAccount::Password")),t.R7$(2),t.AVh("d-none",!r.capsLock),t.Y8G("ngbTooltip",t.bMT(14,21,"AbpAccount::CapsLockOn")),t.R7$(2),t.ZvI("bi bi-eye",r.showPassword?"":"-slash"," show-pass-icon"),t.Y8G("ngbTooltip",t.bMT(16,23,"AbpAccount::"+(r.showPassword?"HidePassword":"ShowPassword"))),t.R7$(7),t.SpI(" ",t.bMT(23,25,"AbpAccount::RememberMe")," "),t.R7$(4),t.SpI(" ",t.bMT(27,27,"AbpAccount::ForgotPassword")," "),t.R7$(6),t.Y8G("loading",r.inProgress),t.R7$(2),t.SpI(" ",t.bMT(35,29,"AbpAccount::Login")," "))},dependencies:[m.qT,m.me,m.Zm,m.BC,m.cb,m.j4,m.JD,R.Wk,s.B7c,s.S02,p.a5,p.lt,f.Qp,l.md,s.MGs,s.Das,s.aM3],encapsulation:2})}}return n})(),ni=(()=>{class n{get isTwoFactorEnabled(){const{key:e}=A.le[0];return this.configState.getFeature("Identity.TwoFactor")===e&&this.configState.getSetting("Abp.Identity.TwoFactor.Behaviour")===e&&"true"===(this.configState.getSetting("Abp.Identity.TwoFactor.UsersCanChange")||"").toLowerCase()}setProfile(e){this.manageProfileState.setProfile(e),this.isProfileLoaded=!0,e.isExternal&&(this.tabsService.patch("AbpAccount::ProfileTab:Password",{invisible:!0}),this.selected=this.firstTab)}patchTwoFactorTab(e){this.tabsService.patch("AbpAccount::ProfileTab:TwoFactor",{invisible:!this.isTwoFactorEnabled||!e})}init(){const e=this.profileService.get().pipe((0,N.M)(i=>this.setProfile(i)),(0,k.n)(()=>this.profileService.canEnableTwoFactor()),(0,N.M)(i=>this.patchTwoFactorTab(i)));this.subscriptionService.addOne(e)}constructor(e,i,r,a,c){this.track=e,this.tabsService=i,this.configState=r,this.profileService=a,this.manageProfileState=c,this.subscriptionService=(0,t.WQX)(s.nCQ),this.tabs$=this.tabsService.visible$.pipe((0,N.M)(u=>{this.firstTab=u[0],!this.selected&&u[0].component&&(this.selected=u[0])})),this.init()}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(s.kTg),t.rXU(qt.Kn),t.rXU(s.d14),t.rXU(j.pq),t.rXU(Qt))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["abp-manage-profile"]],decls:6,vars:3,consts:[["loader",""],[1,"card"],[1,"card-body"],[1,"row"],[1,"col-12","col-md-3"],["id","nav-tab","role","tablist",1,"nav","flex-column","nav-pills"],[1,"nav-item"],[1,"col-12","col-md-9"],[1,"tab-content"],["class","nav-item",3,"click",4,"abpPermission"],[1,"nav-item",3,"click"],["role","tab","href","javascript:void(0)",1,"nav-link",3,"ngClass"],["role","tabpanel",1,"tab-pane","fade","show","active",3,"id"],[1,"my-4"],[4,"ngComponentOutlet"],[3,"abpLoading"]],template:function(i,r){if(1&i&&(t.j41(0,"div",1)(1,"div",2)(2,"div",3),t.DNE(3,Bo,6,1),t.nI1(4,"async"),t.DNE(5,Oo,2,0),t.k0s()()()),2&i){let a;t.R7$(3),t.vxM((a=t.bMT(4,1,r.tabs$))?3:5,a)}},dependencies:[lt.YU,lt.OI,s.Dud,f.GY,lt.Jj,s.aM3],encapsulation:2,data:{animation:[(0,Kt.hZ)("fadeIn",[(0,Kt.kY)(":enter",(0,Kt.sM)(f.qG))])]},changeDetection:0})}}return n})();const oi=new t.nKC("RE_LOGIN_CONFIRMATION_TOKEN");let ri=(()=>{class n{loadData(){this.storedProfile=this.manageProfileState.getProfile(),this.buildForm(this.storedProfile)}constructor(e,i,r,a,c,u,w,C,v){this.toasterService=e,this.confirmationService=i,this.subscription=r,this.manageProfileState=a,this.profileService=c,this.injector=u,this.configState=w,this.authService=C,this.isPersonalSettingsChangedConfirmationActive=v,this.profile$=this.manageProfileState.getProfile$(),this.modalVisible=!1,this.modalBusy=!1,this.token="",this.isEmailUpdateEnabled=!0,this.isUserNameUpdateEnabled=!0,this.buildForm=y=>{const T=new B.a9(this.injector,y);this.form=(0,B.uB)(T)},this.removeModal=()=>{this.modalVisible=!1},this.logoutConfirmation=()=>{this.authService.logout().subscribe()}}ngOnDestroy(){this.removeModal()}ngOnInit(){this.subscription.addOne(this.profile$.pipe((0,it.p)(Boolean),(0,N.M)(e=>this.storedProfile=e)),this.buildForm)}submit(){if(this.form.invalid)return;const e=this.isLogoutConfirmMessageActive(),i=this.authService.getRefreshToken(),{phoneNumberConfirmed:r,...a}=this.form.value;this.profileService.update(a).subscribe(c=>{if(this.manageProfileState.setProfile(c),this.configState.refreshAppState(),this.toasterService.success("AbpAccount::PersonalSettingsSaved","",{life:5e3}),i)return this.authService.refreshToken();e&&this.showLogoutConfirmMessage()})}isDataSame(e,i){return Object.entries(e).some(([r,a])=>r in i&&a!==i[r])}isLogoutConfirmMessageActive(){return!!this.isPersonalSettingsChangedConfirmationActive&&this.isDataSame(this.storedProfile,this.form.value)}showLogoutConfirmMessage(){this.confirmationService.info("AbpAccount::PersonalSettingsChangedConfirmationModalDescription","AbpAccount::PersonalSettingsChangedConfirmationModalTitle").pipe((0,it.p)(e=>e===f.m.Status.confirm)).subscribe(this.logoutConfirmation)}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(f.W9),t.rXU(f.td),t.rXU(s.nCQ),t.rXU(Qt),t.rXU(j.pq),t.rXU(t.zZn),t.rXU(s.d14),t.rXU(s.uRZ),t.rXU(oi))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["abp-personal-settings-form"]],features:[t.Jv_([s.nCQ,{provide:B.JF,useValue:"Account.PersonalSettingsComponent"}])],decls:1,vars:1,consts:[["validateOnSubmit","",3,"formGroup"],["validateOnSubmit","",3,"ngSubmit","formGroup"],[3,"selectedRecord"],["buttonType","submit","iconClass","fa fa-check","buttonClass","btn btn-primary color-white",3,"disabled"]],template:function(i,r){1&i&&t.DNE(0,$o,5,6,"form",0),2&i&&t.vxM(r.form?0:-1)},dependencies:[m.qT,m.cb,m.j4,s.S02,B.X3,p.a5,f.Qp,s.aM3],encapsulation:2})}}return n})(),ai=(()=>{class n{constructor(){this.cdRef=(0,t.WQX)(t.gRc),this.confirmation=(0,t.WQX)(f.td),this.profilePictureService=(0,t.WQX)(xt.x9),this.configState=(0,t.WQX)(s.d14),this.toasterService=(0,t.WQX)(f.W9),this.profilePicture$=(0,t.WQX)(xt.RP),this.profilePictureType=xt.nX.None}get currentUserId(){return this.configState.getDeep("currentUser.id")}toBase64(e){return new Promise((i,r)=>{const a=new FileReader;a.readAsDataURL(e),a.onload=()=>i(a.result),a.onerror=c=>r(c)})}ngOnInit(){this.getProfilePhoto()}getProfilePhoto(){this.profilePictureService.getProfilePicture(this.currentUserId).pipe((0,K.j)(()=>{this.profileLoaded=!0,this.cdRef.markForCheck()})).subscribe({next:e=>{this.profilePictureType=e.type;const i=e.source||`data:image/png;base64,${e.fileContent}`;this.profilePicture$.value.source!==i&&this.profilePicture$.next({type:"image",source:i})},error:()=>this.profilePicture$.next(xt.on)})}submit(){let e="";switch(this.profilePictureType){case xt.nX.Gravatar:e="UseGravatarConfirm";break;case xt.nX.Image:e="PPUploadConfirm";break;default:e="NoProfilePictureConfirm"}this.confirmation.warn(`AbpAccount::${e}`,"AbpAccount::AreYouSure").pipe((0,it.p)(i=>i===f.m.Status.confirm),(0,N.M)(()=>this.inProgress=!0),(0,k.n)(()=>{if(this.profilePictureType===xt.nX.Image){const i=new O.B;return this.cropper.getCroppedCanvas().toBlob(r=>{this.profilePictureService.setProfilePicture({type:this.profilePictureType,imageContent:r}).pipe((0,K.j)(()=>i.complete()),(0,U.W)(a=>(i.error(a),et.w))).subscribe(a=>i.next(a))}),i.asObservable()}return this.profilePictureService.setProfilePicture({type:this.profilePictureType})}),(0,z.s)(1),(0,K.j)(()=>{this.inProgress=!1;const i=document.getElementsByClassName("lpx-scroll-container")[0];i&&i.scrollTo({top:0,behavior:"instant"})})).subscribe(()=>{this.getProfilePhoto(),this.toasterService.success("AbpUi::SavedSuccessfully"),this.selectedImage=null,this.uploadFileRef&&(this.uploadFileRef.nativeElement.value=null)})}onSelectImage(e){var i=this;return(0,g.A)(function*(){i.selectedImage=yield i.toBase64(e),i.cdRef.detectChanges(),i.cropper&&i.cropper.destroy();const r=[250,150,75],a=()=>{i.selectedImagePreviews.forEach((c,u)=>{const w=r[u];c.nativeElement.src=i.cropper.getCroppedCanvas({width:w,height:w}).toDataURL()})};i.cropper=new Wi(i.selectedImgRef.nativeElement,{aspectRatio:1,viewMode:1,cropend:()=>a(),ready:()=>a()})})()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["abp-profile-picture"]],viewQuery:function(i,r){if(1&i&&(t.GBs(Go,5,t.aKT),t.GBs(zo,5,t.aKT),t.GBs(Vo,5,t.aKT)),2&i){let a;t.mGM(a=t.lsd())&&(r.uploadFileRef=a.first),t.mGM(a=t.lsd())&&(r.selectedImgRef=a.first),t.mGM(a=t.lsd())&&(r.selectedImagePreviews=a)}},decls:2,vars:1,consts:[["uploadFile",""],["selectedImgRef",""],["preview",""],[3,"abpLoading"],[1,"row"],[1,"col"],[1,"mb-3"],[1,"form-label"],["alt","current-profile-picture",1,"current-profile-picture",3,"src"],[1,"form-check","mb-2"],["type","radio","name","pptype","id","Radio_UseDefault",1,"form-check-input","pp-type-selector",3,"ngModelChange","value","ngModel"],["for","Radio_UseDefault",1,"form-check-label"],["type","radio","name","pptype","id","Radio_UseGravatar",1,"form-check-input","pp-type-selector",3,"ngModelChange","value","ngModel"],["for","Radio_UseGravatar",1,"form-check-label"],[1,"d-block","form-text","text-muted"],["type","radio","name","pptype","id","Radio_UploadFile",1,"form-check-input","pp-type-selector",3,"ngModelChange","value","ngModel"],["for","Radio_UploadFile",1,"form-check-label"],["id","UploadPPContainer",1,"row"],[1,"mt-2","row"],[1,"btn","btn-primary",3,"click","disabled"],["for","UploadProfilePictureInfo_Picture",1,"form-label"],["accept","image/*","type","file","id","UploadProfilePictureInfo_Picture",1,"form-control",3,"change"],[1,"general-image-container"],["alt","selected-image",1,"selected-image",3,"src"],["id","CursorInfo",1,"mt-2"],[1,"image-process-section"],[1,"sample-images","clearfix","mt-2"],[1,"big"],["alt","selected-image-preview-big"],[1,"medium"],["alt","selected-image-preview-medium"],[1,"small"],["alt","selected-image-preview-small"]],template:function(i,r){1&i&&t.DNE(0,Wo,36,29)(1,Ho,1,1,"div",3),2&i&&t.vxM(r.profileLoaded?0:1)},dependencies:[m.me,m.Fm,m.BC,m.vS,f.GY,lt.Jj,s.aM3],styles:['.cropper-container{direction:ltr;font-size:0;line-height:0;position:relative;-ms-touch-action:none;touch-action:none;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.cropper-container img{backface-visibility:hidden;display:block;height:100%;image-orientation:0deg;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;width:100%}.cropper-wrap-box,.cropper-canvas,.cropper-drag-box,.cropper-crop-box,.cropper-modal{inset:0;position:absolute}.cropper-wrap-box,.cropper-canvas{overflow:hidden}.cropper-drag-box{background-color:#fff;opacity:0}.cropper-modal{background-color:#000;opacity:.5}.cropper-view-box{display:block;height:100%;outline:1px solid #39f;outline-color:#3399ffbf;overflow:hidden;width:100%}.cropper-dashed{border:0 dashed #eee;display:block;opacity:.5;position:absolute}.cropper-dashed.dashed-h{border-bottom-width:1px;border-top-width:1px;height:calc(100% / 3);left:0;top:calc(100% / 3);width:100%}.cropper-dashed.dashed-v{border-left-width:1px;border-right-width:1px;height:100%;left:calc(100% / 3);top:0;width:calc(100% / 3)}.cropper-center{display:block;height:0;left:50%;opacity:.75;position:absolute;top:50%;width:0}.cropper-center:before,.cropper-center:after{background-color:#eee;content:" ";display:block;position:absolute}.cropper-center:before{height:1px;left:-3px;top:0;width:7px}.cropper-center:after{height:7px;left:0;top:-3px;width:1px}.cropper-face,.cropper-line,.cropper-point{display:block;height:100%;opacity:.1;position:absolute;width:100%}.cropper-face{background-color:#fff;left:0;top:0}.cropper-line{background-color:#39f}.cropper-line.line-e{cursor:ew-resize;right:-3px;top:0;width:5px}.cropper-line.line-n{cursor:ns-resize;height:5px;left:0;top:-3px}.cropper-line.line-w{cursor:ew-resize;left:-3px;top:0;width:5px}.cropper-line.line-s{bottom:-3px;cursor:ns-resize;height:5px;left:0}.cropper-point{background-color:#39f;height:5px;opacity:.75;width:5px}.cropper-point.point-e{cursor:ew-resize;margin-top:-3px;right:-3px;top:50%}.cropper-point.point-n{cursor:ns-resize;left:50%;margin-left:-3px;top:-3px}.cropper-point.point-w{cursor:ew-resize;left:-3px;margin-top:-3px;top:50%}.cropper-point.point-s{bottom:-3px;cursor:s-resize;left:50%;margin-left:-3px}.cropper-point.point-ne{cursor:nesw-resize;right:-3px;top:-3px}.cropper-point.point-nw{cursor:nwse-resize;left:-3px;top:-3px}.cropper-point.point-sw{bottom:-3px;cursor:nesw-resize;left:-3px}.cropper-point.point-se{bottom:-3px;cursor:nwse-resize;height:20px;opacity:1;right:-3px;width:20px}@media (min-width: 768px){.cropper-point.point-se{height:15px;width:15px}}@media (min-width: 992px){.cropper-point.point-se{height:10px;width:10px}}@media (min-width: 1200px){.cropper-point.point-se{height:5px;opacity:.75;width:5px}}.cropper-point.point-se:before{background-color:#39f;bottom:-50%;content:" ";display:block;height:200%;opacity:0;position:absolute;right:-50%;width:200%}.cropper-invisible{opacity:0}.cropper-bg{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC)}.cropper-hide{display:block;height:0;position:absolute;width:0}.cropper-hidden{display:none!important}.cropper-move{cursor:move}.cropper-crop{cursor:crosshair}.cropper-disabled .cropper-drag-box,.cropper-disabled .cropper-face,.cropper-disabled .cropper-line,.cropper-disabled .cropper-point{cursor:not-allowed}\n/*!\n * Cropper.js v1.6.2\n * https://fengyuanchen.github.io/cropperjs\n *\n * Copyright 2015-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2024-04-21T07:43:02.731Z\n */\n',".current-profile-picture{display:block;margin:0 auto;width:250px}.selected-image{display:block;max-width:100%}.cursor-info{display:block}.sample-images{list-style-type:none}.sample-images img{border:1px dotted slategray}.sample-images img:hover{border-radius:50%}.sample-images li{float:left;margin-left:1.2em}.sample-images li.big img{width:250px;height:250px}.sample-images li.medium img{width:150px;height:150px}.sample-images li.small img{width:75px;height:75px}\n"],encapsulation:2,changeDetection:0})}}return n})();const{maxLength:Vr,required:si,email:Xr}=m.k0;let ci=(()=>{class n{constructor(e){this.injector=e,this.isSelfRegistrationEnabled=!0,this.showPassword=!1,this.capsLock=!1,this.fb=e.get(m.ok),this.accountService=e.get(St),this.toasterService=e.get(f.W9),this.configState=e.get(s.d14),this.authService=e.get(s.uRZ),this.recaptchaService=e.get(le),this.passwordComplexityService=e.get(pe)}ngOnInit(){this.isSelfRegistrationEnabled="false"!==(this.configState.getSetting("Abp.Account.IsSelfRegistrationEnabled")||"").toLowerCase(),this.isSelfRegistrationEnabled?this.form=this.fb.group({username:["",[si,Vr(255)]],password:["",[si,...(0,f.kl)(this.injector)]],email:["",[si,Xr]]}):this.toasterService.warn({key:"AbpAccount::SelfRegistrationDisabledMessage",defaultValue:"Self registration is disabled."},null,{life:1e4})}ngAfterViewInit(){this.recaptchaService.setStrategy(Ve.Register(this.configState,this.recaptchaRef.nativeElement))}onSubmit(){if(this.form.invalid)return;this.inProgress=!0;const e={userName:this.form.get("username").value,password:this.form.get("password").value,emailAddress:this.form.get("email").value,appName:"Angular"};(this.recaptchaService.isEnabled?this.recaptchaService.getVerificationToken():(0,x.of)(void 0)).pipe((0,k.n)(i=>this.accountService.register({...e,captchaResponse:i}).pipe((0,k.n)(()=>this.authService.login({username:e.userName,password:e.password,redirectUrl:Se(this.injector)||"/"})),(0,U.W)(r=>(this.recaptchaService.reset(),this.toasterService.error(r.error?.error_description||r.error?.error?.message||"AbpAccount::DefaultErrorMessage",null,{life:7e3}),(0,M.$)(r))))),(0,K.j)(()=>this.inProgress=!1)).subscribe()}get password(){return this.form.value.password}validatePassword(){this.progressBar=this.passwordComplexityService.validatePassword(this.password)}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(t.zZn))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["abp-register"]],viewQuery:function(i,r){if(1&i&&t.GBs(Qi,5),2&i){let a;t.mGM(a=t.lsd())&&(r.recaptchaRef=a.first)}},features:[t.Jv_([le])],decls:7,vars:7,consts:[["recaptcha",""],[1,"mb-3"],["routerLink","/account/login",1,"text-decoration-none"],["validateOnSubmit","",3,"formGroup"],["validateOnSubmit","",3,"ngSubmit","formGroup"],[1,"form-floating","mb-2"],["autofocus","","type","text","id","input-user-name","placeholder","name@example.com","formControlName","username",1,"form-control"],["for","input-user-name"],["type","email","id","input-email-address","placeholder","name@example.com","formControlName","email",1,"form-control"],["for","input-email-address"],[1,"form-floating","mb-2","d-flex","flex-column"],["id","password","placeholder","Password","formControlName","password",1,"form-control",3,"abpCapsLock","keyup","abpShowPassword"],[3,"progressBar"],[1,"d-flex","align-items-center","order-2","mt-1",2,"font-weight","500","padding-left","1.25rem"],["for","input-password",1,"opacity-100"],["id","capslockicon",1,"bi","bi-capslock","caps-lock-icon",3,"ngbTooltip"],["id","passwordicon","aria-label","Show/Hide password",3,"click","ngbTooltip"],[1,"row","mb-3"],[1,"col"],["buttonClass","btn btn-primary register-btn btn-lg w-100","buttonType","submit",1,"d-grid",3,"loading"]],template:function(i,r){1&i&&(t.j41(0,"h5",1),t.EFF(1),t.nI1(2,"abpLocalization"),t.j41(3,"a",2),t.EFF(4),t.nI1(5,"abpLocalization"),t.k0s()(),t.DNE(6,Jo,29,28,"form",3)),2&i&&(t.R7$(),t.SpI(" ",t.bMT(2,3,"AbpAccount::AlreadyRegistered")," "),t.R7$(3),t.JRh(t.bMT(5,5,"AbpAccount::Login")),t.R7$(2),t.vxM(r.isSelfRegistrationEnabled?6:-1))},dependencies:[m.qT,m.me,m.BC,m.cb,m.j4,m.JD,R.Wk,s.B7c,s.S02,p.a5,p.lt,f.Qp,l.md,s.MGs,s.Das,Jt,s.aM3],encapsulation:2})}}return n})();const pn=["password","confirmPassword"];let li=(()=>{class n{constructor(e,i,r,a,c){this.fb=e,this.accountService=i,this.route=r,this.router=a,this.injector=c,this.inProgress=!1,this.isPasswordReset=!1,this.passwordComplexityService=(0,t.WQX)(pe),this.mapErrorsFn=(u,w,C)=>pn.indexOf(String(C.name))<0?u:u.concat(w.filter(({key:v})=>"passwordMismatch"===v))}ngOnInit(){this.route.queryParams.subscribe(({userId:e,resetToken:i})=>{(!e||!i)&&this.router.navigateByUrl("/account/login"),this.form=this.fb.group({userId:[e,[m.k0.required]],resetToken:[i,[m.k0.required]],password:["",[m.k0.required,...(0,f.kl)(this.injector)]],confirmPassword:["",[m.k0.required,...(0,f.kl)(this.injector)]]},{validators:[(0,p.CF)(pn)]})})}onSubmit(){this.form.invalid||this.inProgress||(this.inProgress=!0,this.accountService.resetPassword({userId:this.form.get("userId").value,resetToken:this.form.get("resetToken").value,password:this.form.get("password").value}).pipe((0,K.j)(()=>this.inProgress=!1)).subscribe(()=>{this.isPasswordReset=!0}))}get password(){return this.form.get("password").value}validatePassword(){this.progressBar=this.passwordComplexityService.validatePassword(this.password)}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(m.ze),t.rXU(St),t.rXU(R.nX),t.rXU(R.Ix),t.rXU(t.zZn))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["abp-reset-password"]],decls:2,vars:1,consts:[["validateOnSubmit","",3,"formGroup","mapErrorsFn"],["validateOnSubmit","",3,"ngSubmit","formGroup","mapErrorsFn"],[1,"mb-3","d-flex","flex-column"],["for","input-password",1,"form-label"],["type","password","id","input-password","formControlName","password",1,"form-control",3,"keyup"],[3,"progressBar"],[1,"d-flex","align-items-center","order-2","mt-1",2,"font-weight","500"],[1,"mb-3"],["for","input-confirm-password",1,"form-label"],["type","password","id","input-confirm-password","formControlName","confirmPassword",1,"form-control"],["type","button",1,"me-2","btn","btn-outline-primary"],["buttonClass","me-2 btn btn-primary","buttonType","submit",3,"loading"],["routerLink","/account/login"],[1,"d-block","mt-2","mb-3","btn","btn-primary"]],template:function(i,r){1&i&&t.DNE(0,qo,26,20,"form",0)(1,Zo,7,6),2&i&&t.vxM(r.isPasswordReset?1:0)},dependencies:[m.qT,m.me,m.BC,m.cb,m.j4,m.JD,R.Wk,s.S02,p.a5,p.lt,f.Qp,Jt,s.aM3],encapsulation:2})}}return n})(),pi=(()=>{class n{constructor(e,i,r){this.service=e,this.accountService=i,this.fb=r,this.providers=[],this.codeForm=this.fb.group({code:[null,[m.k0.required]]})}ngOnInit(){const{twoFactorToken:e,userId:i}=this.service.data;this.accountService.getTwoFactorProviders({token:e,userId:i}).subscribe(r=>{this.providers=r,this.selectedProvider=r[0]})}ngOnDestroy(){this.service.data=null}sendTwoFactorCode(){if(this.loading)return;this.loading=!0;const{twoFactorToken:e,userId:i}=this.service.data;this.accountService.sendTwoFactorCode({token:e,userId:i,provider:this.selectedProvider}).pipe((0,K.j)(()=>this.loading=!1)).subscribe(()=>{this.showCodeForm=!0})}login(){if(this.codeForm.invalid)return;const{code:e}=this.codeForm.value;this.loading=!0,this.service.login({code:e,provider:this.selectedProvider}).pipe((0,K.j)(()=>this.loading=!1)).subscribe()}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(Ht),t.rXU(St),t.rXU(m.ze))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["abp-send-security-code"]],decls:2,vars:1,consts:[[1,"mb-3"],["for","selected-provider",1,"form-label"],["id","selected-provider","name","selected-provider",1,"form-select","form-control",3,"ngModelChange","ngModel"],[3,"ngValue"],[3,"abpClick","loading"],[3,"ngSubmit","formGroup"],["for","code",1,"form-label"],["type","text","id","code","formControlName","code","autocomplete","off","autofocus","",1,"form-control"],["buttonType","submit",3,"loading"],[1,"mt-3"],[3,"routerLink"]],template:function(i,r){1&i&&t.DNE(0,ir,14,11,"form")(1,nr,17,16),2&i&&t.vxM(r.showCodeForm?1:0)},dependencies:[m.qT,m.xH,m.y7,m.me,m.wz,m.BC,m.cb,m.vS,m.cV,m.j4,m.JD,R.Wk,s.B7c,s.S02,p.a5,p.lt,f.Qp,s.aM3],encapsulation:2})}}return n})(),ui=(()=>{class n{constructor(){this.profileService=(0,t.WQX)(j.pq),this.configState=(0,t.WQX)(s.d14),this.subscription=(0,t.WQX)(s.nCQ),this.formProp=(0,t.WQX)(B.MW),this.propData=(0,t.WQX)(B.dx),this.track=(0,t.WQX)(s.kTg),this.timeZones$=this.profileService.getTimezones()}get name(){return this.formProp.name}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["abp-personal-settings-time-zone"]],features:[t.Jv_([],[B.P4])],decls:9,vars:7,consts:[[1,"mb-3"],[1,"form-label"],[1,"ms-1"],["name","timezone",1,"form-select","form-control",3,"formControlName"],[3,"ngValue"]],template:function(i,r){if(1&i&&(t.j41(0,"div",0)(1,"label",1),t.EFF(2),t.nI1(3,"abpLocalization"),t.nrm(4,"span",2),t.k0s(),t.j41(5,"div")(6,"select",3),t.DNE(7,ar,2,0),t.nI1(8,"async"),t.k0s()()()),2&i){let a;t.R7$(2),t.JRh(t.bMT(3,3,"AbpSettingManagement::Menu:TimeZone")),t.R7$(4),t.Y8G("formControlName",r.name),t.R7$(),t.vxM((a=t.bMT(8,5,r.timeZones$))?7:-1,a)}},dependencies:[m.xH,m.y7,m.wz,m.BC,m.JD,p.lt,lt.Jj,s.aM3],encapsulation:2})}}return n})(),di=(()=>{class n{constructor(){this.passwordComplexityService=(0,t.WQX)(pe),this.service=(0,t.WQX)(We),this.subscription=(0,t.WQX)(s.nCQ),this.showCurrentPassword=!1,this.showNewPassword=!1,this.showConfirmPassword=!1,this.mapErrorsFn=this.service.MapErrorsFnFactory()}ngOnInit(){this.form=this.service.buildForm()}onSuccess(){const e=this.service.redirectToReturnUrl();this.subscription.addOne(e)}onSubmit(){if(this.form.invalid)return;const e=this.form.value,i=this.service.changePasswordAndLogin({currentPassword:e.currentPassword,newPassword:e.newPassword});this.subscription.addOne(i,()=>this.onSuccess(),r=>this.service.showErrorMessage(r))}get newPassword(){return this.form.get("newPassword").value}validatePassword(){this.progressBar=this.passwordComplexityService.validatePassword(this.newPassword)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["abp-refresh-password-form"]],exportAs:["abpRefreshPasswordForm"],features:[t.Jv_([s.nCQ])],decls:36,vars:31,consts:[["validateOnSubmit","",3,"ngSubmit","formGroup","mapErrorsFn"],[1,"mb-3"],["for","current-password",1,"form-label"],["validationTarget","",1,"input-group","form-group"],["id","current-password","formControlName","currentPassword",1,"form-control",3,"abpShowPassword"],["type","button",1,"btn","btn-secondary",3,"click"],["aria-hidden","true",1,"fa",3,"ngClass"],[1,"mb-3","d-flex","flex-column"],["for","new-password",1,"form-label"],["id","new-password","formControlName","newPassword",1,"form-control",3,"keyup","abpShowPassword"],[3,"progressBar"],[1,"d-flex","align-items-center","order-2","mt-1",2,"font-weight","500"],["for","confirm-new-password",1,"form-label"],["id","confirm-new-password","formControlName","repeatNewPassword",1,"form-control",3,"keyup","abpShowPassword"],["iconClass","fa fa-check","buttonClass","btn btn-primary color-white","buttonType","submit",1,"d-grid"]],template:function(i,r){1&i&&(t.j41(0,"form",0),t.bIt("ngSubmit",function(){return r.onSubmit()}),t.j41(1,"div",1)(2,"label",2),t.EFF(3),t.nI1(4,"abpLocalization"),t.j41(5,"span"),t.EFF(6," * "),t.k0s()(),t.j41(7,"div",3),t.nrm(8,"input",4),t.j41(9,"button",5),t.bIt("click",function(){return r.showCurrentPassword=!r.showCurrentPassword}),t.nrm(10,"i",6),t.k0s()()(),t.j41(11,"div",7)(12,"label",8),t.EFF(13),t.nI1(14,"abpLocalization"),t.j41(15,"span"),t.EFF(16," * "),t.k0s()(),t.j41(17,"div",3)(18,"input",9),t.bIt("keyup",function(){return r.validatePassword()}),t.k0s(),t.j41(19,"button",5),t.bIt("click",function(){return r.showNewPassword=!r.showNewPassword}),t.nrm(20,"i",6),t.k0s()(),t.nrm(21,"abp-password-complexity-indicator",10),t.DNE(22,sr,6,8,"div",11),t.k0s(),t.j41(23,"div",1)(24,"label",12),t.EFF(25),t.nI1(26,"abpLocalization"),t.j41(27,"span"),t.EFF(28," * "),t.k0s()(),t.j41(29,"div",3)(30,"input",13),t.bIt("keyup",function(){return r.validatePassword()}),t.k0s(),t.j41(31,"button",5),t.bIt("click",function(){return r.showConfirmPassword=!r.showConfirmPassword}),t.nrm(32,"i",6),t.k0s()()(),t.j41(33,"abp-button",14),t.EFF(34),t.nI1(35,"abpLocalization"),t.k0s()()),2&i&&(t.Y8G("formGroup",r.form)("mapErrorsFn",r.mapErrorsFn),t.R7$(3),t.SpI(" ",t.bMT(4,14,"AbpIdentity::DisplayName:CurrentPassword")," "),t.R7$(5),t.Y8G("abpShowPassword",r.showCurrentPassword),t.R7$(2),t.Y8G("ngClass",t.l_i(22,Yt,!r.showCurrentPassword,r.showCurrentPassword)),t.R7$(3),t.SpI(" ",t.bMT(14,16,"AbpIdentity::DisplayName:NewPassword")," "),t.R7$(5),t.Y8G("abpShowPassword",r.showNewPassword),t.R7$(2),t.Y8G("ngClass",t.l_i(25,Yt,!r.showNewPassword,r.showNewPassword)),t.R7$(),t.Y8G("progressBar",r.progressBar),t.R7$(),t.vxM((null==r.progressBar?null:r.progressBar.width)>0?22:-1),t.R7$(3),t.SpI(" ",t.bMT(26,18,"AbpIdentity::DisplayName:NewPasswordConfirm")," "),t.R7$(5),t.Y8G("abpShowPassword",r.showConfirmPassword),t.R7$(2),t.Y8G("ngClass",t.l_i(28,Yt,!r.showConfirmPassword,r.showConfirmPassword)),t.R7$(2),t.SpI(" ",t.bMT(35,20,"AbpIdentity::Submit")," "))},dependencies:[lt.YU,m.qT,m.me,m.BC,m.cb,m.j4,m.JD,s.S02,p.a5,p.Ss,p.lt,f.Qp,s.MGs,Jt,s.aM3],encapsulation:2})}}return n})(),un=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["abp-qr-code"]],inputs:{qrData:"qrData",width:"width",errorCorrectionLevel:"errorCorrectionLevel"},standalone:!0,features:[t.aNF],decls:2,vars:1,consts:[[3,"qrdata","width","errorCorrectionLevel"],[1,"text-center","text-muted"],[1,"fa","fa-qrcode","fa-5x"]],template:function(i,r){if(1&i&&t.DNE(0,cr,1,3,"qrcode",0)(1,lr,2,0,"div",1),2&i){let a;t.vxM((a=r.qrData)?0:1,a)}},dependencies:[uo,po,s.Ui],encapsulation:2,changeDetection:0})}}return n})(),dn=(()=>{class n{constructor(){this.authenticatorAppService=(0,t.WQX)(Qe),this.windowService=(0,t.WQX)(s.fPA),this.toasterService=(0,t.WQX)(f.W9),this.confirmationService=(0,t.WQX)(f.td),this.activeStep="Authenticator",this.verifyCode="",this.isVerifiedAuthenticatorCode=(0,t.vPA)(!1),this.hasAuthenticator=this.authenticatorAppService.hasAuthenticator,this.authenticatorInfo=this.authenticatorAppService.authenticatorInfo,this.recoveryCodeList=(0,t.vPA)([]),this.hasRecoveryCodes=(0,t.EWP)(()=>this.recoveryCodeList().length>0)}copyToClipboard(e){this.windowService.copyToClipboard(e),this.toasterService.success("AbpUi::CopiedToTheClipboard")}verifyQrCode(){this.verifyCode&&this.authenticatorAppService.verifyAuthenticatorCode(this.verifyCode).subscribe(({recoveryCodes:e})=>{this.isVerifiedAuthenticatorCode.set(!0),this.recoveryCodeList.set(e)})}printRecoverCodes(){if(this.recoveryCodeList().length<1)return;const e=this.windowService.open();e.document.write("<html><body>"),e.document.write(...this.recoveryCodeList().join("<br>")),e.document.write("</body></html>"),e.document.close(),e.print()}recoveryCodeOk(){this.windowService.reloadPage()}copySharedKey(){this.copyToClipboard(this.authenticatorInfo().key)}copyRecoveryCodes(){const e=this.recoveryCodeList().join("\n");this.copyToClipboard(e)}resetAuthenticator(){this.confirmationService.warn("AbpAccount::ResetAuthenticatorWarningMessage","AbpUi::AreYouSure").pipe((0,it.p)(e=>e===f.m.Status.confirm),(0,k.n)(()=>this.authenticatorAppService.resetAuthenticator())).subscribe(()=>this.windowService.reloadPage())}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["abp-authenticator-app"]],standalone:!0,features:[t.Jv_([Qe]),t.aNF],decls:4,vars:2,consts:[["nextStep",""],["nav","ngbNav"],["id","reset-authenticator"],["ngbNav","",1,"nav","nav-pills","nav-fill","mb-3",3,"activeIdChange","activeId"],[3,"ngbNavItem"],["ngbNavLink",""],[1,"opacity-75"],[1,"m-0"],["ngbNavContent",""],[3,"ngbNavItem","classList","disabled"],["role","tabpanel",1,"tab-pane","fade","show","active","w-100",3,"id"],[3,"ngbNavOutlet"],[1,"authenticator-step-1"],[1,"mb-1"],[1,"mb-3"],["id","setAuthenticator"],[1,"row","g-0"],[1,"text-end","mt-3"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"col"],[1,"card","border","h-100"],[1,"card-body"],[1,"d-flex","justify-content-center","p-3","pb-0"],[3,"qrData"],[1,"col-md-1"],[1,"d-flex","align-items-center","justify-content-center","h-100"],[1,"text-muted","py-3"],["id","sharedKey",1,"bg-light","rounded","px-3","py-2","mt-4"],[1,"fs-4","lh-lg"],["type","button","id","copySharedKey",1,"btn","btn-outline-primary","btn-sm","mt-3",3,"click"],[1,"authenticator-step-2"],[1,"row"],[3,"ngModelChange","inputId","ngModel","label"],[3,"click","id","buttonClass"],[1,"authenticator-step-3"],["id","recoveryCodes",1,"list-group","w-100"],[1,"list-group-item","p-3","d-flex","justify-content-between","align-items-start"],[1,"w-100"],[1,"text-end"],["id","printRecoverCodes","type","button",1,"btn","btn-outline-primary","btn-sm",3,"click"],["id","copyRecoverCodes","type","button",1,"ms-1","btn","btn-outline-primary","btn-sm",3,"click"],[1,"bg-light","rounded","px-3","py-3","mt-3","w-100","text-center"],["id","recoveryCodesList",1,"fs-4","lh-lg"],[3,"click","id","disabled","buttonClass"],[1,"my-3"],["id","resetAuthenticator",3,"click"],["type","button",1,"btn","btn-primary","px-3",3,"click","id"],[1,"bi","bi-arrow-right","ms-2"]],template:function(i,r){1&i&&t.DNE(0,Cr,31,29)(1,yr,11,9,"div",2)(2,wr,4,7,"ng-template",null,0,t.C5r),2&i&&(t.vxM(r.hasAuthenticator()?-1:0),t.R7$(),t.vxM(r.hasAuthenticator()?1:-1))},dependencies:[l.Pv,l.Um,l.X9,l.sy,l.Gx,l.RI,l.WA,l.m_,s.Ui,lt.T3,m.BC,m.vS,s.aM3,f.Ts,f.Qp,f.SM,un],encapsulation:2,changeDetection:0})}}return n})(),hi=(()=>{class n{isTwoFactorEnabled(){this.isLoaded.set(!1),this.twoFactorTabService.isTwoFactorEnabled$.pipe((0,K.j)(()=>this.isLoaded.set(!0))).subscribe(e=>this.form.controls.isTwoFactorEnabled.setValue(e))}trackTwoFactorStatus(){this.form.valueChanges.pipe((0,F.i)(1),(0,k.n)(({isTwoFactorEnabled:e})=>this.twoFactorTabService.setTwoFactorStatus(e).pipe((0,U.W)(()=>(this.form.controls.isTwoFactorEnabled.setValue(!1,{emitEvent:!1}),et.w)))),(0,G.pQ)()).subscribe()}constructor(){this.fb=(0,t.WQX)(m.ok),this.twoFactorTabService=(0,t.WQX)(He),this.form=this.fb.group({isTwoFactorEnabled:[!1]}),this.isLoaded=(0,t.vPA)(!1),this.isTwoFactorEnabled(),this.trackTwoFactorStatus()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["abp-two-factor-tab"]],standalone:!0,features:[t.Jv_([He]),t.aNF],decls:2,vars:1,consts:[[3,"formGroup"],[3,"abpLoading"],[1,"form-check","mb-2"],["type","checkbox","id","twoFactorEnabled","formControlName","isTwoFactorEnabled",1,"form-check-input"],["for","twoFactorEnabled",1,"form-check-label"],[1,"text-muted"]],template:function(i,r){1&i&&t.DNE(0,Sr,10,7,"form",0)(1,Tr,1,1,"div",1),2&i&&t.vxM(r.isLoaded()?0:1)},dependencies:[s.Ui,m.qT,m.Zm,m.BC,m.cb,m.j4,m.JD,s.aM3,f.Ts,p.a5,p.lt,f.GY],encapsulation:2,changeDetection:0})}}return n})(),hn=(()=>{class n{constructor(){this.service=(0,t.WQX)(j.b),this.modalOptions={size:"lg"},this.isModalVisible=(0,t.geq)(!1),this.sessionId=t.hFB.required(),this.sessionInfo=(0,t.vPA)({})}ngOnInit(){this.service.get(this.sessionId()).subscribe(this.sessionInfo.set)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["abp-account-session-detail"]],inputs:{isModalVisible:[1,"isModalVisible"],sessionId:[1,"sessionId"]},outputs:{isModalVisible:"isModalVisibleChange"},standalone:!0,features:[t.aNF],decls:7,vars:2,consts:[["abpHeader",""],["abpBody",""],["abpFooter",""],[3,"visibleChange","visible","options"],[1,"row"],[1,"col-form-label","col-lg-3"],[1,"col-form-label","col-lg-9"],[1,"my-0"],[1,"list-group","list-group-flush"],[1,"list-group-item"],["type","button","abpClose","",1,"btn","btn-secondary"]],template:function(i,r){if(1&i){const a=t.RV6();t.j41(0,"abp-modal",3),t.mxI("visibleChange",function(u){return t.eBV(a),t.DH7(r.isModalVisible,u)||(r.isModalVisible=u),t.Njj(u)}),t.DNE(1,_r,3,3,"ng-template",null,0,t.C5r)(3,Rr,61,31,"ng-template",null,1,t.C5r)(5,Mr,3,3,"ng-template",null,2,t.C5r),t.k0s()}2&i&&(t.R50("visible",r.isModalVisible),t.Y8G("options",r.modalOptions))},dependencies:[s.Ui,s.aM3,s.iQJ,f.Ts,f.zf,f.b6],encapsulation:2})}}return n})(),fn=(()=>{class n{constructor(){this.list=(0,t.WQX)(s.aGM),this.service=(0,t.WQX)(j.b),this.confirmationService=(0,t.WQX)(f.td),this.authService=(0,t.WQX)(s.uRZ),this.configStateService=(0,t.WQX)(s.d14),this.data=(0,t.vPA)({items:[],totalCount:0}),this.sessionId=(0,t.vPA)(""),this.visibleSessionDetailModal=(0,t.vPA)(!1)}hookToQuery(){this.list.hookToQuery(e=>this.service.getList({...e})).subscribe(this.data.set)}ngOnInit(){this.hookToQuery()}showDetail(e){this.visibleSessionDetailModal.set(!0),this.sessionId.set(e.id)}revokeSession(e){this.confirmationService.warn("AbpIdentity::SessionRevokeConfirmationMessage","AbpUi::AreYouSure").pipe((0,it.p)(i=>i===f.m.Status.confirm),(0,k.n)(()=>this.service.revoke(e.id).pipe((0,N.M)(()=>{if(e.isCurrent)return this.authService.logout({noRedirectToLogoutUrl:!0}).pipe((0,k.n)(()=>this.configStateService.refreshAppState())).subscribe();this.hookToQuery()})))).subscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["abp-account-sessions"]],standalone:!0,features:[t.Jv_([s.aGM]),t.aNF],decls:9,vars:5,consts:[["nav","ngbNav"],["ngbNav","",1,"nav-tabs"],["ngbNavItem",""],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavOutlet"],[3,"sessionId","isModalVisible"],["default","",3,"rows","count","list"],[3,"name","sortable"],["ngx-datatable-cell-template",""],["prop","device",3,"name","sortable"],["prop","deviceInfo",3,"name","sortable"],["prop","signedIn",3,"name","sortable"],["prop","lastAccessed",3,"name","sortable"],["ngbDropdown","","container","body",1,"d-inline-block"],["data-toggle","dropdown","aria-haspopup","true","ngbDropdownToggle","",1,"btn","btn-primary","btn-sm","dropdown-toggle"],["aria-hidden","true",1,"fa","fa-cog","me-1"],["ngbDropdownMenu",""],["ngbDropdownItem","",3,"click"],["container","body","placement","end",1,"fas","fa-dot-circle",3,"ngbTooltip"],[3,"isModalVisibleChange","sessionId","isModalVisible"]],template:function(i,r){if(1&i&&(t.j41(0,"ul",1,0)(2,"li",2)(3,"a",3),t.EFF(4),t.nI1(5,"abpLocalization"),t.k0s(),t.DNE(6,Nr,15,23,"ng-template",4),t.k0s()(),t.nrm(7,"div",5),t.DNE(8,xr,1,2,"abp-account-session-detail",6)),2&i){const a=t.sdS(1);t.R7$(4),t.JRh(t.bMT(5,3,"AbpIdentity::Sessions")),t.R7$(3),t.Y8G("ngbNavOutlet",a),t.R7$(),t.vxM(r.visibleSessionDetailModal()?8:-1)}},dependencies:[l.zH,l.tg,l.do,l.U0,l._H,l.Eu,l.n8,l.md,l.Pv,l.Um,l.X9,l.sy,l.Gx,l.Ri,l.WA,l.m_,s.Ui,s.aM3,s.iQJ,f.Ts,Ge.ge,Ge.ed,Ge.QI,f.Jz,f.O6,hn],encapsulation:2})}}return n})();const{maxLength:ue,required:mn,email:Yr}=m.k0,Wr=B.UW.createMany([{type:"string",name:"userName",displayName:"AbpIdentity::DisplayName:UserName",id:"username",validators:()=>[mn,ue(256)],readonly:n=>"false"===(n.getInjected(s.d14).getSettings()["Abp.Identity.User.IsUserNameUpdateEnabled"]||"").toLowerCase()},{type:"string",name:"name",displayName:"AbpIdentity::DisplayName:Name",id:"name",validators:()=>[ue(64)],template:Ce,className:"d-inline-block w-50"},{type:"string",name:"surname",displayName:"AbpIdentity::DisplayName:Surname",id:"surname",validators:()=>[ue(64)],className:"d-inline-block w-50 ps-4",template:Ce},{type:"string",name:"email",displayName:"AbpIdentity::DisplayName:Email",id:"email-address",validators:()=>[mn,Yr,ue(256)],template:Je,readonly:n=>"false"===(n.getInjected(s.d14).getSettings()["Abp.Identity.User.IsEmailUpdateEnabled"]||"").toLowerCase()},{type:"string",name:"phoneNumber",displayName:"AbpIdentity::DisplayName:PhoneNumber",id:"phone-number",validators:()=>[ue(16)],template:Ke},{type:"string",name:"timezone",displayName:"AbpSettingManagement::Menu:TimeZone",id:"timezone",template:ui,visible:n=>"Utc"===n.getInjected(s.d14).getDeep("clock.kind")}]),gn={"Account.MySecurityLogs":Br},bn={"Account.MySecurityLogs":Or},vn={"Account.MySecurityLogs":Ur},Cn={"Account.PersonalSettingsComponent":Wr},fi=new t.nKC("ACCOUNT_ENTITY_ACTION_CONTRIBUTORS"),mi=new t.nKC("ACCOUNT_TOOLBAR_ACTION_CONTRIBUTORS"),gi=new t.nKC("ACCOUNT_ENTITY_PROP_CONTRIBUTORS"),bi=new t.nKC("ACCOUNT_EDIT_FORM_PROP_CONTRIBUTORS");let vi=(()=>{class n{constructor(e,i){this.manageProfileTabs=e,this.replaceableComponentsService=i,this.addComponentsToTabs=r=>{r.forEach(a=>{if(a.component)return;const c=this.replaceableComponentsService.get(a.name),u=c?c.component:Qr[a.name];u&&this.manageProfileTabs.patch(a.name,{component:u})})}}resolve(){return this.manageProfileTabs.visible$.pipe((0,N.M)(this.addComponentsToTabs),(0,z.s)(1))}static{this.\u0275fac=function(i){return new(i||n)(t.KVO(qt.Kn),t.KVO(s.g_A))}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac})}}return n})();const Qr={"AbpAccount::ProfileTab:Picture":ai,"AbpAccount::ProfileTab:Password":qe,"AbpAccount::ProfileTab:PersonalInfo":ri,"AbpAccount::ProfileTab:AuthenticatorApp":dn,"AbpAccount::ProfileTab:TwoFactor":hi},Jr=[{path:"",pathMatch:"full",redirectTo:"login"},{path:"",component:s.Cs_,resolve:[()=>{const n=(0,t.WQX)(t.zZn),o=n.get(B.yJ),e=n.get(fi,null)||{},i=n.get(mi,null)||{},r=n.get(gi,null)||{},a=n.get(bi,null)||{},c=n.get(s.d14),u=(0,B.Nl)(c,"Identity").pipe((0,L.T)(C=>({"Account.PersonalSettingsComponent":C.User})),(0,B.p2)(c,"AbpIdentity"),(0,N.M)(C=>{(0,B.ah)(o.editFormProps,Cn,C.editForm,a)})),w=(0,B.Nl)(c,"Account").pipe((0,L.T)(C=>({"Account.MySecurityLogs":C.SecurityLogs})),(0,B.p2)(c,"AbpAccount"),(0,N.M)(C=>{(0,B.xB)(o.entityActions,gn,e),(0,B.xB)(o.toolbarActions,bn,i),(0,B.ah)(o.entityProps,vn,C.prop,r)}));return(0,D.y)(w,u)}],children:[{path:"login",component:s.yFO,canActivate:[ce],data:{replaceableComponent:{key:"Account.LoginComponent",defaultComponent:ii}},title:"AbpAccount::Login"},{path:"register",component:s.yFO,canActivate:[ce],data:{replaceableComponent:{key:"Account.RegisterComponent",defaultComponent:ci}},title:"AbpAccount::Register"},{path:"forgot-password",component:s.yFO,canActivate:[ce],data:{replaceableComponent:{key:"Account.ForgotPasswordComponent",defaultComponent:ti}},title:"AbpAccount::ForgotPassword"},{path:"reset-password",component:s.yFO,canActivate:[ce],data:{tenantBoxVisible:!1,replaceableComponent:{key:"Account.ResetPasswordComponent",defaultComponent:li}},title:"AbpAccount::ResetPassword"},{path:"email-confirmation",component:s.yFO,data:{tenantBoxVisible:!1,replaceableComponent:{key:"Account.EmailConfirmationComponent",defaultComponent:Ze}},title:"AbpAccount::EmailConfirmation"},{path:"link-logged",component:s.yFO,data:{tenantBoxVisible:!1,replaceableComponent:{key:"Account.LinkLogged",defaultComponent:ei}},title:"AbpAccount::LinkLogged"},{path:"send-security-code",component:s.yFO,canActivate:[Ji],data:{tenantBoxVisible:!1,replaceableComponent:{key:"Account.SendSecurityCode",defaultComponent:pi}},title:"AbpAccount::TwoFactorVerification"},{path:"login-with-recovery-code",component:s.yFO,canActivate:[nn],data:{replaceableComponent:{key:"Account.LoginWithRecoveryCodeComponent",defaultComponent:on}},title:"AbpAccount::LoginWithRecoveryCode"},{path:"manage",component:s.yFO,canActivate:[s.W_R],resolve:{manageProfile:vi},data:{replaceableComponent:{key:"Account.ManageProfileComponent",defaultComponent:ni}},title:"AbpAccount::MyAccount"},{path:"security-logs",component:s.yFO,canActivate:[s.W_R],data:{replaceableComponent:{key:"Account.MySecurityLogs",defaultComponent:ve}},title:"AbpAccount::MySecurityLogs"},{path:"change-password",component:s.yFO,data:{replaceableComponent:{key:"Account.RefreshPasswordComponent",defaultComponent:di}},title:"AbpAccount::ChangePassword"},{path:"sessions",component:s.yFO,canActivate:[s.W_R],data:{replaceableComponent:{key:"Account.Sessions",defaultComponent:fn}},title:"AbpIdentity::Sessions"}]}];let Kr=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[R.iI.forChild(Jr),R.iI]})}}return n})();function yn(n){return{redirectUrl:"/",...n}}let qr=(()=>{class n{static forChild(e){return{ngModule:n,providers:[{provide:we,useValue:e},{provide:"ACCOUNT_OPTIONS",useFactory:yn,deps:[we]},{provide:fi,useValue:e.entityActionContributors},{provide:mi,useValue:e.toolbarActionContributors},{provide:gi,useValue:e.entityPropContributors},{provide:bi,useValue:e.personelInfoEntityPropContributors},vi,Ht,Wt,{provide:oi,useValue:e.isPersonalSettingsChangedConfirmationActive??!0}]}}static forLazy(e={}){return new s.l37(n.forChild(e))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[s.Ui,f.n8,S.pY,Kr,f.Ts,l.zH,p.fs,l.zr,l.IQ,l.n8,h.wq,hi,A.tw,S.jx]})}}return n})(),Zr=(()=>{class n{constructor(e){this.injector=e}canActivate(){const e=this.injector.get(B.yJ),i=this.injector.get(fi,null)||{},r=this.injector.get(mi,null)||{},a=this.injector.get(gi,null)||{},c=this.injector.get(bi,null)||{},u=this.injector.get(s.d14),w=(0,B.Nl)(u,"Identity").pipe((0,L.T)(v=>({"Account.PersonalSettingsComponent":v.User})),(0,B.p2)(u,"AbpIdentity"),(0,N.M)(v=>{(0,B.ah)(e.editFormProps,Cn,v.editForm,c)})),C=(0,B.Nl)(u,"Account").pipe((0,L.T)(v=>({"Account.MySecurityLogs":v.SecurityLogs})),(0,B.p2)(u,"AbpAccount"),(0,N.M)(v=>{(0,B.xB)(e.entityActions,gn,i),(0,B.xB)(e.toolbarActions,bn,r),(0,B.ah)(e.entityProps,vn,v.prop,a)}));return(0,D.y)(C,w).pipe((0,L.T)(()=>!0))}static{this.\u0275fac=function(i){return new(i||n)(t.KVO(t.zZn))}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac})}}return n})()}}]);