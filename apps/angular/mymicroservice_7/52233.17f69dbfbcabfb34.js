(self.webpackChunkmymicroservice_7=self.webpackChunkmymicroservice_7||[]).push([[52233],{44936:O=>{"use strict";O.exports=function(f){if("number"!=typeof f||Number.isNaN(f))throw new TypeError("Expected a number, got "+typeof f);const s=f<0,v=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(s&&(f=-f),f<1)return(s?"-":"")+f+" B";const M=Math.min(Math.floor(Math.log(f)/Math.log(1024)),v.length-1);f=Number(f/1024**M);const B=v[M];return f>=10||f%1==0?`${(s?"-":"")+f.toFixed(0)} ${B}`:`${(s?"-":"")+f.toFixed(1)} ${B}`}},16371:O=>{"use strict";var j=Object.prototype.hasOwnProperty,f="~";function s(){}function v(b,w,F){this.fn=b,this.context=w,this.once=F||!1}function M(b,w,F,_,A){if("function"!=typeof F)throw new TypeError("The listener must be a function");var U=new v(F,_||b,A),L=f?f+w:w;return b._events[L]?b._events[L].fn?b._events[L]=[b._events[L],U]:b._events[L].push(U):(b._events[L]=U,b._eventsCount++),b}function B(b,w){0==--b._eventsCount?b._events=new s:delete b._events[w]}function x(){this._events=new s,this._eventsCount=0}Object.create&&(s.prototype=Object.create(null),(new s).__proto__||(f=!1)),x.prototype.eventNames=function(){var F,_,w=[];if(0===this._eventsCount)return w;for(_ in F=this._events)j.call(F,_)&&w.push(f?_.slice(1):_);return Object.getOwnPropertySymbols?w.concat(Object.getOwnPropertySymbols(F)):w},x.prototype.listeners=function(w){var _=this._events[f?f+w:w];if(!_)return[];if(_.fn)return[_.fn];for(var A=0,U=_.length,L=new Array(U);A<U;A++)L[A]=_[A].fn;return L},x.prototype.listenerCount=function(w){var _=this._events[f?f+w:w];return _?_.fn?1:_.length:0},x.prototype.emit=function(w,F,_,A,U,L){var ce=f?f+w:w;if(!this._events[ce])return!1;var de,H,N=this._events[ce],Q=arguments.length;if(N.fn){switch(N.once&&this.removeListener(w,N.fn,void 0,!0),Q){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,F),!0;case 3:return N.fn.call(N.context,F,_),!0;case 4:return N.fn.call(N.context,F,_,A),!0;case 5:return N.fn.call(N.context,F,_,A,U),!0;case 6:return N.fn.call(N.context,F,_,A,U,L),!0}for(H=1,de=new Array(Q-1);H<Q;H++)de[H-1]=arguments[H];N.fn.apply(N.context,de)}else{var he,qt=N.length;for(H=0;H<qt;H++)switch(N[H].once&&this.removeListener(w,N[H].fn,void 0,!0),Q){case 1:N[H].fn.call(N[H].context);break;case 2:N[H].fn.call(N[H].context,F);break;case 3:N[H].fn.call(N[H].context,F,_);break;case 4:N[H].fn.call(N[H].context,F,_,A);break;default:if(!de)for(he=1,de=new Array(Q-1);he<Q;he++)de[he-1]=arguments[he];N[H].fn.apply(N[H].context,de)}}return!0},x.prototype.on=function(w,F,_){return M(this,w,F,_,!1)},x.prototype.once=function(w,F,_){return M(this,w,F,_,!0)},x.prototype.removeListener=function(w,F,_,A){var U=f?f+w:w;if(!this._events[U])return this;if(!F)return B(this,U),this;var L=this._events[U];if(L.fn)L.fn===F&&(!A||L.once)&&(!_||L.context===_)&&B(this,U);else{for(var ce=0,N=[],Q=L.length;ce<Q;ce++)(L[ce].fn!==F||A&&!L[ce].once||_&&L[ce].context!==_)&&N.push(L[ce]);N.length?this._events[U]=1===N.length?N[0]:N:B(this,U)}return this},x.prototype.removeAllListeners=function(w){var F;return w?this._events[F=f?f+w:w]&&B(this,F):(this._events=new s,this._eventsCount=0),this},x.prototype.off=x.prototype.removeListener,x.prototype.addListener=x.prototype.on,x.prefixed=f,x.EventEmitter=x,O.exports=x},65784:O=>{O.exports=function(f,s){if(f===s)return!0;for(var v in f)if(!(v in s))return!1;for(var v in s)if(f[v]!==s[v])return!1;return!0}},8516:(O,j,f)=>{var s=f(81464);O.exports=s.Symbol},61057:(O,j,f)=>{var s=f(8516),v=f(8488),M=f(53327),b=s?s.toStringTag:void 0;O.exports=function w(F){return null==F?void 0===F?"[object Undefined]":"[object Null]":b&&b in Object(F)?v(F):M(F)}},35461:(O,j,f)=>{var s=f(37327),v=/^\s+/;O.exports=function M(B){return B&&B.slice(0,s(B)+1).replace(v,"")}},78657:O=>{var j="object"==typeof global&&global&&global.Object===Object&&global;O.exports=j},8488:(O,j,f)=>{var s=f(8516),v=Object.prototype,M=v.hasOwnProperty,B=v.toString,x=s?s.toStringTag:void 0;O.exports=function b(w){var F=M.call(w,x),_=w[x];try{w[x]=void 0;var A=!0}catch{}var U=B.call(w);return A&&(F?w[x]=_:delete w[x]),U}},53327:O=>{var f=Object.prototype.toString;O.exports=function s(v){return f.call(v)}},81464:(O,j,f)=>{var s=f(78657),v="object"==typeof self&&self&&self.Object===Object&&self,M=s||v||Function("return this")();O.exports=M},37327:O=>{var j=/\s/;O.exports=function f(s){for(var v=s.length;v--&&j.test(s.charAt(v)););return v}},84270:(O,j,f)=>{var s=f(83278),v=f(90501),M=f(73521),x=Math.max,b=Math.min;O.exports=function w(F,_,A){var U,L,ce,N,Q,de,H=0,qt=!1,he=!1,ui=!0;if("function"!=typeof F)throw new TypeError("Expected a function");function ht(te){var Ee=U,xt=L;return U=L=void 0,H=te,N=F.apply(xt,Ee)}function Kt(te){var Ee=te-de;return void 0===de||Ee>=_||Ee<0||he&&te-H>=ce}function _t(){var te=v();if(Kt(te))return P(te);Q=setTimeout(_t,function Yr(te){var ft=_-(te-de);return he?b(ft,ce-(te-H)):ft}(te))}function P(te){return Q=void 0,ui&&U?ht(te):(U=L=void 0,N)}function Yt(){var te=v(),Ee=Kt(te);if(U=arguments,L=this,de=te,Ee){if(void 0===Q)return function Xr(te){return H=te,Q=setTimeout(_t,_),qt?ht(te):N}(de);if(he)return clearTimeout(Q),Q=setTimeout(_t,_),ht(de)}return void 0===Q&&(Q=setTimeout(_t,_)),N}return _=M(_)||0,s(A)&&(qt=!!A.leading,ce=(he="maxWait"in A)?x(M(A.maxWait)||0,_):ce,ui="trailing"in A?!!A.trailing:ui),Yt.cancel=function Xt(){void 0!==Q&&clearTimeout(Q),H=0,U=de=L=Q=void 0},Yt.flush=function Qr(){return void 0===Q?N:P(v())},Yt}},83278:O=>{O.exports=function j(f){var s=typeof f;return null!=f&&("object"==s||"function"==s)}},57433:O=>{O.exports=function j(f){return null!=f&&"object"==typeof f}},15153:(O,j,f)=>{var s=f(61057),v=f(57433);O.exports=function B(x){return"symbol"==typeof x||v(x)&&"[object Symbol]"==s(x)}},90501:(O,j,f)=>{var s=f(81464);O.exports=function(){return s.Date.now()}},97569:(O,j,f)=>{var s=f(84270),v=f(83278);O.exports=function B(x,b,w){var F=!0,_=!0;if("function"!=typeof x)throw new TypeError("Expected a function");return v(w)&&(F="leading"in w?!!w.leading:F,_="trailing"in w?!!w.trailing:_),s(x,b,{leading:F,maxWait:b,trailing:_})}},73521:(O,j,f)=>{var s=f(35461),v=f(83278),M=f(15153),x=/^[-+]0x[0-9a-f]+$/i,b=/^0b[01]+$/i,w=/^0o[0-7]+$/i,F=parseInt;O.exports=function _(A){if("number"==typeof A)return A;if(M(A))return NaN;if(v(A)){var U="function"==typeof A.valueOf?A.valueOf():A;A=v(U)?U+"":U}if("string"!=typeof A)return 0===A?A:+A;A=s(A);var L=b.test(A);return L||w.test(A)?F(A.slice(2),L?2:8):x.test(A)?NaN:+A}},48224:(O,j,f)=>{var s=f(4266),v=/[\/\+\.]/;O.exports=function(M,B){function x(b){var w=s(b,M,v);return w&&w.length>=2}return B?x(B.split(";")[0]):x}},4266:O=>{"use strict";function j(f,s){this.text=f=f||"",this.hasWild=~f.indexOf("*"),this.separator=s,this.parts=f.split(s)}j.prototype.match=function(f){var M,x,s=!0,v=this.parts,B=v.length;if("string"==typeof f||f instanceof String)if(this.hasWild||this.text==f){for(x=(f||"").split(this.separator),M=0;s&&M<B;M++)"*"!==v[M]&&(s=M<x.length&&v[M]===x[M]);s=s&&x}else s=!1;else if("function"==typeof f.splice)for(s=[],M=f.length;M--;)this.match(f[M])&&(s[s.length]=f[M]);else if("object"==typeof f)for(var b in s={},f)this.match(b)&&(s[b]=f[b]);return s},O.exports=function(f,s,v){var M=new j(f,v||/[\/\.]/);return typeof s<"u"?M.match(s):M}},26212:O=>{O.exports=function(){var f={},s=f._fns={};return f.emit=function(x,b,w,F,_,A,U){var L=function v(B){for(var x=s[B]?s[B]:[],b=B.indexOf(":"),w=-1===b?[B]:[B.substring(0,b),B.substring(b+1)],F=Object.keys(s),_=0,A=F.length;_<A;_++){var U=F[_];if("*"===U&&(x=x.concat(s[U])),2===w.length&&w[0]===U){x=x.concat(s[U]);break}}return x}(x);L.length&&function M(B,x,b){for(var w=0,F=x.length;w<F&&x[w];w++)x[w].event=B,x[w].apply(x[w],b)}(x,L,[b,w,F,_,A,U])},f.on=function(x,b){s[x]||(s[x]=[]),s[x].push(b)},f.once=function(x,b){this.on(x,function w(){b.apply(this,arguments),f.off(x,w)})},f.off=function(x,b){var w=[];if(x&&b)for(var F=this._fns[x],_=0,A=F?F.length:0;_<A;_++)F[_]!==b&&w.push(F[_]);w.length?this._fns[x]=w:delete this._fns[x]},f}},8709:(O,j)=>{var s;!function(){"use strict";var v={}.hasOwnProperty;function M(){for(var b="",w=0;w<arguments.length;w++){var F=arguments[w];F&&(b=x(b,B(F)))}return b}function B(b){if("string"==typeof b||"number"==typeof b)return b;if("object"!=typeof b)return"";if(Array.isArray(b))return M.apply(null,b);if(b.toString!==Object.prototype.toString&&!b.toString.toString().includes("[native code]"))return b.toString();var w="";for(var F in b)v.call(b,F)&&b[F]&&(w=x(w,F));return w}function x(b,w){return w?b?b+" "+w:b+w:b}O.exports?(M.default=M,O.exports=M):void 0!==(s=function(){return M}.apply(j,[]))&&(O.exports=s)}()},52233:(O,j,f)=>{"use strict";f.r(j),f.d(j,{BaseModalComponent:()=>wt,CreateFolderModalComponent:()=>qr,CreateFolderModalService:()=>En,DEFAULT_FILE_MANAGEMENT_DIRECTORY_CONTENT_DTO_ENTITY_ACTIONS:()=>Ja,DEFAULT_FILE_MANAGEMENT_DIRECTORY_CONTENT_DTO_ENTITY_PROPS:()=>tl,DEFAULT_FILE_MANAGEMENT_ENTITY_ACTIONS:()=>In,DEFAULT_FILE_MANAGEMENT_ENTITY_PROPS:()=>Bn,DEFAULT_FILE_MANAGEMENT_TOOLBAR_ACTIONS:()=>kn,DeleteService:()=>Ur,DirectoryTreeService:()=>pi,DownloadService:()=>zr,FILE_MANAGEMENT_ENTITY_ACTION_CONTRIBUTORS:()=>Hr,FILE_MANAGEMENT_ENTITY_PROP_CONTRIBUTORS:()=>Wr,FILE_MANAGEMENT_TOOLBAR_ACTION_CONTRIBUTORS:()=>Gr,FILE_MANAGEMENT_XSRF_HEADER_NAME:()=>Mn,FileManagementBreadcrumbComponent:()=>Rr,FileManagementButtonsComponent:()=>On,FileManagementComponent:()=>zn,FileManagementDirectoryTreeComponent:()=>Nn,FileManagementFolderContentComponent:()=>$e,FileManagementFolderFilterComponent:()=>Rn,FileManagementFolderPanelComponent:()=>Un,FileManagementGuard:()=>oh,FileManagementInitializer:()=>sh,FileManagementModule:()=>ah,FileManagementRoutingModule:()=>ol,MoveFileModalComponent:()=>$r,MoveFileModalService:()=>Dn,MoveService:()=>jr,NavigatorService:()=>ct,ROOT_ID:()=>We,ROOT_NODE:()=>ut,RenameModalComponent:()=>Lr,RenameModalService:()=>Cn,UpdateStreamService:()=>Ae,UploadService:()=>An,fileManagementExtensionsResolver:()=>rl,fileManagementGuard:()=>il,formatBytes:()=>el,mapRootIdToEmpty:()=>vt,transformDirectoryContentSize:()=>Za});var s=f(93953),v=f(30791),M=f(60177),B=f(5964),x=f(65245),b=f(88141),w=f(96697),F=f(25558),_=f(96354),A=f(70980),U=f(18359),L=f(39974),ce=f(54360),N=f(57908),Q=f(43236),de=f(9326),H=f(45225),he=f(70420),ui=f(21626),ht=f(57786),Xr=f(27468),Yr=f(84412),Kt=f(7673),_t=f(33726),P=f(74523);function Xt(i,e){if(!Object.prototype.hasOwnProperty.call(i,e))throw new TypeError("attempted to use private field on non-instance");return i}var Qr=0;function Yt(i){return"__private_"+Qr+++"_"+i}function te(i,e,t){const r=[];return i.forEach(o=>"string"!=typeof o?r.push(o):e[Symbol.split](o).forEach((n,a,l)=>{""!==n&&r.push(n),a<l.length-1&&r.push(t)})),r}function Ee(i,e){const t=/\$/g;let o=[i];if(null==e)return o;for(const n of Object.keys(e))if("_"!==n){let a=e[n];"string"==typeof a&&(a=t[Symbol.replace](a,"$$$$")),o=te(o,new RegExp(`%\\{${n}\\}`,"g"),a)}return o}const xt=i=>{throw new Error(`missing string: ${i}`)};var ft=Yt("onMissingKey"),ci=Yt("apply");class $n{constructor(e,t){let{onMissingKey:r=xt}=void 0===t?{}:t;Object.defineProperty(this,ci,{value:nl}),Object.defineProperty(this,ft,{writable:!0,value:void 0}),this.locale={strings:{},pluralize:o=>1===o?0:1},Array.isArray(e)?e.forEach(Xt(this,ci)[ci],this):Xt(this,ci)[ci](e),Xt(this,ft)[ft]=r}translate(e,t){return this.translateArray(e,t).join("")}translateArray(e,t){let r=this.locale.strings[e];if(null==r&&(Xt(this,ft)[ft](e),r=e),"object"==typeof r){if(t&&typeof t.smart_count<"u")return Ee(r[this.locale.pluralize(t.smart_count)],t);throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if("string"!=typeof r)throw new Error("string was not a string");return Ee(r,t)}}function nl(i){if(null==i||!i.strings)return;const e=this.locale;Object.assign(this.locale,{strings:{...e.strings,...i.strings},pluralize:i.pluralize||e.pluralize})}var sl=f(26212);let rr=(i=21)=>{let e="",t=i;for(;t--;)e+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return e};var ll=f(97569);function or(i,e){if(!Object.prototype.hasOwnProperty.call(i,e))throw new TypeError("attempted to use private field on non-instance");return i}var dl=0;function Vn(i){return"__private_"+dl+++"_"+i}var Ft=Vn("callbacks"),Jr=Vn("publish");class Hn{constructor(){Object.defineProperty(this,Jr,{value:ul}),this.state={},Object.defineProperty(this,Ft,{writable:!0,value:new Set})}getState(){return this.state}setState(e){const t={...this.state},r={...this.state,...e};this.state=r,or(this,Jr)[Jr](t,r,e)}subscribe(e){return or(this,Ft)[Ft].add(e),()=>{or(this,Ft)[Ft].delete(e)}}}function ul(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];or(this,Ft)[Ft].forEach(r=>{r(...e)})}Hn.VERSION="3.2.2";const cl=Hn;function Zr(i){const e=i.lastIndexOf(".");return-1===e||e===i.length-1?{name:i,extension:void 0}:{name:i.slice(0,e),extension:i.slice(e+1)}}const Gn={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function Wn(i){var e;if(i.type)return i.type;const t=i.name?null==(e=Zr(i.name).extension)?void 0:e.toLowerCase():null;return t&&t in Gn?Gn[t]:"application/octet-stream"}function qn(i){let e="";return i.replace(/[^A-Z0-9]/gi,t=>(e+=`-${function hl(i){return i.charCodeAt(0).toString(32)}(t)}`,"/"))+e}function Kn(i,e){if(function ml(i){return!(!i.isRemote||!i.remote)&&new Set(["box","dropbox","drive","facebook","unsplash"]).has(i.remote.provider)}(i))return i.id;const t=Wn(i);return function fl(i,e){let t=e||"uppy";return"string"==typeof i.name&&(t+=`-${qn(i.name.toLowerCase())}`),void 0!==i.type&&(t+=`-${i.type}`),i.meta&&"string"==typeof i.meta.relativePath&&(t+=`-${qn(i.meta.relativePath.toLowerCase())}`),void 0!==i.data.size&&(t+=`-${i.data.size}`),void 0!==i.data.lastModified&&(t+=`-${i.data.lastModified}`),t}({...i,type:t},e)}function gl(i){if(null==i&&typeof navigator<"u"&&(i=navigator.userAgent),!i)return!0;const e=/Edge\/(\d+\.\d+)/.exec(i);if(!e)return!0;const r=e[1].split(".",2),o=parseInt(r[0],10),n=parseInt(r[1],10);return o<15||15===o&&n<15063||o>18||18===o&&n>=18218}function eo(i){return i<10?`0${i}`:i.toString()}function nr(){const i=new Date;return`${eo(i.getHours())}:${eo(i.getMinutes())}:${eo(i.getSeconds())}`}const bl={debug:()=>{},warn:()=>{},error:function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return console.error(`[Uppy] [${nr()}]`,...e)}},vl={debug:function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return console.debug(`[Uppy] [${nr()}]`,...e)},warn:function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return console.warn(`[Uppy] [${nr()}]`,...e)},error:function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return console.error(`[Uppy] [${nr()}]`,...e)}};var Pt=f(44936),wl=f(48224);const _l={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]};class Oe extends Error{constructor(e,t){var r;super(e),this.isRestriction=!0,this.isUserFacing=null==(r=t?.isUserFacing)||r,null!=t&&t.file&&(this.file=t.file)}}class xl{constructor(e,t){this.getI18n=t,this.getOpts=()=>{var r;const o=e();if(null!=(null==(r=o.restrictions)?void 0:r.allowedFileTypes)&&!Array.isArray(o.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return o}}validateAggregateRestrictions(e,t){const{maxTotalFileSize:r,maxNumberOfFiles:o}=this.getOpts().restrictions;if(o&&e.filter(a=>!a.isGhost).length+t.length>o)throw new Oe(`${this.getI18n()("youCanOnlyUploadX",{smart_count:o})}`);if(r){const n=[...e,...t].reduce((a,l)=>{var d;return a+(null!=(d=l.size)?d:0)},0);if(n>r)throw new Oe(this.getI18n()("aggregateExceedsSize",{sizeAllowed:Pt(r),size:Pt(n)}))}}validateSingleFile(e){const{maxFileSize:t,minFileSize:r,allowedFileTypes:o}=this.getOpts().restrictions;if(o&&!o.some(a=>a.includes("/")?!!e.type&&wl(e.type.replace(/;.*?$/,""),a):!("."!==a[0]||!e.extension)&&e.extension.toLowerCase()===a.slice(1).toLowerCase())){const a=o.join(", ");throw new Oe(this.getI18n()("youCanOnlyUploadFileTypes",{types:a}),{file:e})}if(t&&null!=e.size&&e.size>t)throw new Oe(this.getI18n()("exceedsSize",{size:Pt(t),file:e.name}),{file:e});if(r&&null!=e.size&&e.size<r)throw new Oe(this.getI18n()("inferiorSize",{size:Pt(r)}),{file:e})}validate(e,t){t.forEach(r=>{this.validateSingleFile(r)}),this.validateAggregateRestrictions(e,t)}validateMinNumberOfFiles(e){const{minNumberOfFiles:t}=this.getOpts().restrictions;if(t&&Object.keys(e).length<t)throw new Oe(this.getI18n()("youHaveToAtLeastSelectX",{smart_count:t}))}getMissingRequiredMetaFields(e){const t=new Oe(this.getI18n()("missingRequiredMetaFieldOnFile",{fileName:e.name})),{requiredMetaFields:r}=this.getOpts().restrictions,o=[];for(const n of r)(!Object.hasOwn(e.meta,n)||""===e.meta[n])&&o.push(n);return{missingFields:o,error:t}}}const Fl={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},aggregateExceedsSize:"You selected %{size} of files, but maximum allowed size is %{sizeAllowed}",exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled",unnamed:"Unnamed"}};let Xn,Yn;function C(i,e){if(!Object.prototype.hasOwnProperty.call(i,e))throw new TypeError("attempted to use private field on non-instance");return i}var Pl=0;function ie(i){return"__private_"+Pl+++"_"+i}const sr={totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null};var pe=ie("plugins"),xe=ie("restricter"),hi=ie("storeUnsubscribe"),Xe=ie("emitter"),St=ie("preProcessors"),Tt=ie("uploaders"),Ye=ie("postProcessors"),Fe=ie("informAndEmit"),fi=ie("checkRequiredMetaFieldsOnFile"),to=ie("checkRequiredMetaFields"),mi=ie("assertNewUploadAllowed"),io=ie("transformFile"),gi=ie("startIfAutoProceed"),yi=ie("checkAndUpdateFileState"),ro=ie("addListeners"),Ne=ie("updateOnlineStatus"),bi=ie("requestClientById"),Qe=ie("createUpload"),oo=ie("getUpload"),Ct=ie("removeUpload"),Je=ie("runUpload");Xn=Symbol.for("uppy test: getPlugins"),Yn=Symbol.for("uppy test: createUpload");class ar{constructor(e){Object.defineProperty(this,Je,{value:Rl}),Object.defineProperty(this,Ct,{value:Nl}),Object.defineProperty(this,oo,{value:Ol}),Object.defineProperty(this,Qe,{value:El}),Object.defineProperty(this,ro,{value:Al}),Object.defineProperty(this,yi,{value:Ml}),Object.defineProperty(this,gi,{value:Bl}),Object.defineProperty(this,io,{value:kl}),Object.defineProperty(this,mi,{value:Il}),Object.defineProperty(this,to,{value:Dl}),Object.defineProperty(this,fi,{value:Cl}),Object.defineProperty(this,Fe,{value:Tl}),Object.defineProperty(this,pe,{writable:!0,value:Object.create(null)}),Object.defineProperty(this,xe,{writable:!0,value:void 0}),Object.defineProperty(this,hi,{writable:!0,value:void 0}),Object.defineProperty(this,Xe,{writable:!0,value:sl()}),Object.defineProperty(this,St,{writable:!0,value:new Set}),Object.defineProperty(this,Tt,{writable:!0,value:new Set}),Object.defineProperty(this,Ye,{writable:!0,value:new Set}),this.scheduledAutoProceed=null,this.wasOffline=!1,this.calculateProgress=ll((o,n)=>{const a=this.getFile(o?.id);if(null==o||!a)return void this.log(`Not setting progress for a file that has been removed: ${o?.id}`);if(100===a.progress.percentage)return void this.log(`Not setting progress for a file that has been already uploaded: ${o.id}`);const l=Number.isFinite(n.bytesTotal)&&n.bytesTotal>0;this.setFileState(o.id,{progress:{...a.progress,bytesUploaded:n.bytesUploaded,bytesTotal:n.bytesTotal,percentage:l?Math.round(n.bytesUploaded/n.bytesTotal*100):0}}),this.calculateTotalProgress()},500,{leading:!0,trailing:!0}),Object.defineProperty(this,Ne,{writable:!0,value:this.updateOnlineStatus.bind(this)}),Object.defineProperty(this,bi,{writable:!0,value:new Map}),this.defaultLocale=Fl;const t={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:_l,meta:{},onBeforeFileAdded:(o,n)=>!Object.hasOwn(n,o.id),onBeforeUpload:o=>o,store:new cl,logger:bl,infoTimeout:5e3},r={...t,...e};this.opts={...r,restrictions:{...t.restrictions,...e&&e.restrictions}},e&&e.logger&&e.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):e&&e.debug&&(this.opts.logger=vl),this.log(`Using Core v${ar.VERSION}`),this.i18nInit(),this.store=this.opts.store,this.setState({...sr,plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:gl(),individualCancellation:!0,resumableUploads:!1},meta:{...this.opts.meta},info:[]}),C(this,xe)[xe]=new xl(()=>this.opts,()=>this.i18n),C(this,hi)[hi]=this.store.subscribe((o,n,a)=>{this.emit("state-update",o,n,a),this.updateAll(n)}),this.opts.debug&&typeof window<"u"&&(window[this.opts.id]=this),C(this,ro)[ro]()}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];C(this,Xe)[Xe].emit(e,...r)}on(e,t){return C(this,Xe)[Xe].on(e,t),this}once(e,t){return C(this,Xe)[Xe].once(e,t),this}off(e,t){return C(this,Xe)[Xe].off(e,t),this}updateAll(e){this.iteratePlugins(t=>{t.update(e)})}setState(e){this.store.setState(e)}getState(){return this.store.getState()}patchFilesState(e){const t=this.getState().files;this.setState({files:{...t,...Object.fromEntries(Object.entries(e).map(r=>{let[o,n]=r;return[o,{...t[o],...n}]}))}})}setFileState(e,t){if(!this.getState().files[e])throw new Error(`Can\u2019t set state for ${e} (the file could have been removed)`);this.patchFilesState({[e]:t})}i18nInit(){const t=new $n([this.defaultLocale,this.opts.locale],{onMissingKey:r=>this.log(`Missing i18n string: ${r}`,"error")});this.i18n=t.translate.bind(t),this.i18nArray=t.translateArray.bind(t),this.locale=t.locale}setOptions(e){this.opts={...this.opts,...e,restrictions:{...this.opts.restrictions,...e?.restrictions}},e.meta&&this.setMeta(e.meta),this.i18nInit(),e.locale&&this.iteratePlugins(t=>{t.setOptions(e)}),this.setState(void 0)}resetProgress(){const e={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},t={...this.getState().files},r={};Object.keys(t).forEach(o=>{r[o]={...t[o],progress:{...t[o].progress,...e}}}),this.setState({files:r,...sr}),this.emit("reset-progress")}clearUploadedFiles(){const{capabilities:e,currentUploads:t}=this.getState();if(Object.keys(t).length>0&&!e.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");this.setState({...sr,files:{}})}addPreProcessor(e){C(this,St)[St].add(e)}removePreProcessor(e){return C(this,St)[St].delete(e)}addPostProcessor(e){C(this,Ye)[Ye].add(e)}removePostProcessor(e){return C(this,Ye)[Ye].delete(e)}addUploader(e){C(this,Tt)[Tt].add(e)}removeUploader(e){return C(this,Tt)[Tt].delete(e)}setMeta(e){const t={...this.getState().meta,...e},r={...this.getState().files};Object.keys(r).forEach(o=>{r[o]={...r[o],meta:{...r[o].meta,...e}}}),this.log("Adding metadata:"),this.log(e),this.setState({meta:t,files:r})}setFileMeta(e,t){const r={...this.getState().files};if(!r[e])return void this.log("Was trying to set metadata for a file that has been removed: ",e);const o={...r[e].meta,...t};r[e]={...r[e],meta:o},this.setState({files:r})}getFile(e){return this.getState().files[e]}getFiles(){const{files:e}=this.getState();return Object.values(e)}getFilesByIds(e){return e.map(t=>this.getFile(t))}getObjectOfFilesPerState(){const{files:e,totalProgress:t,error:r}=this.getState(),o=Object.values(e),n=[],a=[],l=[],d=[],p=[],h=[],c=[],g=[],m=[];for(const y of o){const{progress:S}=y;!S.uploadComplete&&S.uploadStarted&&(n.push(y),y.isPaused||g.push(y)),S.uploadStarted||a.push(y),(S.uploadStarted||S.preprocess||S.postprocess)&&l.push(y),S.uploadStarted&&d.push(y),y.isPaused&&p.push(y),S.uploadComplete&&h.push(y),y.error&&c.push(y),(S.preprocess||S.postprocess)&&m.push(y)}return{newFiles:a,startedFiles:l,uploadStartedFiles:d,pausedFiles:p,completeFiles:h,erroredFiles:c,inProgressFiles:n,inProgressNotPausedFiles:g,processingFiles:m,isUploadStarted:d.length>0,isAllComplete:100===t&&h.length===o.length&&0===m.length,isAllErrored:!!r&&c.length===o.length,isAllPaused:0!==n.length&&p.length===n.length,isUploadInProgress:n.length>0,isSomeGhost:o.some(y=>y.isGhost)}}validateRestrictions(e,t){void 0===t&&(t=this.getFiles());try{C(this,xe)[xe].validate(t,[e])}catch(r){return r}return null}checkIfFileAlreadyExists(e){const{files:t}=this.getState();return!(!t[e]||t[e].isGhost)}addFile(e){C(this,mi)[mi](e);const{nextFilesState:t,validFilesToAdd:r,errors:o}=C(this,yi)[yi]([e]),n=o.filter(l=>l.isRestriction);if(C(this,Fe)[Fe](n),o.length>0)throw o[0];this.setState({files:t});const[a]=r;return this.emit("file-added",a),this.emit("files-added",r),this.log(`Added file: ${a.name}, ${a.id}, mime type: ${a.type}`),C(this,gi)[gi](),a.id}addFiles(e){C(this,mi)[mi]();const{nextFilesState:t,validFilesToAdd:r,errors:o}=C(this,yi)[yi](e),n=o.filter(l=>l.isRestriction);C(this,Fe)[Fe](n);const a=o.filter(l=>!l.isRestriction);if(a.length>0){let l="Multiple errors occurred while adding files:\n";if(a.forEach(d=>{l+=`\n * ${d.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:a.length}),details:l},"error",this.opts.infoTimeout),"function"==typeof AggregateError)throw new AggregateError(a,l);{const d=new Error(l);throw d.errors=a,d}}this.setState({files:t}),r.forEach(l=>{this.emit("file-added",l)}),this.emit("files-added",r),r.length>5?this.log(`Added batch of ${r.length} files`):Object.values(r).forEach(l=>{this.log(`Added file: ${l.name}\n id: ${l.id}\n type: ${l.type}`)}),r.length>0&&C(this,gi)[gi]()}removeFiles(e,t){const{files:r,currentUploads:o}=this.getState(),n={...r},a={...o},l=Object.create(null);function d(c){return void 0===l[c]}e.forEach(c=>{r[c]&&(l[c]=r[c],delete n[c])}),Object.keys(a).forEach(c=>{const g=o[c].fileIDs.filter(d);if(0===g.length)return void delete a[c];const{capabilities:m}=this.getState();if(g.length!==o[c].fileIDs.length&&!m.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");a[c]={...o[c],fileIDs:g}});const p={currentUploads:a,files:n};0===Object.keys(n).length&&(p.allowNewUpload=!0,p.error=null,p.recoveredState=null),this.setState(p),this.calculateTotalProgress();const h=Object.keys(l);h.forEach(c=>{this.emit("file-removed",l[c],t)}),this.log(h.length>5?`Removed ${h.length} files`:`Removed files: ${h.join(", ")}`)}removeFile(e,t){this.removeFiles([e],t)}pauseResume(e){if(!this.getState().capabilities.resumableUploads||this.getFile(e).progress.uploadComplete)return;const r=!this.getFile(e).isPaused;return this.setFileState(e,{isPaused:r}),this.emit("upload-pause",e,r),r}pauseAll(){const e={...this.getState().files};Object.keys(e).filter(r=>!e[r].progress.uploadComplete&&e[r].progress.uploadStarted).forEach(r=>{const o={...e[r],isPaused:!0};e[r]=o}),this.setState({files:e}),this.emit("pause-all")}resumeAll(){const e={...this.getState().files};Object.keys(e).filter(r=>!e[r].progress.uploadComplete&&e[r].progress.uploadStarted).forEach(r=>{const o={...e[r],isPaused:!1,error:null};e[r]=o}),this.setState({files:e}),this.emit("resume-all")}retryAll(){const e={...this.getState().files},t=Object.keys(e).filter(o=>e[o].error);if(t.forEach(o=>{const n={...e[o],isPaused:!1,error:null};e[o]=n}),this.setState({files:e,error:null}),this.emit("retry-all",t),0===t.length)return Promise.resolve({successful:[],failed:[]});const r=C(this,Qe)[Qe](t,{forceAllowNewUpload:!0});return C(this,Je)[Je](r)}cancelAll(e){let{reason:t="user"}=void 0===e?{}:e;if(this.emit("cancel-all",{reason:t}),"user"===t){const{files:r}=this.getState(),o=Object.keys(r);o.length&&this.removeFiles(o,"cancel-all"),this.setState(sr)}}retryUpload(e){this.setFileState(e,{error:null,isPaused:!1}),this.emit("upload-retry",e);const t=C(this,Qe)[Qe]([e],{forceAllowNewUpload:!0});return C(this,Je)[Je](t)}logout(){this.iteratePlugins(e=>{var t;null==(t=e.provider)||null==t.logout||t.logout()})}calculateTotalProgress(){const t=this.getFiles().filter(p=>p.progress.uploadStarted||p.progress.preprocess||p.progress.postprocess);if(0===t.length)return this.emit("progress",0),void this.setState({totalProgress:0});const r=t.filter(p=>null!=p.progress.bytesTotal),o=t.filter(p=>null==p.progress.bytesTotal);if(0===r.length){const p=100*t.length,h=o.reduce((g,m)=>g+m.progress.percentage,0),c=Math.round(h/p*100);return void this.setState({totalProgress:c})}let n=r.reduce((p,h)=>{var c;return p+(null!=(c=h.progress.bytesTotal)?c:0)},0);const a=n/r.length;n+=a*o.length;let l=0;r.forEach(p=>{l+=p.progress.bytesUploaded}),o.forEach(p=>{l+=a*(p.progress.percentage||0)/100});let d=0===n?0:Math.round(l/n*100);d>100&&(d=100),this.setState({totalProgress:d}),this.emit("progress",d)}updateOnlineStatus(){var e;null==(e=window.navigator.onLine)||e?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(e,t){if("function"!=typeof e)throw new TypeError(`Expected a plugin class, but got ${null===e?"null":typeof e}. Please verify that the plugin was imported and spelled correctly.`);const r=new e(this,t),o=r.id;if(!o)throw new Error("Your plugin must have an id");if(!r.type)throw new Error("Your plugin must have a type");const n=this.getPlugin(o);if(n)throw new Error(`Already found a plugin named '${n.id}'. Tried to use: '${o}'.\nUppy plugins must have unique \`id\` options. See https://uppy.io/docs/plugins/#id.`);return e.VERSION&&this.log(`Using ${o} v${e.VERSION}`),r.type in C(this,pe)[pe]?C(this,pe)[pe][r.type].push(r):C(this,pe)[pe][r.type]=[r],r.install(),this.emit("plugin-added",r),this}getPlugin(e){for(const t of Object.values(C(this,pe)[pe])){const r=t.find(o=>o.id===e);if(null!=r)return r}}[Xn](e){return C(this,pe)[pe][e]}iteratePlugins(e){Object.values(C(this,pe)[pe]).flat(1).forEach(e)}removePlugin(e){this.log(`Removing plugin ${e.id}`),this.emit("plugin-remove",e),e.uninstall&&e.uninstall();const t=C(this,pe)[pe][e.type],r=t.findIndex(a=>a.id===e.id);-1!==r&&t.splice(r,1);const n={plugins:{...this.getState().plugins,[e.id]:void 0}};this.setState(n)}close(e){let{reason:t}=void 0===e?{}:e;this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll({reason:t}),C(this,hi)[hi](),this.iteratePlugins(r=>{this.removePlugin(r)}),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("online",C(this,Ne)[Ne]),window.removeEventListener("offline",C(this,Ne)[Ne]))}hideInfo(){const{info:e}=this.getState();this.setState({info:e.slice(1)}),this.emit("info-hidden")}info(e,t,r){void 0===t&&(t="info"),void 0===r&&(r=3e3);const o="object"==typeof e;this.setState({info:[...this.getState().info,{type:t,message:o?e.message:e,details:o?e.details:null}]}),setTimeout(()=>this.hideInfo(),r),this.emit("info-visible")}log(e,t){const{logger:r}=this.opts;switch(t){case"error":r.error(e);break;case"warning":r.warn(e);break;default:r.debug(e)}}registerRequestClient(e,t){C(this,bi)[bi].set(e,t)}getRequestClientForFile(e){if(!e.remote)throw new Error(`Tried to get RequestClient for a non-remote file ${e.id}`);const t=C(this,bi)[bi].get(e.remote.requestClientId);if(null==t)throw new Error(`requestClientId "${e.remote.requestClientId}" not registered for file "${e.id}"`);return t}restore(e){return this.log(`Core: attempting to restore upload "${e}"`),this.getState().currentUploads[e]?C(this,Je)[Je](e):(C(this,Ct)[Ct](e),Promise.reject(new Error("Nonexistent upload")))}[Yn](){return C(this,Qe)[Qe](...arguments)}addResultData(e,t){if(!C(this,oo)[oo](e))return void this.log(`Not setting result for an upload that has been removed: ${e}`);const{currentUploads:r}=this.getState(),o={...r[e],result:{...r[e].result,...t}};this.setState({currentUploads:{...r,[e]:o}})}upload(){var e;null!=(e=C(this,pe)[pe].uploader)&&e.length||this.log("No uploader type plugins are used","warning");let{files:t}=this.getState();const r=this.opts.onBeforeUpload(t);return!1===r?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(r&&"object"==typeof r&&(t=r,this.setState({files:t})),Promise.resolve().then(()=>C(this,xe)[xe].validateMinNumberOfFiles(t)).catch(o=>{throw C(this,Fe)[Fe]([o]),o}).then(()=>{if(!C(this,to)[to](t))throw new Oe(this.i18n("missingRequiredMetaField"))}).catch(o=>{throw o}).then(()=>{const{currentUploads:o}=this.getState(),n=Object.values(o).flatMap(d=>d.fileIDs),a=[];Object.keys(t).forEach(d=>{const p=this.getFile(d);!p.progress.uploadStarted&&-1===n.indexOf(d)&&a.push(p.id)});const l=C(this,Qe)[Qe](a);return C(this,Je)[Je](l)}).catch(o=>{throw this.emit("error",o),this.log(o,"error"),o}))}}function Tl(i){for(const n of i)n.isRestriction?this.emit("restriction-failed",n.file,n):this.emit("error",n,n.file),this.log(n,"warning");const e=i.filter(n=>n.isUserFacing),r=e.slice(0,4),o=e.slice(4);r.forEach(n=>{let{message:a,details:l=""}=n;this.info({message:a,details:l},"error",this.opts.infoTimeout)}),o.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:o.length})})}function Cl(i){const{missingFields:e,error:t}=C(this,xe)[xe].getMissingRequiredMetaFields(i);return!(e.length>0&&(this.setFileState(i.id,{missingRequiredMetaFields:e}),this.log(t.message),this.emit("restriction-failed",i,t),1))}function Dl(i){let e=!0;for(const t of Object.values(i))C(this,fi)[fi](t)||(e=!1);return e}function Il(i){const{allowNewUpload:e}=this.getState();if(!1===e){const t=new Oe(this.i18n("noMoreFilesAllowed"),{file:i});throw C(this,Fe)[Fe]([t]),t}}function kl(i){const e=i instanceof File?{name:i.name,type:i.type,size:i.size,data:i}:i,t=Wn(e),r=function yl(i,e){return e.name?e.name:"image"===i.split("/")[0]?`${i.split("/")[0]}.${i.split("/")[1]}`:"noname"}(t,e),o=Zr(r).extension,n=Kn(e,this.getID()),a=e.meta||{};a.name=r,a.type=t;const l=Number.isFinite(e.data.size)?e.data.size:null;return{source:e.source||"",id:n,name:r,extension:o||"",meta:{...this.getState().meta,...a},type:t,data:e.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:l,uploadComplete:!1,uploadStarted:null},size:l,isGhost:!1,isRemote:e.isRemote||!1,remote:e.remote||"",preview:e.preview}}function Bl(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(i=>{i.isRestriction||this.log(i.stack||i.message||i)})},4))}function Ml(i){const{files:e}=this.getState(),t={...e},r=[],o=[];for(const a of i)try{var n;let l=C(this,io)[io](a);const d=null==(n=e[l.id])?void 0:n.isGhost;d&&(l={...e[l.id],isGhost:!1,data:a.data},this.log(`Replaced the blob in the restored ghost file: ${l.name}, ${l.id}`));const p=this.opts.onBeforeFileAdded(l,t);if(!p&&this.checkIfFileAlreadyExists(l.id))throw new Oe(this.i18n("noDuplicates",{fileName:l.name}),{file:a});if(!1===p&&!d)throw new Oe("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:a});"object"==typeof p&&null!==p&&(l=p),C(this,xe)[xe].validateSingleFile(l),t[l.id]=l,r.push(l)}catch(l){o.push(l)}try{C(this,xe)[xe].validateAggregateRestrictions(Object.values(e),r)}catch(a){return o.push(a),{nextFilesState:e,validFilesToAdd:[],errors:o}}return{nextFilesState:t,validFilesToAdd:r,errors:o}}function Al(){const i=(r,o,n)=>{let a=r.message||"Unknown error";r.details&&(a+=` ${r.details}`),this.setState({error:a}),null!=o&&o.id in this.getState().files&&this.setFileState(o.id,{error:a,response:n})};this.on("error",i),this.on("upload-error",(r,o,n)=>{if(i(o,r,n),"object"==typeof o&&o.message){var a;this.log(o.message,"error");const l=new Error(this.i18n("failedToUpload",{file:null!=(a=r?.name)?a:""}));l.isUserFacing=!0,l.details=o.message,o.details&&(l.details+=` ${o.details}`),C(this,Fe)[Fe]([l])}else C(this,Fe)[Fe]([o])});let e=null;this.on("upload-stalled",(r,o)=>{const{message:n}=r,a=o.map(l=>l.meta.name).join(", ");e||(this.info({message:n,details:a},"warning",this.opts.infoTimeout),e=setTimeout(()=>{e=null},this.opts.infoTimeout)),this.log(`${n} ${a}`.trim(),"warning")}),this.on("upload",()=>{this.setState({error:null})});const t=r=>{const o=r.filter(a=>{const l=null!=a&&this.getFile(a.id);return l||this.log(`Not setting progress for a file that has been removed: ${a?.id}`),l}),n=Object.fromEntries(o.map(a=>[a.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:a.size}}]));this.patchFilesState(n)};this.on("upload-start",r=>{r.forEach(o=>{this.emit("upload-started",o)}),t(r)}),this.on("upload-progress",this.calculateProgress),this.on("upload-success",(r,o)=>{if(null==r||!this.getFile(r.id))return void this.log(`Not setting progress for a file that has been removed: ${r?.id}`);const n=this.getFile(r.id).progress;this.setFileState(r.id,{progress:{...n,postprocess:C(this,Ye)[Ye].size>0?{mode:"indeterminate"}:void 0,uploadComplete:!0,percentage:100,bytesUploaded:n.bytesTotal},response:o,uploadURL:o.uploadURL,isPaused:!1}),null==r.size&&this.setFileState(r.id,{size:o.bytesUploaded||n.bytesTotal}),this.calculateTotalProgress()}),this.on("preprocess-progress",(r,o)=>{null!=r&&this.getFile(r.id)?this.setFileState(r.id,{progress:{...this.getFile(r.id).progress,preprocess:o}}):this.log(`Not setting progress for a file that has been removed: ${r?.id}`)}),this.on("preprocess-complete",r=>{if(null==r||!this.getFile(r.id))return void this.log(`Not setting progress for a file that has been removed: ${r?.id}`);const o={...this.getState().files};o[r.id]={...o[r.id],progress:{...o[r.id].progress}},delete o[r.id].progress.preprocess,this.setState({files:o})}),this.on("postprocess-progress",(r,o)=>{null!=r&&this.getFile(r.id)?this.setFileState(r.id,{progress:{...this.getState().files[r.id].progress,postprocess:o}}):this.log(`Not setting progress for a file that has been removed: ${r?.id}`)}),this.on("postprocess-complete",r=>{if(null==r||!this.getFile(r.id))return void this.log(`Not setting progress for a file that has been removed: ${r?.id}`);const o={...this.getState().files};o[r.id]={...o[r.id],progress:{...o[r.id].progress}},delete o[r.id].progress.postprocess,this.setState({files:o})}),this.on("restored",()=>{this.calculateTotalProgress()}),this.on("dashboard:file-edit-complete",r=>{r&&C(this,fi)[fi](r)}),typeof window<"u"&&window.addEventListener&&(window.addEventListener("online",C(this,Ne)[Ne]),window.addEventListener("offline",C(this,Ne)[Ne]),setTimeout(C(this,Ne)[Ne],3e3))}function El(i,e){void 0===e&&(e={});const{forceAllowNewUpload:t=!1}=e,{allowNewUpload:r,currentUploads:o}=this.getState();if(!r&&!t)throw new Error("Cannot create a new upload: already uploading.");const n=rr();return this.emit("upload",{id:n,fileIDs:i}),this.setState({allowNewUpload:!1!==this.opts.allowMultipleUploadBatches&&!1!==this.opts.allowMultipleUploads,currentUploads:{...o,[n]:{fileIDs:i,step:0,result:{}}}}),n}function Ol(i){const{currentUploads:e}=this.getState();return e[i]}function Nl(i){const e={...this.getState().currentUploads};delete e[i],this.setState({currentUploads:e})}function Rl(i){return no.apply(this,arguments)}function no(){return(no=(0,P.A)(function*(i){const e=()=>{const{currentUploads:n}=this.getState();return n[i]};let t=e();const r=[...C(this,St)[St],...C(this,Tt)[Tt],...C(this,Ye)[Ye]];try{for(let n=t.step||0;n<r.length&&t;n++){const a=r[n];this.setState({currentUploads:{...this.getState().currentUploads,[i]:{...t,step:n}}});const{fileIDs:l}=t;yield a(l,i),t=e()}}catch(n){throw C(this,Ct)[Ct](i),n}if(t){t.fileIDs.forEach(d=>{const p=this.getFile(d);p&&p.progress.postprocess&&this.emit("postprocess-complete",p)});const n=t.fileIDs.map(d=>this.getFile(d)),a=n.filter(d=>!d.error),l=n.filter(d=>d.error);this.addResultData(i,{successful:a,failed:l,uploadID:i}),t=e()}let o;return t&&(o=t.result,this.emit("complete",o),C(this,Ct)[Ct](i)),null==o&&this.log(`Not setting result for an upload that has been removed: ${i}`),o})).apply(this,arguments)}ar.VERSION="3.13.1";const Ul=ar;var vi,K,Qn,Dt,Jn,Zn,so,ao,lo,po,wi={},ts=[],Ll=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,lr=Array.isArray;function Ze(i,e){for(var t in e)i[t]=e[t];return i}function is(i){i&&i.parentNode&&i.parentNode.removeChild(i)}function u(i,e,t){var r,o,n,a={};for(n in e)"key"==n?r=e[n]:"ref"==n?o=e[n]:a[n]=e[n];if(arguments.length>2&&(a.children=arguments.length>3?vi.call(arguments,2):t),"function"==typeof i&&null!=i.defaultProps)for(n in i.defaultProps)void 0===a[n]&&(a[n]=i.defaultProps[n]);return _i(i,a,r,o,null)}function _i(i,e,t,r,o){var n={type:i,props:e,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o??++Qn,__i:-1,__u:0};return null==o&&null!=K.vnode&&K.vnode(n),n}function ke(i){return i.children}function Ve(i,e){this.props=i,this.context=e}function Qt(i,e){if(null==e)return i.__?Qt(i.__,i.__i+1):null;for(var t;e<i.__k.length;e++)if(null!=(t=i.__k[e])&&null!=t.__e)return t.__e;return"function"==typeof i.type?Qt(i):null}function rs(i){var e,t;if(null!=(i=i.__)&&null!=i.__c){for(i.__e=i.__c.base=null,e=0;e<i.__k.length;e++)if(null!=(t=i.__k[e])&&null!=t.__e){i.__e=i.__c.base=t.__e;break}return rs(i)}}function uo(i){(!i.__d&&(i.__d=!0)&&Dt.push(i)&&!dr.__r++||Jn!==K.debounceRendering)&&((Jn=K.debounceRendering)||Zn)(dr)}function dr(){var i,e,t,r,o,n,a,l;for(Dt.sort(so);i=Dt.shift();)i.__d&&(e=Dt.length,r=void 0,n=(o=(t=i).__v).__e,a=[],l=[],t.__P&&((r=Ze({},o)).__v=o.__v+1,K.vnode&&K.vnode(r),co(t.__P,r,o,t.__n,t.__P.namespaceURI,32&o.__u?[n]:null,a,n??Qt(o),!!(32&o.__u),l),r.__v=o.__v,r.__.__k[r.__i]=r,ls(a,r,l),r.__e!=n&&rs(r)),Dt.length>e&&Dt.sort(so));dr.__r=0}function os(i,e,t,r,o,n,a,l,d,p,h){var c,g,m,y,S,D=r&&r.__k||ts,T=e.length;for(t.__d=d,function $l(i,e,t){var r,o,n,a,l,d=e.length,p=t.length,h=p,c=0;for(i.__k=[],r=0;r<d;r++)null!=(o=e[r])&&"boolean"!=typeof o&&"function"!=typeof o?(a=r+c,(o=i.__k[r]="string"==typeof o||"number"==typeof o||"bigint"==typeof o||o.constructor==String?_i(null,o,null,null,null):lr(o)?_i(ke,{children:o},null,null,null):void 0===o.constructor&&o.__b>0?_i(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=i,o.__b=i.__b+1,n=null,-1!==(l=o.__i=Vl(o,t,a,h))&&(h--,(n=t[l])&&(n.__u|=131072)),null==n||null===n.__v?(-1==l&&c--,"function"!=typeof o.type&&(o.__u|=65536)):l!==a&&(l==a-1?c--:l==a+1?c++:(l>a?c--:c++,o.__u|=65536))):o=i.__k[r]=null;if(h)for(r=0;r<p;r++)null!=(n=t[r])&&!(131072&n.__u)&&(n.__e==i.__d&&(i.__d=Qt(n)),ds(n,n))}(t,e,D),d=t.__d,c=0;c<T;c++)null!=(m=t.__k[c])&&(g=-1===m.__i?wi:D[m.__i]||wi,m.__i=c,co(i,m,g,o,n,a,l,d,p,h),y=m.__e,m.ref&&g.ref!=m.ref&&(g.ref&&ho(g.ref,null,m),h.push(m.ref,m.__c||y,m)),null==S&&null!=y&&(S=y),65536&m.__u||g.__k===m.__k?d=ns(m,d,i):"function"==typeof m.type&&void 0!==m.__d?d=m.__d:y&&(d=y.nextSibling),m.__d=void 0,m.__u&=-196609);t.__d=d,t.__e=S}function ns(i,e,t){var r,o;if("function"==typeof i.type){for(r=i.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=i,e=ns(r[o],e,t));return e}i.__e!=e&&(e&&i.type&&!t.contains(e)&&(e=Qt(i)),t.insertBefore(i.__e,e||null),e=i.__e);do{e=e&&e.nextSibling}while(null!=e&&8===e.nodeType);return e}function et(i,e){return e=e||[],null==i||"boolean"==typeof i||(lr(i)?i.some(function(t){et(t,e)}):e.push(i)),e}function Vl(i,e,t,r){var o=i.key,n=i.type,a=t-1,l=t+1,d=e[t];if(null===d||d&&o==d.key&&n===d.type&&!(131072&d.__u))return t;if(r>(null==d||131072&d.__u?0:1))for(;a>=0||l<e.length;){if(a>=0){if((d=e[a])&&!(131072&d.__u)&&o==d.key&&n===d.type)return a;a--}if(l<e.length){if((d=e[l])&&!(131072&d.__u)&&o==d.key&&n===d.type)return l;l++}}return-1}function ss(i,e,t){"-"===e[0]?i.setProperty(e,t??""):i[e]=null==t?"":"number"!=typeof t||Ll.test(e)?t:t+"px"}function pr(i,e,t,r,o){var n;e:if("style"===e)if("string"==typeof t)i.style.cssText=t;else{if("string"==typeof r&&(i.style.cssText=r=""),r)for(e in r)t&&e in t||ss(i.style,e,"");if(t)for(e in t)r&&t[e]===r[e]||ss(i.style,e,t[e])}else if("o"===e[0]&&"n"===e[1])n=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in i||"onFocusOut"===e||"onFocusIn"===e?e.toLowerCase().slice(2):e.slice(2),i.l||(i.l={}),i.l[e+n]=t,t?r?t.u=r.u:(t.u=ao,i.addEventListener(e,n?po:lo,n)):i.removeEventListener(e,n?po:lo,n);else{if("http://www.w3.org/2000/svg"==o)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=e&&"height"!=e&&"href"!=e&&"list"!=e&&"form"!=e&&"tabIndex"!=e&&"download"!=e&&"rowSpan"!=e&&"colSpan"!=e&&"role"!=e&&"popover"!=e&&e in i)try{i[e]=t??"";break e}catch{}"function"==typeof t||(null==t||!1===t&&"-"!==e[4]?i.removeAttribute(e):i.setAttribute(e,"popover"==e&&1==t?"":t))}}function as(i){return function(e){if(this.l){var t=this.l[e.type+i];if(null==e.t)e.t=ao++;else if(e.t<t.u)return;return t(K.event?K.event(e):e)}}}function co(i,e,t,r,o,n,a,l,d,p){var h,c,g,m,y,S,D,T,I,q,z,G,R,$,X,ue,oe=e.type;if(void 0!==e.constructor)return null;128&t.__u&&(d=!!(32&t.__u),n=[l=e.__e=t.__e]),(h=K.__b)&&h(e);e:if("function"==typeof oe)try{if(T=e.props,I="prototype"in oe&&oe.prototype.render,q=(h=oe.contextType)&&r[h.__c],z=h?q?q.props.value:h.__:r,t.__c?D=(c=e.__c=t.__c).__=c.__E:(I?e.__c=c=new oe(T,z):(e.__c=c=new Ve(T,z),c.constructor=oe,c.render=Gl),q&&q.sub(c),c.props=T,c.state||(c.state={}),c.context=z,c.__n=r,g=c.__d=!0,c.__h=[],c._sb=[]),I&&null==c.__s&&(c.__s=c.state),I&&null!=oe.getDerivedStateFromProps&&(c.__s==c.state&&(c.__s=Ze({},c.__s)),Ze(c.__s,oe.getDerivedStateFromProps(T,c.__s))),m=c.props,y=c.state,c.__v=e,g)I&&null==oe.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),I&&null!=c.componentDidMount&&c.__h.push(c.componentDidMount);else{if(I&&null==oe.getDerivedStateFromProps&&T!==m&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(T,z),!c.__e&&(null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(T,c.__s,z)||e.__v===t.__v)){for(e.__v!==t.__v&&(c.props=T,c.state=c.__s,c.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.some(function(qe){qe&&(qe.__=e)}),G=0;G<c._sb.length;G++)c.__h.push(c._sb[G]);c._sb=[],c.__h.length&&a.push(c);break e}null!=c.componentWillUpdate&&c.componentWillUpdate(T,c.__s,z),I&&null!=c.componentDidUpdate&&c.__h.push(function(){c.componentDidUpdate(m,y,S)})}if(c.context=z,c.props=T,c.__P=i,c.__e=!1,R=K.__r,$=0,I){for(c.state=c.__s,c.__d=!1,R&&R(e),h=c.render(c.props,c.state,c.context),X=0;X<c._sb.length;X++)c.__h.push(c._sb[X]);c._sb=[]}else do{c.__d=!1,R&&R(e),h=c.render(c.props,c.state,c.context),c.state=c.__s}while(c.__d&&++$<25);c.state=c.__s,null!=c.getChildContext&&(r=Ze(Ze({},r),c.getChildContext())),I&&!g&&null!=c.getSnapshotBeforeUpdate&&(S=c.getSnapshotBeforeUpdate(m,y)),os(i,lr(ue=null!=h&&h.type===ke&&null==h.key?h.props.children:h)?ue:[ue],e,t,r,o,n,a,l,d,p),c.base=e.__e,e.__u&=-161,c.__h.length&&a.push(c),D&&(c.__E=c.__=null)}catch(qe){if(e.__v=null,d||null!=n){for(e.__u|=d?160:128;l&&8===l.nodeType&&l.nextSibling;)l=l.nextSibling;n[n.indexOf(l)]=null,e.__e=l}else e.__e=t.__e,e.__k=t.__k;K.__e(qe,e,t)}else null==n&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=function Hl(i,e,t,r,o,n,a,l,d){var p,h,c,g,m,y,S,D=t.props,T=e.props,I=e.type;if("svg"===I?o="http://www.w3.org/2000/svg":"math"===I?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),null!=n)for(p=0;p<n.length;p++)if((m=n[p])&&"setAttribute"in m==!!I&&(I?m.localName===I:3===m.nodeType)){i=m,n[p]=null;break}if(null==i){if(null===I)return document.createTextNode(T);i=document.createElementNS(o,I,T.is&&T),l&&(K.__m&&K.__m(e,n),l=!1),n=null}if(null===I)D===T||l&&i.data===T||(i.data=T);else{if(n=n&&vi.call(i.childNodes),D=t.props||wi,!l&&null!=n)for(D={},p=0;p<i.attributes.length;p++)D[(m=i.attributes[p]).name]=m.value;for(p in D)if(m=D[p],"children"!=p)if("dangerouslySetInnerHTML"==p)c=m;else if(!(p in T)){if("value"==p&&"defaultValue"in T||"checked"==p&&"defaultChecked"in T)continue;pr(i,p,null,m,o)}for(p in T)m=T[p],"children"==p?g=m:"dangerouslySetInnerHTML"==p?h=m:"value"==p?y=m:"checked"==p?S=m:l&&"function"!=typeof m||D[p]===m||pr(i,p,m,D[p],o);if(h)l||c&&(h.__html===c.__html||h.__html===i.innerHTML)||(i.innerHTML=h.__html),e.__k=[];else if(c&&(i.innerHTML=""),os(i,lr(g)?g:[g],e,t,r,"foreignObject"===I?"http://www.w3.org/1999/xhtml":o,n,a,n?n[0]:t.__k&&Qt(t,0),l,d),null!=n)for(p=n.length;p--;)is(n[p]);l||(p="value","progress"===I&&null==y?i.removeAttribute("value"):void 0!==y&&(y!==i[p]||"progress"===I&&!y||"option"===I&&y!==D[p])&&pr(i,p,y,D[p],o),p="checked",void 0!==S&&S!==i[p]&&pr(i,p,S,D[p],o))}return i}(t.__e,e,t,r,o,n,a,d,p);(h=K.diffed)&&h(e)}function ls(i,e,t){e.__d=void 0;for(var r=0;r<t.length;r++)ho(t[r],t[++r],t[++r]);K.__c&&K.__c(e,i),i.some(function(o){try{i=o.__h,o.__h=[],i.some(function(n){n.call(o)})}catch(n){K.__e(n,o.__v)}})}function ho(i,e,t){try{if("function"==typeof i){var r="function"==typeof i.__u;r&&i.__u(),r&&null==e||(i.__u=i(e))}else i.current=e}catch(o){K.__e(o,t)}}function ds(i,e,t){var r,o;if(K.unmount&&K.unmount(i),(r=i.ref)&&(r.current&&r.current!==i.__e||ho(r,null,e)),null!=(r=i.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(n){K.__e(n,e)}r.base=r.__P=null}if(r=i.__k)for(o=0;o<r.length;o++)r[o]&&ds(r[o],e,t||"function"!=typeof i.type);t||is(i.__e),i.__c=i.__=i.__e=i.__d=void 0}function Gl(i,e,t){return this.constructor(i,t)}function fo(i,e,t){var r,o,n,a;K.__&&K.__(i,e),o=(r="function"==typeof t)?null:t&&t.__k||e.__k,n=[],a=[],co(e,i=(!r&&t||e).__k=u(ke,null,[i]),o||wi,wi,e.namespaceURI,!r&&t?[t]:o?null:e.firstChild?vi.call(e.childNodes):null,n,!r&&t?t:o?o.__e:e.firstChild,r,a),ls(n,i,a)}function ps(i,e,t){var r,o,n,a,l=Ze({},i.props);for(n in i.type&&i.type.defaultProps&&(a=i.type.defaultProps),e)"key"==n?r=e[n]:"ref"==n?o=e[n]:l[n]=void 0===e[n]&&void 0!==a?a[n]:e[n];return arguments.length>2&&(l.children=arguments.length>3?vi.call(arguments,2):t),_i(i.type,l,r||i.key,o||i.ref,null)}function us(i){return"object"==typeof i&&null!==i&&"nodeType"in i&&i.nodeType===Node.ELEMENT_NODE}vi=ts.slice,K={__e:function(i,e,t,r){for(var o,n,a;e=e.__;)if((o=e.__c)&&!o.__)try{if((n=o.constructor)&&null!=n.getDerivedStateFromError&&(o.setState(n.getDerivedStateFromError(i)),a=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(i,r||{}),a=o.__d),a)return o.__E=o}catch(l){i=l}throw i}},Qn=0,Ve.prototype.setState=function(i,e){var t;t=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Ze({},this.state),"function"==typeof i&&(i=i(Ze({},t),this.props)),i&&Ze(t,i),null!=i&&this.__v&&(e&&this._sb.push(e),uo(this))},Ve.prototype.forceUpdate=function(i){this.__v&&(this.__e=!0,i&&this.__h.push(i),uo(this))},Ve.prototype.render=ke,Dt=[],Zn="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,so=function(i,e){return i.__v.__b-e.__v.__b},dr.__r=0,ao=0,lo=as(!1),po=as(!0);const cs=function Xl(i){for(var e;i&&!i.dir;)i=i.parentNode;return null==(e=i)?void 0:e.dir};class hs{constructor(e,t){this.uppy=e,this.opts=t??{}}getPluginState(){const{plugins:e}=this.uppy.getState();return e?.[this.id]||{}}setPluginState(e){const{plugins:t}=this.uppy.getState();this.uppy.setState({plugins:{...t,[this.id]:{...t[this.id],...e}}})}setOptions(e){this.opts={...this.opts,...e},this.setPluginState(void 0),this.i18nInit()}i18nInit(){const e=new $n([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=e.translate.bind(e),this.i18nArray=e.translateArray.bind(e),this.setPluginState(void 0)}addTarget(e){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}update(e){}afterUpdate(){}}function fs(i,e){if(!Object.prototype.hasOwnProperty.call(i,e))throw new TypeError("attempted to use private field on non-instance");return i}var Yl=0;function Ql(i){return"__private_"+Yl+++"_"+i}var xi=Ql("updateUI");class ur extends hs{constructor(){super(...arguments),Object.defineProperty(this,xi,{writable:!0,value:void 0})}getTargetPlugin(e){let t;if("function"==typeof e?.addTarget)t=e,t instanceof ur||console.warn(new Error("The provided plugin is not an instance of UIPlugin. This is an indication of a bug with the way Uppy is bundled.",{cause:{targetPlugin:t,UIPlugin:ur}}));else if("function"==typeof e){const r=e;this.uppy.iteratePlugins(o=>{o instanceof r&&(t=o)})}return t}mount(e,t){const r=t.id,o=function ql(i,e){return void 0===e&&(e=document),"string"==typeof i?e.querySelector(i):us(i)?i:null}(e);if(o){this.isTargetDOMEl=!0;const l=document.createElement("div");return l.classList.add("uppy-Root"),fs(this,xi)[xi]=function Jl(i){let t,e=null;return function(){for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return t=o,e||(e=Promise.resolve().then(()=>(e=null,i(...t)))),e}}(d=>{this.uppy.getPlugin(this.id)&&(fo(this.render(d),l),this.afterUpdate())}),this.uppy.log(`Installing ${r} to a DOM element '${e}'`),this.opts.replaceTargetContent&&(o.innerHTML=""),fo(this.render(this.uppy.getState()),l),this.el=l,o.appendChild(l),l.dir=this.opts.direction||cs(l)||"ltr",this.onMount(),this.el}const n=this.getTargetPlugin(e);if(n)return this.uppy.log(`Installing ${r} to ${n.id}`),this.parent=n,this.el=n.addTarget(t),this.onMount(),this.el;this.uppy.log(`Not installing ${r}`);let a=`Invalid target option given to ${r}.`;throw a+="function"==typeof e?" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":"If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(a)}render(e){throw new Error("Extend the render method to add your plugin to a DOM element")}update(e){var t,r;null!=this.el&&(null==(t=(r=fs(this,xi))[xi])||t.call(r,e))}unmount(){var e;this.isTargetDOMEl&&(null==(e=this.el)||e.remove()),this.onUnmount()}onMount(){}onUnmount(){}}const cr=ur;function ms(i,e,t,r){return 0===t||i===e?i:0===r?e:i+(e-i)*2**(-r/t)}const He={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"};var fe=f(8709);function mo(i){const e=[];let r,t="indeterminate";for(const{progress:n}of Object.values(i)){const{preprocess:a,postprocess:l}=n;null==r&&(a||l)&&({mode:t,message:r}=a||l),"determinate"===a?.mode&&e.push(a.value),"determinate"===l?.mode&&e.push(l.value)}return{mode:t,message:r,value:e.reduce((n,a)=>n+a/e.length,0)}}function ed(i){const e=function Zl(i){return{hours:Math.floor(i/3600)%24,minutes:Math.floor(i/60)%60,seconds:Math.floor(i%60)}}(i);return`${0===e.hours?"":`${e.hours}h`}${0===e.minutes?"":`${0===e.hours?e.minutes:` ${e.minutes.toString(10).padStart(2,"0")}`}m`}${0!==e.hours?"":`${0===e.minutes?e.seconds:` ${e.seconds.toString(10).padStart(2,"0")}`}s`}`}const gs=()=>" \xb7 ";function id(i){const{newFiles:e,isUploadStarted:t,recoveredState:r,i18n:o,uploadState:n,isSomeGhost:a,startUpload:l}=i,d=fe("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":n===He.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":a}),p=o(e&&t&&!r?"uploadXNewFiles":"uploadXFiles",{smart_count:e});return u("button",{type:"button",className:d,"aria-label":o("uploadXFiles",{smart_count:e}),onClick:l,disabled:a,"data-uppy-super-focusable":!0},p)}function rd(i){const{i18n:e,uppy:t}=i;return u("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":e("retryUpload"),onClick:()=>t.retryAll().catch(()=>{}),"data-uppy-super-focusable":!0,"data-cy":"retry"},u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10"},u("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})),e("retry"))}function od(i){const{i18n:e,uppy:t}=i;return u("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:e("cancel"),"aria-label":e("cancel"),onClick:()=>t.cancelAll(),"data-cy":"cancel","data-uppy-super-focusable":!0},u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},u("g",{fill:"none",fillRule:"evenodd"},u("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),u("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"}))))}function nd(i){const{isAllPaused:e,i18n:t,isAllComplete:r,resumableUploads:o,uppy:n}=i,a=t(e?"resume":"pause");return u("button",{title:a,"aria-label":a,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:function l(){if(!r){if(!o)return void n.cancelAll();if(e)return void n.resumeAll();n.pauseAll()}},"data-cy":"togglePauseResume","data-uppy-super-focusable":!0},u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},u("g",{fill:"none",fillRule:"evenodd"},u("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),u("path",{fill:"#FFF",d:e?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"}))))}function sd(i){const{i18n:e,doneButtonHandler:t}=i;return u("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:t,"data-uppy-super-focusable":!0},e("done"))}function ys(){return u("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14"},u("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"}))}function ad(i){const{progress:e}=i,{value:t,mode:r,message:o}=e;return u("div",{className:"uppy-StatusBar-content"},u(ys,null),"determinate"===r?`${Math.round(100*t)}% \xb7 `:"",o)}function ld(i){const{numUploads:e,complete:t,totalUploadedSize:r,totalSize:o,totalETA:n,i18n:a}=i,l=e>1;return u("div",{className:"uppy-StatusBar-statusSecondary"},l&&a("filesUploadedOfTotal",{complete:t,smart_count:e}),u("span",{className:"uppy-StatusBar-additionalInfo"},l&&gs(),a("dataUploadedOfTotal",{complete:Pt(r),total:Pt(o)}),gs(),a("xTimeLeft",{time:ed(n)})))}function bs(i){const{i18n:e,complete:t,numUploads:r}=i;return u("div",{className:"uppy-StatusBar-statusSecondary"},e("filesUploadedOfTotal",{complete:t,smart_count:r}))}function dd(i){const{i18n:e,newFiles:t,startUpload:r}=i,o=fe("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return u("div",{className:"uppy-StatusBar-statusSecondary"},u("div",{className:"uppy-StatusBar-statusSecondaryHint"},e("xMoreFilesAdded",{smart_count:t})),u("button",{type:"button",className:o,"aria-label":e("uploadXFiles",{smart_count:t}),onClick:r},e("upload")))}function pd(i){const{i18n:e,supportsUploadProgress:t,totalProgress:r,showProgressDetails:o,isUploadStarted:n,isAllComplete:a,isAllPaused:l,newFiles:d,numUploads:p,complete:h,totalUploadedSize:c,totalSize:g,totalETA:m,startUpload:y}=i,S=d&&n;if(!n||a)return null;const D=e(l?"paused":"uploading");return u("div",{className:"uppy-StatusBar-content","aria-label":D,title:D},l?null:u(ys,null),u("div",{className:"uppy-StatusBar-status"},u("div",{className:"uppy-StatusBar-statusPrimary"},t?`${D}: ${r}%`:D),function T(){return l||S||!o?null:t?u(ld,{numUploads:p,complete:h,totalUploadedSize:c,totalSize:g,totalETA:m,i18n:e}):u(bs,{i18n:e,complete:h,numUploads:p})}(),S?u(dd,{i18n:e,newFiles:d,startUpload:y}):null))}function ud(i){const{i18n:e}=i;return u("div",{className:"uppy-StatusBar-content",role:"status",title:e("complete")},u("div",{className:"uppy-StatusBar-status"},u("div",{className:"uppy-StatusBar-statusPrimary"},u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11"},u("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})),e("complete"))))}function cd(i){const{error:e,i18n:t,complete:r,numUploads:o}=i;return u("div",{className:"uppy-StatusBar-content",title:t("uploadFailed")},u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11"},u("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})),u("div",{className:"uppy-StatusBar-status"},u("div",{className:"uppy-StatusBar-statusPrimary"},t("uploadFailed"),u("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":t("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:function n(){const a=`${t("uploadFailed")} \n\n ${e}`;alert(a)},type:"button"},"?")),u(bs,{i18n:t,complete:r,numUploads:o})))}const{STATE_ERROR:vs,STATE_WAITING:ws,STATE_PREPROCESSING:go,STATE_UPLOADING:hr,STATE_POSTPROCESSING:yo,STATE_COMPLETE:fr}=He;function _s(i){const{newFiles:e,allowNewUpload:t,isUploadInProgress:r,isAllPaused:o,resumableUploads:n,error:a,hideUploadButton:l,hidePauseResumeButton:d,hideCancelButton:p,hideRetryButton:h,recoveredState:c,uploadState:g,totalProgress:m,files:y,supportsUploadProgress:S,hideAfterFinish:D,isSomeGhost:T,doneButtonHandler:I,isUploadStarted:q,i18n:z,startUpload:G,uppy:R,isAllComplete:$,showProgressDetails:X,numUploads:ue,complete:oe,totalSize:qe,totalETA:Ht,totalUploadedSize:Gt}=i,ir=function Ke(){switch(g){case yo:case go:{const Kr=mo(y);return"determinate"===Kr.mode?100*Kr.value:m}case vs:return null;case hr:return S?m:null;default:return m}}(),lh=function Ln(){if(c)return!1;switch(g){case ws:return l||0===e;case fr:return D;default:return!1}}(),jn=ir??100,dh=!a&&e&&!r&&!o&&t&&!l,ph=!p&&g!==ws&&g!==fr,uh=n&&!d&&g===hr,ch=a&&!$&&!h,hh=I&&g===fr,fh=fe("uppy-StatusBar-progress",{"is-indeterminate":function Wt(){switch(g){case yo:case go:{const{mode:Kr}=mo(y);return"indeterminate"===Kr}case hr:return!S;default:return!1}}()});return u("div",{className:fe("uppy-StatusBar",`is-${g}`,{"has-ghosts":T}),"aria-hidden":lh},u("div",{className:fh,style:{width:`${jn}%`},role:"progressbar","aria-label":`${jn}%`,"aria-valuetext":`${jn}%`,"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":ir}),(()=>{switch(g){case go:case yo:return u(ad,{progress:mo(y)});case fr:return u(ud,{i18n:z});case vs:return u(cd,{error:a,i18n:z,numUploads:ue,complete:oe});case hr:return u(pd,{i18n:z,supportsUploadProgress:S,totalProgress:m,showProgressDetails:X,isUploadStarted:q,isAllComplete:$,isAllPaused:o,newFiles:e,numUploads:ue,complete:oe,totalUploadedSize:Gt,totalSize:qe,totalETA:Ht,startUpload:G});default:return null}})(),u("div",{className:"uppy-StatusBar-actions"},c||dh?u(id,{newFiles:e,isUploadStarted:q,recoveredState:c,i18n:z,isSomeGhost:T,startUpload:G,uploadState:g}):null,ch?u(rd,{i18n:z,uppy:R}):null,uh?u(nd,{isAllPaused:o,i18n:z,isAllComplete:$,resumableUploads:n,uppy:R}):null,ph?u(od,{i18n:z,uppy:R}):null,hh?u(sd,{i18n:z,doneButtonHandler:I}):null))}_s.defaultProps={doneButtonHandler:void 0,hideAfterFinish:!1,hideCancelButton:!1,hidePauseResumeButton:!1,hideRetryButton:!1,hideUploadButton:void 0,showProgressDetails:void 0};const hd={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}};function J(i,e){if(!Object.prototype.hasOwnProperty.call(i,e))throw new TypeError("attempted to use private field on non-instance");return i}var fd=0;function Jt(i){return"__private_"+fd+++"_"+i}function bd(i,e,t,r){if(i)return He.STATE_ERROR;if(e)return He.STATE_COMPLETE;if(t)return He.STATE_WAITING;let o=He.STATE_WAITING;const n=Object.keys(r);for(let a=0;a<n.length;a++){const{progress:l}=r[n[a]];if(l.uploadStarted&&!l.uploadComplete)return He.STATE_UPLOADING;l.preprocess&&(o=He.STATE_PREPROCESSING),l.postprocess&&o!==He.STATE_PREPROCESSING&&(o=He.STATE_POSTPROCESSING)}return o}const vd={target:"body",hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null};var Be=Jt("lastUpdateTime"),Re=Jt("previousUploadedBytes"),tt=Jt("previousSpeed"),Pe=Jt("previousETA"),bo=Jt("computeSmoothETA"),Fi=Jt("onUploadStart");class xs extends cr{constructor(e,t){super(e,{...vd,...t}),Object.defineProperty(this,bo,{value:wd}),Object.defineProperty(this,Be,{writable:!0,value:void 0}),Object.defineProperty(this,Re,{writable:!0,value:void 0}),Object.defineProperty(this,tt,{writable:!0,value:void 0}),Object.defineProperty(this,Pe,{writable:!0,value:void 0}),this.startUpload=()=>this.uppy.upload().catch(()=>{}),Object.defineProperty(this,Fi,{writable:!0,value:()=>{const{recoveredState:r}=this.uppy.getState();if(J(this,tt)[tt]=null,J(this,Pe)[Pe]=null,r)return J(this,Re)[Re]=Object.values(r.files).reduce((o,n)=>{let{progress:a}=n;return o+a.bytesUploaded},0),void this.uppy.emit("restore-confirmed");J(this,Be)[Be]=performance.now(),J(this,Re)[Re]=0}}),this.id=this.opts.id||"StatusBar",this.title="StatusBar",this.type="progressindicator",this.defaultLocale=hd,this.i18nInit(),this.render=this.render.bind(this),this.install=this.install.bind(this)}render(e){const{capabilities:t,files:r,allowNewUpload:o,totalProgress:n,error:a,recoveredState:l}=e,{newFiles:d,startedFiles:p,completeFiles:h,isUploadStarted:c,isAllComplete:g,isAllErrored:m,isAllPaused:y,isUploadInProgress:S,isSomeGhost:D}=this.uppy.getObjectOfFilesPerState(),T=l?Object.values(r):d,I=!!t.resumableUploads,q=!1!==t.uploadProgress;let z=0,G=0;p.forEach($=>{z+=$.progress.bytesTotal||0,G+=$.progress.bytesUploaded||0});const R=J(this,bo)[bo]({uploaded:G,total:z,remaining:z-G});return _s({error:a,uploadState:bd(a,g,l,e.files||{}),allowNewUpload:o,totalProgress:n,totalSize:z,totalUploadedSize:G,isAllComplete:!1,isAllPaused:y,isAllErrored:m,isUploadStarted:c,isUploadInProgress:S,isSomeGhost:D,recoveredState:l,complete:h.length,newFiles:T.length,numUploads:p.length,totalETA:R,files:r,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:I,supportsUploadProgress:q,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish,isTargetDOMEl:this.isTargetDOMEl})}onMount(){const e=this.el;cs(e)||(e.dir="ltr")}install(){const{target:e}=this.opts;e&&this.mount(e,this),this.uppy.on("upload",J(this,Fi)[Fi]),J(this,Be)[Be]=performance.now(),J(this,Re)[Re]=this.uppy.getFiles().reduce((t,r)=>t+r.progress.bytesUploaded,0)}uninstall(){this.unmount(),this.uppy.off("upload",J(this,Fi)[Fi])}}function wd(i){var e;if(0===i.total||0===i.remaining)return 0;null!=(e=J(this,Be))[Be]||(e[Be]=performance.now());const r=performance.now()-J(this,Be)[Be];var o;if(0===r)return Math.round((null!=(o=J(this,Pe)[Pe])?o:0)/100)/10;const n=i.uploaded-J(this,Re)[Re];var a;if(J(this,Re)[Re]=i.uploaded,n<=0)return Math.round((null!=(a=J(this,Pe)[Pe])?a:0)/100)/10;const l=n/r,d=null==J(this,tt)[tt]?l:ms(l,J(this,tt)[tt],2e3,r);J(this,tt)[tt]=d;const p=i.remaining/d,h=Math.max(J(this,Pe)[Pe]-r,0),c=null==J(this,Pe)[Pe]?p:ms(p,h,2e3,r);return J(this,Pe)[Pe]=c,J(this,Be)[Be]=performance.now(),Math.round(c/100)/10}xs.VERSION="3.3.3";class _d extends Ve{constructor(){super(...arguments),this.ref={current:null}}componentWillEnter(e){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(e,300)}componentWillLeave(e){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(e,300)}render(){const{children:e}=this.props;return u("div",{className:"uppy-Informer-animated",ref:this.ref},e)}}function Fd(i,e){var t;return null!=(t=i?.key)?t:e}function Pi(i){const e={};for(let t=0;t<i.length;t++)null!=i[t]&&(e[Fd(i[t],t.toString(36))]=i[t]);return e}function Sd(i,e){i=i||{},e=e||{};const t=a=>e.hasOwnProperty(a)?e[a]:i[a],r={};let o=[];for(const a in i)e.hasOwnProperty(a)?o.length&&(r[a]=o,o=[]):o.push(a);const n={};for(const a in e){if(r.hasOwnProperty(a))for(let l=0;l<r[a].length;l++)n[r[a][l]]=t(r[a][l]);n[a]=t(a)}for(let a=0;a<o.length;a++)n[o[a]]=t(o[a]);return n}const Td=i=>i,Cd=(()=>{class i extends Ve{constructor(t,r){super(t,r),this.refs={},this.state={children:Pi(et(et(this.props.children))||[])},this.performAppear=this.performAppear.bind(this),this.performEnter=this.performEnter.bind(this),this.performLeave=this.performLeave.bind(this)}componentWillMount(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}componentDidMount(){const t=this.state.children;for(const r in t)t[r]&&this.performAppear(r)}componentWillReceiveProps(t){const r=Pi(et(t.children)||[]),o=this.state.children;let n;for(n in this.setState(a=>({children:Sd(a.children,r)})),r)if(r.hasOwnProperty(n)){const a=o&&o.hasOwnProperty(n);r[n]&&a&&this.currentlyTransitioningKeys[n]?(this.keysToEnter.push(n),this.keysToAbortLeave.push(n)):r[n]&&!a&&!this.currentlyTransitioningKeys[n]&&this.keysToEnter.push(n)}for(n in o)if(o.hasOwnProperty(n)){const a=r&&r.hasOwnProperty(n);o[n]&&!a&&!this.currentlyTransitioningKeys[n]&&this.keysToLeave.push(n)}}componentDidUpdate(){const{keysToEnter:t}=this;this.keysToEnter=[],t.forEach(this.performEnter);const{keysToLeave:r}=this;this.keysToLeave=[],r.forEach(this.performLeave)}_finishAbort(t){const r=this.keysToAbortLeave.indexOf(t);-1!==r&&this.keysToAbortLeave.splice(r,1)}performAppear(t){this.currentlyTransitioningKeys[t]=!0;const r=this.refs[t];null!=r&&r.componentWillAppear?r.componentWillAppear(this._handleDoneAppearing.bind(this,t)):this._handleDoneAppearing(t)}_handleDoneAppearing(t){const r=this.refs[t];null!=r&&r.componentDidAppear&&r.componentDidAppear(),delete this.currentlyTransitioningKeys[t],this._finishAbort(t);const o=Pi(et(this.props.children)||[]);(!o||!o.hasOwnProperty(t))&&this.performLeave(t)}performEnter(t){this.currentlyTransitioningKeys[t]=!0;const r=this.refs[t];null!=r&&r.componentWillEnter?r.componentWillEnter(this._handleDoneEntering.bind(this,t)):this._handleDoneEntering(t)}_handleDoneEntering(t){const r=this.refs[t];null!=r&&r.componentDidEnter&&r.componentDidEnter(),delete this.currentlyTransitioningKeys[t],this._finishAbort(t);const o=Pi(et(this.props.children)||[]);(!o||!o.hasOwnProperty(t))&&this.performLeave(t)}performLeave(t){if(-1!==this.keysToAbortLeave.indexOf(t))return;this.currentlyTransitioningKeys[t]=!0;const o=this.refs[t];null!=o&&o.componentWillLeave?o.componentWillLeave(this._handleDoneLeaving.bind(this,t)):this._handleDoneLeaving(t)}_handleDoneLeaving(t){if(-1!==this.keysToAbortLeave.indexOf(t))return;const o=this.refs[t];null!=o&&o.componentDidLeave&&o.componentDidLeave(),delete this.currentlyTransitioningKeys[t];const n=Pi(et(this.props.children)||[]);if(n&&n.hasOwnProperty(t))this.performEnter(t);else{const a=function xd(i,e){return Object.assign(i,e)}({},this.state.children);delete a[t],this.setState({children:a})}}render(t,r){let{childFactory:o,transitionLeave:n,transitionName:a,transitionAppear:l,transitionEnter:d,transitionLeaveTimeout:p,transitionEnterTimeout:h,transitionAppearTimeout:c,component:g,...m}=t,{children:y}=r;const S=Object.entries(y).map(D=>{let[T,I]=D;if(!I)return;const q=function Pd(i,e){const t=i._ptgLinkedRefs||(i._ptgLinkedRefs={});return t[e]||(t[e]=r=>{i.refs[e]=r})}(this,T);return ps(o(I),{ref:q,key:T})}).filter(Boolean);return u(g,m,S)}}return i.defaultProps={component:"span",childFactory:Td},i})();class Ps extends cr{constructor(e,t){super(e,t),this.render=r=>u("div",{className:"uppy uppy-Informer"},u(Cd,null,r.info.map(o=>u(_d,{key:o.message},u("p",{role:"alert"},o.message," ",o.details&&u("span",{"aria-label":o.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:()=>alert(`${o.message} \n\n ${o.details}`)},"?")))))),this.type="progressindicator",this.id=this.opts.id||"Informer",this.title="Informer"}install(){const{target:e}=this.opts;e&&this.mount(e,this)}}Ps.VERSION="3.1.0";const Id=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;function Ss(i){return i.startsWith("blob:")}function Ts(i){return!!i&&/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(i)}function V(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}var Cs=typeof self<"u"?self:global;const Si=typeof navigator<"u",Md=Si&&typeof HTMLImageElement>"u",Ds=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),vo=Cs.Buffer,wo=!!vo,Ad=i=>void 0!==i;function Is(i){return void 0===i||(i instanceof Map?0===i.size:0===Object.values(i).filter(Ad).length)}function le(i){let e=new Error(i);throw delete e.stack,e}function ks(i){let e=function(t){let r=0;return t.ifd0.enabled&&(r+=1024),t.exif.enabled&&(r+=2048),t.makerNote&&(r+=2048),t.userComment&&(r+=1024),t.gps.enabled&&(r+=512),t.interop.enabled&&(r+=100),t.ifd1.enabled&&(r+=1024),r+2048}(i);return i.jfif.enabled&&(e+=50),i.xmp.enabled&&(e+=2e4),i.iptc.enabled&&(e+=14e3),i.icc.enabled&&(e+=6e3),e}const _o=i=>String.fromCharCode.apply(null,i),Bs=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;class Ue{static from(e,t){return e instanceof this&&e.le===t?e:new Ue(e,void 0,void 0,t)}constructor(e,t=0,r,o){if("boolean"==typeof o&&(this.le=o),Array.isArray(e)&&(e=new Uint8Array(e)),0===e)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){void 0===r&&(r=e.byteLength-t);let n=new DataView(e,t,r);this._swapDataView(n)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof Ue){void 0===r&&(r=e.byteLength-t),(t+=e.byteOffset)+r>e.byteOffset+e.byteLength&&le("Creating view outside of available memory in ArrayBuffer");let n=new DataView(e.buffer,t,r);this._swapDataView(n)}else if("number"==typeof e){let n=new DataView(new ArrayBuffer(e));this._swapDataView(n)}else le("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,t,r=Ue){return e instanceof DataView||e instanceof Ue?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||le("BufferView.set(): Invalid data argument."),this.toUint8().set(e,t),new r(this,t,e.byteLength)}subarray(e,t){return t=t||this._lengthToEnd(e),new Ue(this,e,t)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,t){return new Uint8Array(this.buffer,this.byteOffset+e,t)}getString(e=0,t=this.byteLength){return o=this.getUint8Array(e,t),Bs?Bs.decode(o):wo?Buffer.from(o).toString("utf8"):decodeURIComponent(escape(_o(o)));var o}getLatin1String(e=0,t=this.byteLength){let r=this.getUint8Array(e,t);return _o(r)}getUnicodeString(e=0,t=this.byteLength){const r=[];for(let o=0;o<t&&e+o<this.byteLength;o+=2)r.push(this.getUint16(e+o));return _o(r)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,t=this.le){return this.dataView.getInt16(e,t)}getInt32(e,t=this.le){return this.dataView.getInt32(e,t)}getUint16(e,t=this.le){return this.dataView.getUint16(e,t)}getUint32(e,t=this.le){return this.dataView.getUint32(e,t)}getFloat32(e,t=this.le){return this.dataView.getFloat32(e,t)}getFloat64(e,t=this.le){return this.dataView.getFloat64(e,t)}getFloat(e,t=this.le){return this.dataView.getFloat32(e,t)}getDouble(e,t=this.le){return this.dataView.getFloat64(e,t)}getUintBytes(e,t,r){switch(t){case 1:return this.getUint8(e,r);case 2:return this.getUint16(e,r);case 4:return this.getUint32(e,r);case 8:return this.getUint64&&this.getUint64(e,r)}}getUint(e,t,r){switch(t){case 8:return this.getUint8(e,r);case 16:return this.getUint16(e,r);case 32:return this.getUint32(e,r);case 64:return this.getUint64&&this.getUint64(e,r)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}}function xo(i,e){le(`${i} '${e}' was not loaded, try using full build of exifr.`)}class Fo extends Map{constructor(e){super(),this.kind=e}get(e,t){return this.has(e)||xo(this.kind,e),t&&(e in t||le(`Unknown ${this.kind} '${e}'.`),t[e].enabled||xo(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}}var mr=new Fo("file parser"),Se=new Fo("segment parser"),Ti=new Fo("file reader");let Ed=Cs.fetch;function Ms(i,e){return(t=i).startsWith("data:")||t.length>1e4?To(i,e,"base64"):Ds&&i.includes("://")?Po(i,e,"url",gr):Ds?To(i,e,"fs"):Si?Po(i,e,"url",gr):void le("Invalid input argument");var t}function Po(i,e,t,r){return So.apply(this,arguments)}function So(){return So=(0,P.A)(function*(i,e,t,r){return Ti.has(t)?To(i,e,t):r?(o=(0,P.A)(function*(n,a){let l=yield a(n);return new Ue(l)}),function(n,a){return o.apply(this,arguments)})(i,r):void le(`Parser ${t} is not loaded`);var o}),So.apply(this,arguments)}function To(i,e,t){return Co.apply(this,arguments)}function Co(){return(Co=(0,P.A)(function*(i,e,t){let r=new(Ti.get(t))(i,e);return yield r.read(),r})).apply(this,arguments)}const gr=i=>Ed(i).then(e=>e.arrayBuffer()),Ci=i=>new Promise((e,t)=>{let r=new FileReader;r.onloadend=()=>e(r.result||new ArrayBuffer),r.onerror=t,r.readAsArrayBuffer(i)});class Od extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function As(i,e,t){let r=new Od;for(let[o,n]of t)r.set(o,n);if(Array.isArray(e))for(let o of e)i.set(o,r);else i.set(e,r);return r}function Es(i,e,t){let r,o=i.get(e);for(r of t)o.set(r[0],r[1])}const Di=new Map,Do=new Map,Io=new Map,Zt=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],yr=["jfif","xmp","icc","iptc","ihdr"],Ii=["tiff",...yr],ne=["ifd0","ifd1","exif","gps","interop"],ei=[...Ii,...ne],ti=["makerNote","userComment"],br=["translateKeys","translateValues","reviveValues","multiSegment"],ii=[...br,"sanitize","mergeOutput","silentErrors"];class Os{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class ki extends Os{get needed(){return this.enabled||this.deps.size>0}constructor(e,t,r,o){if(super(),V(this,"enabled",!1),V(this,"skip",new Set),V(this,"pick",new Set),V(this,"deps",new Set),V(this,"translateKeys",!1),V(this,"translateValues",!1),V(this,"reviveValues",!1),this.key=e,this.enabled=t,this.parse=this.enabled,this.applyInheritables(o),this.canBeFiltered=ne.includes(e),this.canBeFiltered&&(this.dict=Di.get(e)),void 0!==r)if(Array.isArray(r))this.parse=this.enabled=!0,this.canBeFiltered&&r.length>0&&this.translateTagSet(r,this.pick);else if("object"==typeof r){if(this.enabled=!0,this.parse=!1!==r.parse,this.canBeFiltered){let{pick:n,skip:a}=r;n&&n.length>0&&this.translateTagSet(n,this.pick),a&&a.length>0&&this.translateTagSet(a,this.skip)}this.applyInheritables(r)}else!0===r||!1===r?this.parse=this.enabled=r:le(`Invalid options argument: ${r}`)}applyInheritables(e){let t,r;for(t of br)r=e[t],void 0!==r&&(this[t]=r)}translateTagSet(e,t){if(this.dict){let r,o,{tagKeys:n,tagValues:a}=this.dict;for(r of e)"string"==typeof r?(o=a.indexOf(r),-1===o&&(o=n.indexOf(Number(r))),-1!==o&&t.add(Number(n[o]))):t.add(r)}else for(let r of e)t.add(r)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,vr(this.pick,this.deps)):this.enabled&&this.pick.size>0&&vr(this.pick,this.deps)}}var me={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},Ns=new Map;class Bi extends Os{static useCached(e){let t=Ns.get(e);return void 0!==t||(t=new this(e),Ns.set(e,t)),t}constructor(e){super(),!0===e?this.setupFromTrue():void 0===e?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):"object"==typeof e?this.setupFromObject(e):le(`Invalid options argument ${e}`),void 0===this.firstChunkSize&&(this.firstChunkSize=Si?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of Zt)this[e]=me[e];for(e of ii)this[e]=me[e];for(e of ti)this[e]=me[e];for(e of ei)this[e]=new ki(e,me[e],void 0,this)}setupFromTrue(){let e;for(e of Zt)this[e]=me[e];for(e of ii)this[e]=me[e];for(e of ti)this[e]=!0;for(e of ei)this[e]=new ki(e,!0,void 0,this)}setupFromArray(e){let t;for(t of Zt)this[t]=me[t];for(t of ii)this[t]=me[t];for(t of ti)this[t]=me[t];for(t of ei)this[t]=new ki(t,!1,void 0,this);this.setupGlobalFilters(e,void 0,ne)}setupFromObject(e){let t;for(t of(ne.ifd0=ne.ifd0||ne.image,ne.ifd1=ne.ifd1||ne.thumbnail,Object.assign(this,e),Zt))this[t]=ko(e[t],me[t]);for(t of ii)this[t]=ko(e[t],me[t]);for(t of ti)this[t]=ko(e[t],me[t]);for(t of Ii)this[t]=new ki(t,me[t],e[t],this);for(t of ne)this[t]=new ki(t,me[t],e[t],this.tiff);this.setupGlobalFilters(e.pick,e.skip,ne,ei),!0===e.tiff?this.batchEnableWithBool(ne,!0):!1===e.tiff?this.batchEnableWithUserValue(ne,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,ne):"object"==typeof e.tiff&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,ne)}batchEnableWithBool(e,t){for(let r of e)this[r].enabled=t}batchEnableWithUserValue(e,t){for(let r of e){let o=t[r];this[r].enabled=!1!==o&&void 0!==o}}setupGlobalFilters(e,t,r,o=r){if(e&&e.length){for(let a of o)this[a].enabled=!1;let n=Rs(e,r);for(let[a,l]of n)vr(this[a].pick,l),this[a].enabled=!0}else if(t&&t.length){let n=Rs(t,r);for(let[a,l]of n)vr(this[a].skip,l)}}filterNestedSegmentTags(){let{ifd0:e,exif:t,xmp:r,iptc:o,icc:n}=this;this.makerNote?t.deps.add(37500):t.skip.add(37500),this.userComment?t.deps.add(37510):t.skip.add(37510),r.enabled||e.skip.add(700),o.enabled||e.skip.add(33723),n.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:t,gps:r,interop:o}=this;o.needed&&(t.deps.add(40965),e.deps.add(40965)),t.needed&&e.deps.add(34665),r.needed&&e.deps.add(34853),this.tiff.enabled=ne.some(n=>!0===this[n].enabled)||this.makerNote||this.userComment;for(let n of ne)this[n].finalizeFilters()}get onlyTiff(){return!yr.map(e=>this[e].enabled).some(e=>!0===e)&&this.tiff.enabled}checkLoadedPlugins(){for(let e of Ii)this[e].enabled&&!Se.has(e)&&xo("segment parser",e)}}function Rs(i,e){let t,r,o,n,a=[];for(o of e){for(n of(t=Di.get(o),r=[],t))(i.includes(n[0])||i.includes(n[1]))&&r.push(n[0]);r.length&&a.push([o,r])}return a}function ko(i,e){return void 0!==i?i:void 0!==e?e:void 0}function vr(i,e){for(let t of e)i.add(t)}V(Bi,"default",me);class ri{constructor(e){V(this,"parsers",{}),V(this,"output",{}),V(this,"errors",[]),V(this,"pushToErrors",t=>this.errors.push(t)),this.options=Bi.useCached(e)}read(e){var t=this;return(0,P.A)(function*(){var r,o;t.file=yield(r=e,o=t.options,"string"==typeof r?Ms(r,o):Si&&!Md&&r instanceof HTMLImageElement?Ms(r.src,o):r instanceof Uint8Array||r instanceof ArrayBuffer||r instanceof DataView?new Ue(r):Si&&r instanceof Blob?Po(r,o,"blob",Ci):void le("Invalid input argument"))})()}setup(){if(this.fileParser)return;let{file:e}=this,t=e.getUint16(0);for(let[r,o]of mr)if(o.canHandle(e,t))return this.fileParser=new o(this.options,this.file,this.parsers),e[r]=!0;this.file.close&&this.file.close(),le("Unknown file format")}parse(){var e=this;return(0,P.A)(function*(){let{output:t,errors:r}=e;return e.setup(),e.options.silentErrors?(yield e.executeParsers().catch(e.pushToErrors),r.push(...e.fileParser.errors)):yield e.executeParsers(),e.file.close&&e.file.close(),e.options.silentErrors&&r.length>0&&(t.errors=r),Is(o=t)?void 0:o;var o})()}executeParsers(){var e=this;return(0,P.A)(function*(){let{output:t}=e;yield e.fileParser.parse();let r=Object.values(e.parsers).map(function(){var o=(0,P.A)(function*(n){let a=yield n.parse();n.assignToOutput(t,a)});return function(n){return o.apply(this,arguments)}}());e.options.silentErrors&&(r=r.map(o=>o.catch(e.pushToErrors))),yield Promise.all(r)})()}extractThumbnail(){var e=this;return(0,P.A)(function*(){e.setup();let{options:t,file:r}=e,o=Se.get("tiff",t);var n;if(r.tiff?n={start:0,type:"tiff"}:r.jpeg&&(n=yield e.fileParser.getOrFindSegment("tiff")),void 0===n)return;let a=yield e.fileParser.ensureSegmentChunk(n),l=e.parsers.tiff=new o(a,t,r),d=yield l.extractThumbnail();return r.close&&r.close(),d})()}}function Us(i,e){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,P.A)(function*(i,e){let t=new ri(e);return yield t.read(i),t.parse()})).apply(this,arguments)}var Nd=Object.freeze({__proto__:null,parse:Us,Exifr:ri,fileParsers:mr,segmentParsers:Se,fileReaders:Ti,tagKeys:Di,tagValues:Do,tagRevivers:Io,createDictionary:As,extendDictionary:Es,fetchUrlAsArrayBuffer:gr,readBlobAsArrayBuffer:Ci,chunkedProps:Zt,otherSegments:yr,segments:Ii,tiffBlocks:ne,segmentsAndBlocks:ei,tiffExtractables:ti,inheritables:br,allFormatters:ii,Options:Bi});class oi{static findPosition(e,t){let r=e.getUint16(t+2)+2,o="function"==typeof this.headerLength?this.headerLength(e,t,r):this.headerLength,n=t+o,a=r-o;return{offset:t,length:r,headerLength:o,start:n,size:a,end:n+a}}static parse(e,t={}){return new this(e,new Bi({[this.type]:t}),e).parse()}normalizeInput(e){return e instanceof Ue?e:new Ue(e)}constructor(e,t={},r){V(this,"errors",[]),V(this,"raw",new Map),V(this,"handleError",o=>{if(!this.options.silentErrors)throw o;this.errors.push(o.message)}),this.chunk=this.normalizeInput(e),this.file=r,this.type=this.constructor.type,this.globalOptions=this.options=t,this.localOptions=t[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,t){let r=Io.get(t),o=Do.get(t),n=Di.get(t),a=this.options[t],l=a.reviveValues&&!!r,d=a.translateValues&&!!o,p=a.translateKeys&&!!n,h={};for(let[c,g]of e)l&&r.has(c)?g=r.get(c)(g):d&&o.has(c)&&(g=this.translateValue(g,o.get(c))),p&&n.has(c)&&(c=n.get(c)||c),h[c]=g;return h}translateValue(e,t){return t[e]||t.DEFAULT||e}assignToOutput(e,t){this.assignObjectToOutput(e,this.constructor.type,t)}assignObjectToOutput(e,t,r){if(this.globalOptions.mergeOutput)return Object.assign(e,r);e[t]?Object.assign(e[t],r):e[t]=r}}function Rd(i){return 192===i||194===i||196===i||219===i||221===i||218===i||254===i}function zd(i,e,t){for(let[r,o]of Se)if(o.canHandle(i,e,t))return r}V(oi,"headerLength",4),V(oi,"type",void 0),V(oi,"multiSegment",!1),V(oi,"canHandle",()=>!1);class zs extends class{constructor(e,t,r){var o=this;V(this,"errors",[]),V(this,"ensureSegmentChunk",function(){var n=(0,P.A)(function*(a){let l=a.start,d=a.size||65536;if(o.file.chunked)if(o.file.available(l,d))a.chunk=o.file.subarray(l,d);else try{a.chunk=yield o.file.readChunk(l,d)}catch(p){le(`Couldn't read segment: ${JSON.stringify(a)}. ${p.message}`)}else o.file.byteLength>l+d?a.chunk=o.file.subarray(l,d):void 0===a.size?a.chunk=o.file.subarray(l):le("Segment unreachable: "+JSON.stringify(a));return a.chunk});return function(a){return n.apply(this,arguments)}}()),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=t,this.parsers=r}injectSegment(e,t){this.options[e].enabled&&this.createParser(e,t)}createParser(e,t){let r=new(Se.get(e))(t,this.options,this.file);return this.parsers[e]=r}createParsers(e){for(let t of e){let{type:r,chunk:o}=t,n=this.options[r];if(n&&n.enabled){let a=this.parsers[r];a&&a.append||a||this.createParser(r,o)}}}readSegments(e){var t=this;return(0,P.A)(function*(){let r=e.map(t.ensureSegmentChunk);yield Promise.all(r)})()}}{constructor(...e){super(...e),V(this,"appSegments",[]),V(this,"jpegSegments",[]),V(this,"unknownSegments",[])}static canHandle(e,t){return 65496===t}parse(){var e=this;return(0,P.A)(function*(){yield e.findAppSegments(),yield e.readSegments(e.appSegments),e.mergeMultiSegments(),e.createParsers(e.mergedAppSegments||e.appSegments)})()}setupSegmentFinderArgs(e){!0===e?(this.findAll=!0,this.wanted=new Set(Se.keyList())):(e=void 0===e?Se.keyList().filter(t=>this.options[t].enabled):e.filter(t=>this.options[t].enabled&&Se.has(t)),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}findAppSegments(e=0,t){var r=this;return(0,P.A)(function*(){r.setupSegmentFinderArgs(t);let{file:o,findAll:n,wanted:a,remaining:l}=r;if(!n&&r.file.chunked&&(n=Array.from(a).some(d=>Se.get(d).multiSegment&&r.options[d].multiSegment),n&&(yield r.file.readWhole())),e=r.findAppSegmentsInRange(e,o.byteLength),!r.options.onlyTiff&&o.chunked){let d=!1;for(;l.size>0&&!d&&(o.canReadNextChunk||r.unfinishedMultiSegment);){let{nextChunkOffset:p}=o,h=r.appSegments.some(c=>!r.file.available(c.offset||c.start,c.length||c.size));if(d=e>p&&!h?!(yield o.readNextChunk(e)):!(yield o.readNextChunk(p)),void 0===(e=r.findAppSegmentsInRange(e,o.byteLength)))return}}})()}findAppSegmentsInRange(e,t){t-=2;let r,o,n,a,l,d,{file:p,findAll:h,wanted:c,remaining:g,options:m}=this;for(;e<t;e++)if(255===p.getUint8(e))if(r=p.getUint8(e+1),(i=r)>=224&&i<=239){if(o=p.getUint16(e+2),n=zd(p,e,o),n&&c.has(n)&&(a=Se.get(n),l=a.findPosition(p,e),d=m[n],l.type=n,this.appSegments.push(l),!h&&(a.multiSegment&&d.multiSegment?(this.unfinishedMultiSegment=l.chunkNumber<l.chunkCount,this.unfinishedMultiSegment||g.delete(n)):g.delete(n),0===g.size)))break;m.recordUnknownSegments&&(l=oi.findPosition(p,e),l.marker=r,this.unknownSegments.push(l)),e+=o+1}else if(Rd(r)){if(o=p.getUint16(e+2),218===r&&!1!==m.stopAfterSos)return;m.recordJpegSegments&&this.jpegSegments.push({offset:e,length:o,marker:r}),e+=o+1}var i;return e}mergeMultiSegments(){if(!this.appSegments.some(t=>t.multiSegment))return;let e=function(t){let o,n,a,l=new Map;for(let d=0;d<t.length;d++)o=t[d],n=o.type,l.has(n)?a=l.get(n):l.set(n,a=[]),a.push(o);return Array.from(l)}(this.appSegments);this.mergedAppSegments=e.map(([t,r])=>{let o=Se.get(t,this.options);return o.handleMultiSegments?{type:t,chunk:o.handleMultiSegments(r)}:r[0]})}getSegment(e){return this.appSegments.find(t=>t.type===e)}getOrFindSegment(e){var t=this;return(0,P.A)(function*(){let r=t.getSegment(e);return void 0===r&&(yield t.findAppSegments(0,[e]),r=t.getSegment(e)),r})()}}V(zs,"type","jpeg"),mr.set("jpeg",zs);const Ld=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class jd extends oi{parseHeader(){var e=this.chunk.getUint16();18761===e?this.le=!0:19789===e&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,t,r=new Map){let{pick:o,skip:n}=this.options[t];o=new Set(o);let a=o.size>0,l=0===n.size,d=this.chunk.getUint16(e);e+=2;for(let p=0;p<d;p++){let h=this.chunk.getUint16(e);if(a){if(o.has(h)&&(r.set(h,this.parseTag(e,h,t)),o.delete(h),0===o.size))break}else!l&&n.has(h)||r.set(h,this.parseTag(e,h,t));e+=12}return r}parseTag(e,t,r){let{chunk:o}=this,n=o.getUint16(e+2),a=o.getUint32(e+4),l=Ld[n];if(l*a<=4?e+=8:e=o.getUint32(e+8),(n<1||n>13)&&le(`Invalid TIFF value type. block: ${r.toUpperCase()}, tag: ${t.toString(16)}, type: ${n}, offset ${e}`),e>o.byteLength&&le(`Invalid TIFF value offset. block: ${r.toUpperCase()}, tag: ${t.toString(16)}, type: ${n}, offset ${e} is outside of chunk size ${o.byteLength}`),1===n)return o.getUint8Array(e,a);if(2===n)return""===(d=function(p){for(;p.endsWith("\0");)p=p.slice(0,-1);return p}(d=o.getString(e,a)).trim())?void 0:d;var d;if(7===n)return o.getUint8Array(e,a);if(1===a)return this.parseTagValue(n,e);{let p=new(function(c){switch(c){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:case 10:default:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 11:return Float32Array;case 12:return Float64Array}}(n))(a),h=l;for(let c=0;c<a;c++)p[c]=this.parseTagValue(n,e),e+=h;return p}}parseTagValue(e,t){let{chunk:r}=this;switch(e){case 1:return r.getUint8(t);case 3:return r.getUint16(t);case 4:case 13:return r.getUint32(t);case 5:return r.getUint32(t)/r.getUint32(t+4);case 6:return r.getInt8(t);case 8:return r.getInt16(t);case 9:return r.getInt32(t);case 10:return r.getInt32(t)/r.getInt32(t+4);case 11:return r.getFloat(t);case 12:return r.getDouble(t);default:le(`Invalid tiff type ${e}`)}}}class Mo extends jd{static canHandle(e,t){return 225===e.getUint8(t+1)&&1165519206===e.getUint32(t+4)&&0===e.getUint16(t+8)}parse(){var e=this;return(0,P.A)(function*(){e.parseHeader();let{options:t}=e;return t.ifd0.enabled&&(yield e.parseIfd0Block()),t.exif.enabled&&(yield e.safeParse("parseExifBlock")),t.gps.enabled&&(yield e.safeParse("parseGpsBlock")),t.interop.enabled&&(yield e.safeParse("parseInteropBlock")),t.ifd1.enabled&&(yield e.safeParse("parseThumbnailBlock")),e.createOutput()})()}safeParse(e){let t=this[e]();return void 0!==t.catch&&(t=t.catch(this.handleError)),t}findIfd0Offset(){void 0===this.ifd0Offset&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(void 0===this.ifd1Offset){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset);this.ifd1Offset=this.chunk.getUint32(this.ifd0Offset+2+12*e)}}parseBlock(e,t){let r=new Map;return this[t]=r,this.parseTags(e,t,r),r}parseIfd0Block(){var e=this;return(0,P.A)(function*(){if(e.ifd0)return;let{file:t}=e;e.findIfd0Offset(),e.ifd0Offset<8&&le("Malformed EXIF data"),!t.chunked&&e.ifd0Offset>t.byteLength&&le(`IFD0 offset points to outside of file.\nthis.ifd0Offset: ${e.ifd0Offset}, file.byteLength: ${t.byteLength}`),t.tiff&&(yield t.ensureChunk(e.ifd0Offset,ks(e.options)));let r=e.parseBlock(e.ifd0Offset,"ifd0");return 0!==r.size?(e.exifOffset=r.get(34665),e.interopOffset=r.get(40965),e.gpsOffset=r.get(34853),e.xmp=r.get(700),e.iptc=r.get(33723),e.icc=r.get(34675),e.options.sanitize&&(r.delete(34665),r.delete(40965),r.delete(34853),r.delete(700),r.delete(33723),r.delete(34675)),r):void 0})()}parseExifBlock(){var e=this;return(0,P.A)(function*(){if(e.exif||(e.ifd0||(yield e.parseIfd0Block()),void 0===e.exifOffset))return;e.file.tiff&&(yield e.file.ensureChunk(e.exifOffset,ks(e.options)));let t=e.parseBlock(e.exifOffset,"exif");return e.interopOffset||(e.interopOffset=t.get(40965)),e.makerNote=t.get(37500),e.userComment=t.get(37510),e.options.sanitize&&(t.delete(40965),t.delete(37500),t.delete(37510)),e.unpack(t,41728),e.unpack(t,41729),t})()}unpack(e,t){let r=e.get(t);r&&1===r.length&&e.set(t,r[0])}parseGpsBlock(){var e=this;return(0,P.A)(function*(){if(e.gps||(e.ifd0||(yield e.parseIfd0Block()),void 0===e.gpsOffset))return;let t=e.parseBlock(e.gpsOffset,"gps");return t&&t.has(2)&&t.has(4)&&(t.set("latitude",Ls(...t.get(2),t.get(1))),t.set("longitude",Ls(...t.get(4),t.get(3)))),t})()}parseInteropBlock(){var e=this;return(0,P.A)(function*(){if(!e.interop&&(e.ifd0||(yield e.parseIfd0Block()),void 0!==e.interopOffset||e.exif||(yield e.parseExifBlock()),void 0!==e.interopOffset))return e.parseBlock(e.interopOffset,"interop")})()}parseThumbnailBlock(e=!1){var t=this;return(0,P.A)(function*(){if(!t.ifd1&&!t.ifd1Parsed&&(!t.options.mergeOutput||e))return t.findIfd1Offset(),t.ifd1Offset>0&&(t.parseBlock(t.ifd1Offset,"ifd1"),t.ifd1Parsed=!0),t.ifd1})()}extractThumbnail(){var e=this;return(0,P.A)(function*(){if(e.headerParsed||e.parseHeader(),e.ifd1Parsed||(yield e.parseThumbnailBlock(!0)),void 0===e.ifd1)return;let t=e.ifd1.get(513),r=e.ifd1.get(514);return e.chunk.getUint8Array(t,r)})()}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,t,r,o={};for(t of ne)if(e=this[t],!Is(e))if(r=this.canTranslate?this.translateBlock(e,t):Object.fromEntries(e),this.options.mergeOutput){if("ifd1"===t)continue;Object.assign(o,r)}else o[t]=r;return this.makerNote&&(o.makerNote=this.makerNote),this.userComment&&(o.userComment=this.userComment),o}assignToOutput(e,t){if(this.globalOptions.mergeOutput)Object.assign(e,t);else for(let[r,o]of Object.entries(t))this.assignObjectToOutput(e,r,o)}}function Ls(i,e,t,r){var o=i+e/60+t/3600;return"S"!==r&&"W"!==r||(o*=-1),o}V(Mo,"type","tiff"),V(Mo,"headerLength",10),Se.set("tiff",Mo),Object.freeze({__proto__:null,default:Nd,Exifr:ri,fileParsers:mr,segmentParsers:Se,fileReaders:Ti,tagKeys:Di,tagValues:Do,tagRevivers:Io,createDictionary:As,extendDictionary:Es,fetchUrlAsArrayBuffer:gr,readBlobAsArrayBuffer:Ci,chunkedProps:Zt,otherSegments:yr,segments:Ii,tiffBlocks:ne,segmentsAndBlocks:ei,tiffExtractables:ti,inheritables:br,allFormatters:ii,Options:Bi,parse:Us});const Ao={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1};Object.assign({},Ao,{firstChunkSize:4e4,gps:[1,2,3,4]}),Object.assign({},Ao,{tiff:!1,ifd1:!0,mergeOutput:!1});const Hd=Object.assign({},Ao,{firstChunkSize:4e4,ifd0:[274]});function Ro(){return(Ro=(0,P.A)(function*(i){let e=new ri(Hd);yield e.read(i);let t=yield e.parse();if(t&&t.ifd0)return t.ifd0[274]})).apply(this,arguments)}const Wd=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let Mi=!0,Ai=!0;if("object"==typeof navigator){let i=navigator.userAgent;if(i.includes("iPad")||i.includes("iPhone")){let e=i.match(/OS (\d+)_(\d+)/);if(e){let[,t,r]=e;Mi=Number(t)+.1*Number(r)<13.4,Ai=!1}}else if(i.includes("OS X 10")){let[,e]=i.match(/OS X 10[_.](\d+)/);Mi=Ai=Number(e)<15}if(i.includes("Chrome/")){let[,e]=i.match(/Chrome\/(\d+)/);Mi=Ai=Number(e)<81}else if(i.includes("Firefox/")){let[,e]=i.match(/Firefox\/(\d+)/);Mi=Ai=Number(e)<77}}function Uo(){return Uo=(0,P.A)(function*(i){let e=yield function Gd(i){return Ro.apply(this,arguments)}(i);return Object.assign({canvas:Mi,css:Ai},Wd[e])}),Uo.apply(this,arguments)}class Kd extends Ue{constructor(...e){super(...e),V(this,"ranges",new Xd),0!==this.byteLength&&this.ranges.add(0,this.byteLength)}_tryExtend(e,t,r){if(0===e&&0===this.byteLength&&r){let o=new DataView(r.buffer||r,r.byteOffset,r.byteLength);this._swapDataView(o)}else{let o=e+t;if(o>this.byteLength){let{dataView:n}=this._extend(o);this._swapDataView(n)}}}_extend(e){let t;t=wo?vo.allocUnsafe(e):new Uint8Array(e);let r=new DataView(t.buffer,t.byteOffset,t.byteLength);return t.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:t,dataView:r}}subarray(e,t,r=!1){return t=t||this._lengthToEnd(e),r&&this._tryExtend(e,t),this.ranges.add(e,t),super.subarray(e,t)}set(e,t,r=!1){r&&this._tryExtend(t,e.byteLength,e);let o=super.set(e,t);return this.ranges.add(t,o.byteLength),o}ensureChunk(e,t){var r=this;return(0,P.A)(function*(){r.chunked&&(r.ranges.available(e,t)||(yield r.readChunk(e,t)))})()}available(e,t){return this.ranges.available(e,t)}}class Xd{constructor(){V(this,"list",[])}get length(){return this.list.length}add(e,t,r=0){let o=e+t,n=this.list.filter(a=>js(e,a.offset,o)||js(e,a.end,o));if(n.length>0){e=Math.min(e,...n.map(l=>l.offset)),o=Math.max(o,...n.map(l=>l.end)),t=o-e;let a=n.shift();a.offset=e,a.length=t,a.end=o,this.list=this.list.filter(l=>!n.includes(l))}else this.list.push({offset:e,length:t,end:o})}available(e,t){let r=e+t;return this.list.some(o=>o.offset<=e&&r<=o.end)}}function js(i,e,t){return i<=e&&e<=t}class Yd extends Kd{constructor(e,t){super(0),V(this,"chunksRead",0),this.input=e,this.options=t}readWhole(){var e=this;return(0,P.A)(function*(){e.chunked=!1,yield e.readChunk(e.nextChunkOffset)})()}readChunked(){var e=this;return(0,P.A)(function*(){e.chunked=!0,yield e.readChunk(0,e.options.firstChunkSize)})()}readNextChunk(e=this.nextChunkOffset){var t=this;return(0,P.A)(function*(){if(t.fullyRead)return t.chunksRead++,!1;let r=t.options.chunkSize,o=yield t.readChunk(e,r);return!!o&&o.byteLength===r})()}readChunk(e,t){var r=this;return(0,P.A)(function*(){if(r.chunksRead++,0!==(t=r.safeWrapAddress(e,t)))return r._readChunk(e,t)})()}safeWrapAddress(e,t){return void 0!==this.size&&e+t>this.size?Math.max(0,this.size-e):t}get nextChunkOffset(){if(0!==this.ranges.list.length)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return void 0!==this.size&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}Ti.set("blob",class extends Yd{readWhole(){var i=this;return(0,P.A)(function*(){i.chunked=!1;let e=yield Ci(i.input);i._swapArrayBuffer(e)})()}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}_readChunk(i,e){var t=this;return(0,P.A)(function*(){let o=t.input.slice(i,e?i+e:void 0),n=yield Ci(o);return t.set(n,i,!0)})()}});const Qd={strings:{generatingThumbnails:"Generating thumbnails..."}},ip={thumbnailWidth:null,thumbnailHeight:null,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,lazy:!1};class $s extends cr{constructor(e,t){if(super(e,{...ip,...t}),this.onFileAdded=r=>{!r.preview&&r.data&&Ts(r.type)&&!r.isRemote&&this.addToQueue(r.id)},this.onCancelRequest=r=>{const o=this.queue.indexOf(r.id);-1!==o&&this.queue.splice(o,1)},this.onFileRemoved=r=>{const o=this.queue.indexOf(r.id);-1!==o&&this.queue.splice(o,1),r.preview&&Ss(r.preview)&&URL.revokeObjectURL(r.preview)},this.onRestored=()=>{this.uppy.getFiles().filter(o=>o.isRestored).forEach(o=>{(!o.preview||Ss(o.preview))&&this.addToQueue(o.id)})},this.onAllFilesRemoved=()=>{this.queue=[]},this.waitUntilAllProcessed=r=>{r.forEach(n=>{const a=this.uppy.getFile(n);this.uppy.emit("preprocess-progress",a,{mode:"indeterminate",message:this.i18n("generatingThumbnails")})});const o=()=>{r.forEach(n=>{const a=this.uppy.getFile(n);this.uppy.emit("preprocess-complete",a)})};return new Promise(n=>{this.queueProcessing?this.uppy.once("thumbnail:all-generated",()=>{o(),n()}):(o(),n())})},this.type="modifier",this.id=this.opts.id||"ThumbnailGenerator",this.title="Thumbnail Generator",this.queue=[],this.queueProcessing=!1,this.defaultThumbnailDimension=200,this.thumbnailType=this.opts.thumbnailType,this.defaultLocale=Qd,this.i18nInit(),this.opts.lazy&&this.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.")}createThumbnail(e,t,r){const o=URL.createObjectURL(e.data),n=new Promise((l,d)=>{const p=new Image;p.src=o,p.addEventListener("load",()=>{URL.revokeObjectURL(o),l(p)}),p.addEventListener("error",h=>{URL.revokeObjectURL(o),d(h.error||new Error("Could not create thumbnail"))})}),a=function qd(i){return Uo.apply(this,arguments)}(e.data).catch(()=>1);return Promise.all([n,a]).then(l=>{let[d,p]=l;const h=this.getProportionalDimensions(d,t,r,p.deg),c=function ep(i,e){let t=i.width,r=i.height;(90===e.deg||270===e.deg)&&(t=i.height,r=i.width);const o=document.createElement("canvas");o.width=t,o.height=r;const n=o.getContext("2d");return n.translate(t/2,r/2),e.canvas&&(n.rotate(e.rad),n.scale(e.scaleX,e.scaleY)),n.drawImage(i,-i.width/2,-i.height/2,i.width,i.height),o}(d,p);return function Zd(i,e,t){try{i.getContext("2d").getImageData(0,0,1,1)}catch(r){if(18===r.code)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return i.toBlob?new Promise(r=>{i.toBlob(r,e,t)}).then(r=>{if(null===r)throw new Error("cannot read image, probably an svg with external resources");return r}):Promise.resolve().then(()=>function kd(i,e,t){var r,o;const n=Id.exec(i),a=null!=(r=null!=(o=e.mimeType)?o:n?.[1])?r:"plain/text";let l;if(null!=n?.[2]){const d=atob(decodeURIComponent(n[3])),p=new Uint8Array(d.length);for(let h=0;h<d.length;h++)p[h]=d.charCodeAt(h);l=[p]}else null!=n?.[3]&&(l=[decodeURIComponent(n[3])]);return t?new File(l,e.name||"",{type:a}):new Blob(l,{type:a})}(i.toDataURL(e,t),{})).then(r=>{if(null===r)throw new Error("could not extract blob, probably an old browser");return r})}(this.resizeImage(c,h.width,h.height),this.thumbnailType,80)}).then(l=>URL.createObjectURL(l))}getProportionalDimensions(e,t,r,o){let n=e.width/e.height;return(90===o||270===o)&&(n=e.height/e.width),null!=t?{width:t,height:Math.round(t/n)}:null!=r?{width:Math.round(r*n),height:r}:{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/n)}}resizeImage(e,t,r){let o=function tp(i){const e=i.width/i.height,t=5e6,r=4096;let o=Math.floor(Math.sqrt(t*e)),n=Math.floor(t/Math.sqrt(t*e));if(o>r&&(o=r,n=Math.round(o/e)),n>r&&(n=r,o=Math.round(e*n)),i.width>o){const a=document.createElement("canvas");return a.width=o,a.height=n,a.getContext("2d").drawImage(i,0,0,o,n),a}return i}(e),n=Math.ceil(Math.log2(o.width/t));n<1&&(n=1);let a=t*2**(n-1),l=r*2**(n-1);for(;n--;){const p=document.createElement("canvas");p.width=a,p.height=l,p.getContext("2d").drawImage(o,0,0,a,l),o=p,a=Math.round(a/2),l=Math.round(l/2)}return o}setPreviewURL(e,t){this.uppy.setFileState(e,{preview:t})}addToQueue(e){this.queue.push(e),!1===this.queueProcessing&&this.processQueue()}processQueue(){if(this.queueProcessing=!0,this.queue.length>0){const e=this.uppy.getFile(this.queue.shift());return e?this.requestThumbnail(e).catch(()=>{}).then(()=>this.processQueue()):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}requestThumbnail(e){return Ts(e.type)&&!e.isRemote?this.createThumbnail(e,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(t=>{this.setPreviewURL(e.id,t),this.uppy.log(`[ThumbnailGenerator] Generated thumbnail for ${e.id}`),this.uppy.emit("thumbnail:generated",this.uppy.getFile(e.id),t)}).catch(t=>{this.uppy.log(`[ThumbnailGenerator] Failed thumbnail for ${e.id}:`,"warning"),this.uppy.log(t,"warning"),this.uppy.emit("thumbnail:error",this.uppy.getFile(e.id),t)}):Promise.resolve()}install(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}uninstall(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}}$s.VERSION="3.1.0";const Vs=function rp(i){if("string"==typeof i){const e=document.querySelectorAll(i);return 0===e.length?null:Array.from(e)}return"object"==typeof i&&us(i)?[i]:null},Ei=Array.from;function Oi(i){var e,t,r,o=2;for(typeof Symbol<"u"&&(t=Symbol.asyncIterator,r=Symbol.iterator);o--;){if(t&&null!=(e=i[t]))return e.call(i);if(r&&null!=(e=i[r]))return new wr(e.call(i));t="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function wr(i){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var r=t.done;return Promise.resolve(t.value).then(function(o){return{value:o,done:r}})}return(wr=function(r){this.s=r,this.n=r.next}).prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(r){var o=this.s.return;return void 0===o?Promise.resolve({value:r,done:!0}):e(o.apply(this.s,arguments))},throw:function(r){var o=this.s.return;return void 0===o?Promise.reject(r):e(o.apply(this.s,arguments))}},new wr(i)}function zo(i,e){this.v=i,this.k=e}function Lo(i){return function(){return new Ni(i.apply(this,arguments))}}function Ni(i){var e,t;function r(n,a){try{var l=i[n](a),d=l.value,p=d instanceof zo;Promise.resolve(p?d.v:d).then(function(h){if(p){var c="return"===n?"return":"next";if(!d.k||h.done)return r(c,h);h=i[c](h).value}o(l.done?"return":"normal",h)},function(h){r("throw",h)})}catch(h){o("throw",h)}}function o(n,a){switch(n){case"return":e.resolve({value:a,done:!0});break;case"throw":e.reject(a);break;default:e.resolve({value:a,done:!1})}(e=e.next)?r(e.key,e.arg):t=null}this._invoke=function(n,a){return new Promise(function(l,d){var p={key:n,arg:a,resolve:l,reject:d,next:null};t?t=t.next=p:(e=t=p,r(n,a))})},"function"!=typeof i.return&&(this.return=void 0)}function mt(i){return new zo(i,0)}function jo(i){var e={},t=!1;function r(o,n){return t=!0,{done:!1,value:new zo(n=new Promise(function(a){a(i[o](n))}),1)}}return e[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},e.next=function(o){return t?(t=!1,o):r("next",o)},"function"==typeof i.throw&&(e.throw=function(o){if(t)throw t=!1,o;return r("throw",o)}),"function"==typeof i.return&&(e.return=function(o){return t?(t=!1,o):r("return",o)}),e}function Hs(i,e,t,r){let{onSuccess:o}=r;i.readEntries(n=>{const a=[...e,...n];n.length?queueMicrotask(()=>{Hs(i,a,t,{onSuccess:o})}):o(a)},n=>{t(n),o(e)})}function Gs(i,e){return null==i?i:{kind:i.isFile?"file":i.isDirectory?"directory":void 0,name:i.name,getFile:()=>new Promise((t,r)=>i.file(t,r)),values:()=>Lo(function*(){const t=i.createReader(),r=yield mt(new Promise(o=>{Hs(t,[],e,{onSuccess:n=>o(n.map(a=>Gs(a,e)))})}));yield*jo(Oi(r))})(),isSameEntry:void 0}}function Ws(i,e,t){try{return void 0===t&&(t=void 0),Lo(function*(){const r=()=>`${e}/${i.name}`;if("file"===i.kind){const p=yield mt(i.getFile());null!=p?(p.relativePath=e?r():null,yield p):null!=t&&(yield t)}else if("directory"===i.kind){var a,o=!1,n=!1;try{for(var d,l=Oi(i.values());o=!(d=yield mt(l.next())).done;o=!1){const p=d.value;yield*jo(Oi(Ws(p,e?r():i.name)))}}catch(p){n=!0,a=p}finally{try{o&&null!=l.return&&(yield mt(l.return()))}finally{if(n)throw a}}}else null!=t&&(yield t)})()}catch(r){return Promise.reject(r)}}function $o(){return $o=Lo(function*(i,e){const t=yield mt(Promise.all(Array.from(i.items,function(){var r=(0,P.A)(function*(o){let a;return null!=a||(a=Gs("function"==typeof o.getAsEntry?o.getAsEntry():o.webkitGetAsEntry(),e)),{fileSystemHandle:a,lastResortFile:o.getAsFile()}});return function(o){return r.apply(this,arguments)}}())));for(const{lastResortFile:r,fileSystemHandle:o}of t)if(null!=o)try{yield*jo(Oi(Ws(o,"",r)))}catch(n){null!=r?yield r:e(n)}else null!=r&&(yield r)}),$o.apply(this,arguments)}function Vo(){return Vo=(0,P.A)(function*(i,e){var t;const r=null!=(t=e?.logDropError)?t:Function.prototype;try{const p=[];var a,o=!1,n=!1;try{for(var d,l=Oi(function op(i,e){return $o.apply(this,arguments)}(i,r));o=!(d=yield l.next()).done;o=!1)p.push(d.value)}catch(h){n=!0,a=h}finally{try{o&&null!=l.return&&(yield l.return())}finally{if(n)throw a}}return p}catch{return function np(i){const e=Ei(i.files);return Promise.resolve(e)}(i)}}),Vo.apply(this,arguments)}Ni.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Ni.prototype.next=function(i){return this._invoke("next",i)},Ni.prototype.throw=function(i){return this._invoke("throw",i)},Ni.prototype.return=function(i){return this._invoke("return",i)};var ap=f(16371);class qs extends Error{constructor(e){super(e),this.name="TimeoutError"}}class lp extends Error{constructor(e){super(),this.name="AbortError",this.message=e}}const Ks=i=>void 0===globalThis.DOMException?new lp(i):new DOMException(i),Xs=i=>{const e=void 0===i.reason?Ks("This operation was aborted."):i.reason;return e instanceof Error?e:Ks(e)};var it,It=function(i,e,t,r){if("a"===t&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?i!==e||!r:!e.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===t?r:"a"===t?r.call(i):r?r.value:e.get(i)};it=new WeakMap;const cp=class up{constructor(){it.set(this,[])}enqueue(e,t){const r={priority:(t={priority:0,...t}).priority,run:e};if(this.size&&It(this,it,"f")[this.size-1].priority>=t.priority)return void It(this,it,"f").push(r);const o=function pp(i,e,t){let r=0,o=i.length;for(;o>0;){const n=Math.trunc(o/2);let a=r+n;t(i[a],e)<=0?(r=++a,o-=n+1):o=n}return r}(It(this,it,"f"),r,(n,a)=>a.priority-n.priority);It(this,it,"f").splice(o,0,r)}dequeue(){const e=It(this,it,"f").shift();return e?.run}filter(e){return It(this,it,"f").filter(t=>t.priority===e.priority).map(t=>t.run)}get size(){return It(this,it,"f").length}};var re,Ri,Ui,gt,_r,zi,xr,ze,Li,Te,Fr,Ce,ji,yt,Pr,Ys,Qs,Js,Zs,ea,Sr,Ho,Go,Tr,ta,Cr,Z=function(i,e,t,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?i!==e||!o:!e.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(i,t):o?o.value=t:e.set(i,t),t},k=function(i,e,t,r){if("a"===t&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?i!==e||!r:!e.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===t?r:"a"===t?r.call(i):r?r.value:e.get(i)};class ia extends Error{}Ri=new WeakMap,Ui=new WeakMap,gt=new WeakMap,_r=new WeakMap,zi=new WeakMap,xr=new WeakMap,ze=new WeakMap,Li=new WeakMap,Te=new WeakMap,Fr=new WeakMap,Ce=new WeakMap,ji=new WeakMap,yt=new WeakMap,Pr=new WeakMap,re=new WeakSet,Ys=function(){return k(this,Ui,"f")||k(this,gt,"f")<k(this,_r,"f")},Qs=function(){return k(this,Ce,"f")<k(this,ji,"f")},Js=function(){var e;Z(this,Ce,(e=k(this,Ce,"f"),--e),"f"),k(this,re,"m",Sr).call(this),this.emit("next")},Zs=function(){k(this,re,"m",Go).call(this),k(this,re,"m",Ho).call(this),Z(this,Li,void 0,"f")},ea=function(){const e=Date.now();if(void 0===k(this,ze,"f")){const t=k(this,xr,"f")-e;if(!(t<0))return void 0===k(this,Li,"f")&&Z(this,Li,setTimeout(()=>{k(this,re,"m",Zs).call(this)},t),"f"),!0;Z(this,gt,k(this,Ri,"f")?k(this,Ce,"f"):0,"f")}return!1},Sr=function(){if(0===k(this,Te,"f").size)return k(this,ze,"f")&&clearInterval(k(this,ze,"f")),Z(this,ze,void 0,"f"),this.emit("empty"),0===k(this,Ce,"f")&&this.emit("idle"),!1;if(!k(this,yt,"f")){const e=!k(this,re,"a",ea);if(k(this,re,"a",Ys)&&k(this,re,"a",Qs)){const t=k(this,Te,"f").dequeue();return!!t&&(this.emit("active"),t(),e&&k(this,re,"m",Ho).call(this),!0)}}return!1},Ho=function(){k(this,Ui,"f")||void 0!==k(this,ze,"f")||(Z(this,ze,setInterval(()=>{k(this,re,"m",Go).call(this)},k(this,zi,"f")),"f"),Z(this,xr,Date.now()+k(this,zi,"f"),"f"))},Go=function(){0===k(this,gt,"f")&&0===k(this,Ce,"f")&&k(this,ze,"f")&&(clearInterval(k(this,ze,"f")),Z(this,ze,void 0,"f")),Z(this,gt,k(this,Ri,"f")?k(this,Ce,"f"):0,"f"),k(this,re,"m",Tr).call(this)},Tr=function(){for(;k(this,re,"m",Sr).call(this););},ta=function(){var i=(0,P.A)(function*(t){return new Promise((r,o)=>{t.addEventListener("abort",()=>{o(new ia("The task was aborted."))},{once:!0})})});return function e(t){return i.apply(this,arguments)}}(),Cr=function(){var i=(0,P.A)(function*(t,r){return new Promise(o=>{const n=()=>{r&&!r()||(this.off(t,n),o())};this.on(t,n)})});return function e(t,r){return i.apply(this,arguments)}}();const fp=class hp extends ap{constructor(e){var t,r,o,n;if(super(),re.add(this),Ri.set(this,void 0),Ui.set(this,void 0),gt.set(this,0),_r.set(this,void 0),zi.set(this,void 0),xr.set(this,0),ze.set(this,void 0),Li.set(this,void 0),Te.set(this,void 0),Fr.set(this,void 0),Ce.set(this,0),ji.set(this,void 0),yt.set(this,void 0),Pr.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!("number"==typeof(e={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:cp,...e}).intervalCap&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(r=null===(t=e.intervalCap)||void 0===t?void 0:t.toString())&&void 0!==r?r:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(n=null===(o=e.interval)||void 0===o?void 0:o.toString())&&void 0!==n?n:""}\` (${typeof e.interval})`);Z(this,Ri,e.carryoverConcurrencyCount,"f"),Z(this,Ui,e.intervalCap===Number.POSITIVE_INFINITY||0===e.interval,"f"),Z(this,_r,e.intervalCap,"f"),Z(this,zi,e.interval,"f"),Z(this,Te,new e.queueClass,"f"),Z(this,Fr,e.queueClass,"f"),this.concurrency=e.concurrency,this.timeout=e.timeout,Z(this,Pr,!0===e.throwOnTimeout,"f"),Z(this,yt,!1===e.autoStart,"f")}get concurrency(){return k(this,ji,"f")}set concurrency(e){if(!("number"==typeof e&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);Z(this,ji,e,"f"),k(this,re,"m",Tr).call(this)}add(e,t={}){var r=this;return(0,P.A)(function*(){return t={timeout:r.timeout,throwOnTimeout:k(r,Pr,"f"),...t},new Promise((o,n)=>{k(r,Te,"f").enqueue((0,P.A)(function*(){var a,l,d;Z(r,Ce,(l=k(r,Ce,"f"),++l),"f"),Z(r,gt,(d=k(r,gt,"f"),++d),"f");try{if(null!==(a=t.signal)&&void 0!==a&&a.aborted)throw new ia("The task was aborted.");let p=e({signal:t.signal});t.timeout&&(p=function dp(i,e,t,r){let o;const n=new Promise((a,l)=>{if("number"!=typeof e||1!==Math.sign(e))throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${e}\``);if(e!==Number.POSITIVE_INFINITY){if((r={customTimers:{setTimeout,clearTimeout},...r}).signal){const{signal:d}=r;d.aborted&&l(Xs(d)),d.addEventListener("abort",()=>{l(Xs(d))})}o=r.customTimers.setTimeout.call(void 0,()=>{if("function"==typeof t){try{a(t())}catch(h){l(h)}return}const p=t instanceof Error?t:new qs("string"==typeof t?t:`Promise timed out after ${e} milliseconds`);"function"==typeof i.cancel&&i.cancel(),l(p)},e),(0,P.A)(function*(){try{a(yield i)}catch(d){l(d)}finally{r.customTimers.clearTimeout.call(void 0,o)}})()}else a(i)});return n.clear=()=>{clearTimeout(o),o=void 0},n}(Promise.resolve(p),t.timeout)),t.signal&&(p=Promise.race([p,k(r,re,"m",ta).call(r,t.signal)]));const h=yield p;o(h),r.emit("completed",h)}catch(p){if(p instanceof qs&&!t.throwOnTimeout)return void o();n(p),r.emit("error",p)}finally{k(r,re,"m",Js).call(r)}}),t),r.emit("add"),k(r,re,"m",Sr).call(r)})})()}addAll(e,t){var r=this;return(0,P.A)(function*(){return Promise.all(e.map(function(){var o=(0,P.A)(function*(n){return r.add(n,t)});return function(n){return o.apply(this,arguments)}}()))})()}start(){return k(this,yt,"f")?(Z(this,yt,!1,"f"),k(this,re,"m",Tr).call(this),this):this}pause(){Z(this,yt,!0,"f")}clear(){Z(this,Te,new(k(this,Fr,"f")),"f")}onEmpty(){var e=this;return(0,P.A)(function*(){0!==k(e,Te,"f").size&&(yield k(e,re,"m",Cr).call(e,"empty"))})()}onSizeLessThan(e){var t=this;return(0,P.A)(function*(){k(t,Te,"f").size<e||(yield k(t,re,"m",Cr).call(t,"next",()=>k(t,Te,"f").size<e))})()}onIdle(){var e=this;return(0,P.A)(function*(){0===k(e,Ce,"f")&&0===k(e,Te,"f").size||(yield k(e,re,"m",Cr).call(e,"idle"))})()}get size(){return k(this,Te,"f").size}sizeBy(e){return k(this,Te,"f").filter(e).length}get pending(){return k(this,Ce,"f")}get isPaused(){return k(this,yt,"f")}};var rt,W,Wo,ra,ni=0,oa=[],ee=K,na=ee.__b,sa=ee.__r,aa=ee.diffed,la=ee.__c,da=ee.unmount,pa=ee.__;function kt(i,e){ee.__h&&ee.__h(W,i,ni||e),ni=0;var t=W.__H||(W.__H={__:[],__h:[]});return i>=t.__.length&&t.__.push({}),t.__[i]}function Bt(i){return ni=1,function mp(i,e,t){var r=kt(rt++,2);if(r.t=i,!r.__c&&(r.__=[t?t(e):ca(void 0,e),function(l){var d=r.__N?r.__N[0]:r.__[0],p=r.t(d,l);d!==p&&(r.__N=[p,r.__[1]],r.__c.setState({}))}],r.__c=W,!W.u)){var o=function(l,d,p){if(!r.__c.__H)return!0;var h=r.__c.__H.__.filter(function(g){return!!g.__c});if(h.every(function(g){return!g.__N}))return!n||n.call(this,l,d,p);var c=!1;return h.forEach(function(g){if(g.__N){var m=g.__[0];g.__=g.__N,g.__N=void 0,m!==g.__[0]&&(c=!0)}}),!(!c&&r.__c.props===l)&&(!n||n.call(this,l,d,p))};W.u=!0;var n=W.shouldComponentUpdate,a=W.componentWillUpdate;W.componentWillUpdate=function(l,d,p){if(this.__e){var h=n;n=void 0,o(l,d,p),n=h}a&&a.call(this,l,d,p)},W.shouldComponentUpdate=o}return r.__N||r.__}(ca,i)}function Dr(i,e){var t=kt(rt++,3);!ee.__s&&Xo(t.__H,e)&&(t.__=i,t.i=e,W.__H.__h.push(t))}function qo(i){return ni=5,Ir(function(){return{current:i}},[])}function Ir(i,e){var t=kt(rt++,7);return Xo(t.__H,e)&&(t.__=i(),t.__H=e,t.__h=i),t.__}function kr(i,e){return ni=8,Ir(function(){return i},e)}function yp(){for(var i;i=oa.shift();)if(i.__P&&i.__H)try{i.__H.__h.forEach(Br),i.__H.__h.forEach(Ko),i.__H.__h=[]}catch(e){i.__H.__h=[],ee.__e(e,i.__v)}}ee.__b=function(i){W=null,na&&na(i)},ee.__=function(i,e){i&&e.__k&&e.__k.__m&&(i.__m=e.__k.__m),pa&&pa(i,e)},ee.__r=function(i){sa&&sa(i),rt=0;var e=(W=i.__c).__H;e&&(Wo===W?(e.__h=[],W.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.i=t.__N=void 0})):(e.__h.forEach(Br),e.__h.forEach(Ko),e.__h=[],rt=0)),Wo=W},ee.diffed=function(i){aa&&aa(i);var e=i.__c;e&&e.__H&&(e.__H.__h.length&&(1!==oa.push(e)&&ra===ee.requestAnimationFrame||((ra=ee.requestAnimationFrame)||bp)(yp)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.i=void 0})),Wo=W=null},ee.__c=function(i,e){e.some(function(t){try{t.__h.forEach(Br),t.__h=t.__h.filter(function(r){return!r.__||Ko(r)})}catch(r){e.some(function(o){o.__h&&(o.__h=[])}),e=[],ee.__e(r,t.__v)}}),la&&la(i,e)},ee.unmount=function(i){da&&da(i);var e,t=i.__c;t&&t.__H&&(t.__H.__.forEach(function(r){try{Br(r)}catch(o){e=o}}),t.__H=void 0,e&&ee.__e(e,t.__v))};var ua="function"==typeof requestAnimationFrame;function bp(i){var e,t=function(){clearTimeout(r),ua&&cancelAnimationFrame(e),setTimeout(i)},r=setTimeout(t,100);ua&&(e=requestAnimationFrame(t))}function Br(i){var e=W,t=i.__c;"function"==typeof t&&(i.__c=void 0,t()),W=e}function Ko(i){var e=W;i.__c=i.__(),W=e}function Xo(i,e){return!i||i.length!==e.length||e.some(function(t,r){return t!==i[r]})}function ca(i,e){return"function"==typeof e?e(i):e}function vp(){return u("svg",{width:"26",height:"26",viewBox:"0 0 26 26",xmlns:"http://www.w3.org/2000/svg"},u("g",{fill:"none","fill-rule":"evenodd"},u("circle",{fill:"#FFF",cx:"13",cy:"13",r:"13"}),u("path",{d:"M21.64 13.205c0-.639-.057-1.252-.164-1.841H13v3.481h4.844a4.14 4.14 0 01-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615z",fill:"#4285F4","fill-rule":"nonzero"}),u("path",{d:"M13 22c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H4.957v2.332A8.997 8.997 0 0013 22z",fill:"#34A853","fill-rule":"nonzero"}),u("path",{d:"M7.964 14.71A5.41 5.41 0 017.682 13c0-.593.102-1.17.282-1.71V8.958H4.957A8.996 8.996 0 004 13c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05","fill-rule":"nonzero"}),u("path",{d:"M13 7.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C17.463 4.891 15.426 4 13 4a8.997 8.997 0 00-8.043 4.958l3.007 2.332C8.672 9.163 10.656 7.58 13 7.58z",fill:"#EA4335","fill-rule":"nonzero"}),u("path",{d:"M4 4h18v18H4z"})))}function wp(i){let{pluginName:e,i18n:t,onAuth:r}=i;const o="Google Drive"===e;return u("form",{onSubmit:kr(a=>{a.preventDefault(),r()},[r])},o?u("button",{type:"submit",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn uppy-Provider-btn-google","data-uppy-super-focusable":!0},u(vp,null),t("signInWithGoogle")):u("button",{type:"submit",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn","data-uppy-super-focusable":!0},t("authenticateWith",{pluginName:e})))}const _p=i=>{let{pluginName:e,i18n:t,onAuth:r}=i;return u(wp,{pluginName:e,i18n:t,onAuth:r})};function xp(i){const{loading:e,pluginName:t,pluginIcon:r,i18n:o,handleAuth:n,renderForm:a=_p}=i;return u("div",{className:"uppy-Provider-auth"},u("div",{className:"uppy-Provider-authIcon"},r()),u("div",{className:"uppy-Provider-authTitle"},o("authenticateWithTitle",{pluginName:t})),u("div",{className:"uppy-Provider-authForm"},a({pluginName:t,i18n:o,loading:e,onAuth:n})))}function Fp(i){let{i18n:e,logout:t,username:r}=i;return u(ke,null,u("span",{className:"uppy-ProviderBrowser-user",key:"username"},r),u("button",{type:"button",onClick:t,className:"uppy-u-reset uppy-c-btn uppy-ProviderBrowser-userLogout",key:"logout"},e("logOut")))}const Pp=i=>{const{getFolder:e,title:t,isLast:r}=i;return u(ke,null,u("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:e},t),r?"":" / ")};function Sp(i){const{getFolder:e,title:t,breadcrumbsIcon:r,breadcrumbs:o}=i;return u("div",{className:"uppy-Provider-breadcrumbs"},u("div",{className:"uppy-Provider-breadcrumbsIcon"},r),o.map((n,a)=>u(Pp,{key:n.id,getFolder:()=>e(n.requestPath,n.name),title:0===a?t:n.name,isLast:a+1===o.length})))}function Tp(i){return u(ke,null,i.showBreadcrumbs&&u(Sp,{getFolder:i.getFolder,breadcrumbs:i.breadcrumbs,breadcrumbsIcon:i.pluginIcon&&i.pluginIcon(),title:i.title}),u(Fp,{logout:i.logout,username:i.username,i18n:i.i18n}))}function ha(i){return{...i,type:i.mimeType,extension:i.name?Zr(i.name).extension:null}}function Yo(){return Yo=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},Yo.apply(this,arguments)}const Cp={position:"relative",width:"100%",minHeight:"100%"},Dp={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"},fa=class Ip extends Ve{constructor(e){super(e),this.handleScroll=()=>{this.setState({offset:this.base.scrollTop})},this.handleResize=()=>{this.resize()},this.focusElement=null,this.state={offset:0,height:0}}componentDidMount(){this.resize(),window.addEventListener("resize",this.handleResize)}componentWillUpdate(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)}componentDidUpdate(){this.focusElement&&this.focusElement.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}resize(){const{height:e}=this.state;e!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})}render(e){let{data:t,rowHeight:r,renderRow:o,overscanCount:n=10,...a}=e;const{offset:l,height:d}=this.state;let p=Math.floor(l/r),h=Math.floor(d/r);n&&(p=Math.max(0,p-p%n),h+=n);const g=t.slice(p,p+h+4),m={...Cp,height:t.length*r},y={...Dp,top:p*r};return u("div",Yo({onScroll:this.handleScroll},a),u("div",{role:"presentation",style:m},u("div",{role:"presentation",style:y},g.map(o))))}};function ma(i){const{search:e,searchOnInput:t,searchTerm:r,showButton:o,inputLabel:n,clearSearchLabel:a,buttonLabel:l,clearSearch:d,inputClassName:p,buttonCSSClassName:h}=i,[c,g]=Bt(r??""),m=kr(T=>{T.preventDefault(),e(c)},[e,c]),y=kr(T=>{const I=T.target.value;g(I),t&&e(I)},[g,t,e]),[D]=Bt(()=>{const T=document.createElement("form");return T.setAttribute("tabindex","-1"),T.id=rr(),T});return Dr(()=>(document.body.appendChild(D),D.addEventListener("submit",m),()=>{D.removeEventListener("submit",m),document.body.removeChild(D)}),[D,m]),u(ke,null,u("input",{className:`uppy-u-reset ${p}`,type:"search","aria-label":n,placeholder:n,value:c,onInput:y,form:D.id,"data-uppy-super-focusable":!0}),!o&&u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-ProviderBrowser-searchFilterIcon",width:"12",height:"12",viewBox:"0 0 12 12"},u("path",{d:"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z"})),!o&&c&&u("button",{className:"uppy-u-reset uppy-ProviderBrowser-searchFilterReset",type:"button","aria-label":a,title:a,onClick:()=>{g(""),d&&d()}},u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",viewBox:"0 0 19 19"},u("path",{d:"M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z"}))),o&&u("button",{className:`uppy-u-reset uppy-c-btn uppy-c-btn-primary ${h}`,type:"submit",form:D.id},l))}function kp(i){let{cancel:e,done:t,i18n:r,selected:o}=i;return u("div",{className:"uppy-ProviderBrowser-footer"},u("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary",onClick:t,type:"button"},r("selectX",{smart_count:o})),u("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link",onClick:e,type:"button"},r("cancel")))}function Bp(){return u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:11,height:14.5,viewBox:"0 0 44 58"},u("path",{d:"M27.437.517a1 1 0 0 0-.094.03H4.25C2.037.548.217 2.368.217 4.58v48.405c0 2.212 1.82 4.03 4.03 4.03H39.03c2.21 0 4.03-1.818 4.03-4.03V15.61a1 1 0 0 0-.03-.28 1 1 0 0 0 0-.093 1 1 0 0 0-.03-.032 1 1 0 0 0 0-.03 1 1 0 0 0-.032-.063 1 1 0 0 0-.03-.063 1 1 0 0 0-.032 0 1 1 0 0 0-.03-.063 1 1 0 0 0-.032-.03 1 1 0 0 0-.03-.063 1 1 0 0 0-.063-.062l-14.593-14a1 1 0 0 0-.062-.062A1 1 0 0 0 28 .708a1 1 0 0 0-.374-.157 1 1 0 0 0-.156 0 1 1 0 0 0-.03-.03l-.003-.003zM4.25 2.547h22.218v9.97c0 2.21 1.82 4.03 4.03 4.03h10.564v36.438a2.02 2.02 0 0 1-2.032 2.032H4.25c-1.13 0-2.032-.9-2.032-2.032V4.58c0-1.13.902-2.032 2.03-2.032zm24.218 1.345l10.375 9.937.75.718H30.5c-1.13 0-2.032-.9-2.032-2.03V3.89z"}))}function Mp(){return u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",style:{minWidth:16,marginRight:3},viewBox:"0 0 276.157 276.157"},u("path",{d:"M273.08 101.378c-3.3-4.65-8.86-7.32-15.254-7.32h-24.34V67.59c0-10.2-8.3-18.5-18.5-18.5h-85.322c-3.63 0-9.295-2.875-11.436-5.805l-6.386-8.735c-4.982-6.814-15.104-11.954-23.546-11.954H58.73c-9.292 0-18.638 6.608-21.737 15.372l-2.033 5.752c-.958 2.71-4.72 5.37-7.596 5.37H18.5C8.3 49.09 0 57.39 0 67.59v167.07c0 .886.16 1.73.443 2.52.152 3.306 1.18 6.424 3.053 9.064 3.3 4.652 8.86 7.32 15.255 7.32h188.487c11.395 0 23.27-8.425 27.035-19.18l40.677-116.188c2.11-6.035 1.43-12.164-1.87-16.816zM18.5 64.088h8.864c9.295 0 18.64-6.607 21.738-15.37l2.032-5.75c.96-2.712 4.722-5.373 7.597-5.373h29.565c3.63 0 9.295 2.876 11.437 5.806l6.386 8.735c4.982 6.815 15.104 11.954 23.546 11.954h85.322c1.898 0 3.5 1.602 3.5 3.5v26.47H69.34c-11.395 0-23.27 8.423-27.035 19.178L15 191.23V67.59c0-1.898 1.603-3.5 3.5-3.5zm242.29 49.15l-40.676 116.188c-1.674 4.78-7.812 9.135-12.877 9.135H18.75c-1.447 0-2.576-.372-3.02-.997-.442-.625-.422-1.814.057-3.18l40.677-116.19c1.674-4.78 7.812-9.134 12.877-9.134h188.487c1.448 0 2.577.372 3.02.997.443.625.423 1.814-.056 3.18z"}))}function Ap(){return u("svg",{"aria-hidden":"true",focusable:"false",style:{width:16,marginRight:4},viewBox:"0 0 58 58"},u("path",{d:"M36.537 28.156l-11-7a1.005 1.005 0 0 0-1.02-.033C24.2 21.3 24 21.635 24 22v14a1 1 0 0 0 1.537.844l11-7a1.002 1.002 0 0 0 0-1.688zM26 34.18V23.82L34.137 29 26 34.18z"}),u("path",{d:"M57 6H1a1 1 0 0 0-1 1v44a1 1 0 0 0 1 1h56a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zM10 28H2v-9h8v9zm-8 2h8v9H2v-9zm10 10V8h34v42H12V40zm44-12h-8v-9h8v9zm-8 2h8v9h-8v-9zm8-22v9h-8V8h8zM2 8h8v9H2V8zm0 42v-9h8v9H2zm54 0h-8v-9h8v9z"}))}function Ep(i){const{itemIconString:e}=i;if(null===e)return null;switch(e){case"file":return u(Bp,null);case"folder":return u(Mp,null);case"video":return u(Ap,null);default:{const{alt:t}=i;return u("img",{src:e,alt:t,referrerPolicy:"no-referrer",loading:"lazy",width:16,height:16})}}}const ga=function Op(i){const{className:e,isDisabled:t,restrictionError:r,isChecked:o,title:n,itemIconEl:a,showTitles:l,toggleCheckbox:d,recordShiftKeyPress:p,id:h,children:c}=i,g=fe("uppy-u-reset","uppy-ProviderBrowserItem-checkbox","uppy-ProviderBrowserItem-checkbox--grid",{"uppy-ProviderBrowserItem-checkbox--is-checked":o});return u("li",{className:e,title:t?r?.message:void 0},u("input",{type:"checkbox",className:g,onChange:d,onKeyDown:p,onMouseDown:p,name:"listitem",id:h,checked:o,disabled:t,"data-uppy-super-focusable":!0}),u("label",{htmlFor:h,"aria-label":n,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},a,l&&n,c))};function Np(i){const{className:e,isDisabled:t,restrictionError:r,isCheckboxDisabled:o,isChecked:n,toggleCheckbox:a,recordShiftKeyPress:l,type:d,id:p,itemIconEl:h,title:c,handleFolderClick:g,showTitles:m,i18n:y}=i;return u("li",{className:e,title:t?r?.message:void 0},o?null:u("input",{type:"checkbox",className:"uppy-u-reset uppy-ProviderBrowserItem-checkbox "+(n?"uppy-ProviderBrowserItem-checkbox--is-checked":""),onChange:a,onKeyDown:l,onMouseDown:l,name:"listitem",id:p,checked:n,"aria-label":"file"===d?null:y("allFilesFromFolderNamed",{name:c}),disabled:t,"data-uppy-super-focusable":!0}),"file"===d?u("label",{htmlFor:p,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},u("div",{className:"uppy-ProviderBrowserItem-iconWrap"},h),m&&c):u("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-ProviderBrowserItem-inner",onClick:g,"aria-label":y("openFolderNamed",{name:c})},u("div",{className:"uppy-ProviderBrowserItem-iconWrap"},h),m&&c?u("span",null,c):y("unnamed")))}function $i(){return $i=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},$i.apply(this,arguments)}function ya(i){const{author:e,getItemIcon:t,isChecked:r,isDisabled:o,viewType:n}=i,a=t(),l=fe("uppy-ProviderBrowserItem",{"uppy-ProviderBrowserItem--selected":r},{"uppy-ProviderBrowserItem--disabled":o},{"uppy-ProviderBrowserItem--noPreview":"video"===a}),d=u(Ep,{itemIconString:a});switch(n){case"grid":return u(ga,$i({},i,{className:l,itemIconEl:d}));case"list":return u(Np,$i({},i,{className:l,itemIconEl:d}));case"unsplash":return u(ga,$i({},i,{className:l,itemIconEl:d}),u("a",{href:`${e.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer",className:"uppy-ProviderBrowserItem-author",tabIndex:-1},e.name));default:throw new Error(`There is no such type ${n}`)}}function ba(i){const{currentSelection:e,uppyFiles:t,viewType:r,isChecked:o,toggleCheckbox:n,recordShiftKeyPress:a,showTitles:l,i18n:d,validateRestrictions:p,getNextFolder:h,f:c}=i;if(c.isFolder)return ya({showTitles:l,viewType:r,i18n:d,id:c.id,title:c.name,getItemIcon:()=>c.icon,isChecked:o(c),toggleCheckbox:m=>n(m,c),recordShiftKeyPress:a,type:"folder",isDisabled:!1,isCheckboxDisabled:"shared-with-me"===c.id,handleFolderClick:()=>h(c)});const g=p(ha(c),[...t,...e]);return ya({id:c.id,title:c.name,author:c.author,getItemIcon:()=>"grid"===r&&c.thumbnail?c.thumbnail:c.icon,isChecked:o(c),toggleCheckbox:m=>n(m,c),isCheckboxDisabled:!1,recordShiftKeyPress:a,showTitles:l,viewType:r,i18n:d,type:"file",isDisabled:!!g&&!o(c),restrictionError:g})}const va=function Up(i){const{currentSelection:e,folders:t,files:r,uppyFiles:o,viewType:n,headerComponent:a,showBreadcrumbs:l,isChecked:d,toggleCheckbox:p,recordShiftKeyPress:h,handleScroll:c,showTitles:g,i18n:m,validateRestrictions:y,isLoading:S,showSearchFilter:D,search:T,searchTerm:I,clearSearch:q,searchOnInput:z,searchInputLabel:G,clearSearchLabel:R,getNextFolder:$,cancel:X,done:ue,noResultsLabel:oe,virtualList:qe}=i,Ht=e.length,Gt=Ir(()=>[...t,...r],[t,r]);return u("div",{className:fe("uppy-ProviderBrowser",`uppy-ProviderBrowser-viewType--${n}`)},a&&u("div",{className:"uppy-ProviderBrowser-header"},u("div",{className:fe("uppy-ProviderBrowser-headerBar",!l&&"uppy-ProviderBrowser-headerBar--simple")},a)),D&&u("div",{class:"uppy-ProviderBrowser-searchFilter"},u(ma,{search:T,searchTerm:I,clearSearch:q,inputLabel:G,clearSearchLabel:R,inputClassName:"uppy-ProviderBrowser-searchFilterInput",searchOnInput:z})),S?u("div",{className:"uppy-Provider-loading"},u("span",null,"string"==typeof S?S:m("loading"))):t.length||r.length?u("div",{className:"uppy-ProviderBrowser-body"},qe?u("ul",{className:"uppy-ProviderBrowser-list"},u(fa,{data:Gt,renderRow:Ke=>u(ba,{currentSelection:e,uppyFiles:o,viewType:n,isChecked:d,toggleCheckbox:p,recordShiftKeyPress:h,showTitles:g,i18n:m,validateRestrictions:y,getNextFolder:$,f:Ke}),rowHeight:31})):u("ul",{className:"uppy-ProviderBrowser-list",onScroll:c,role:"listbox",tabIndex:-1},Gt.map(Ke=>u(ba,{currentSelection:e,uppyFiles:o,viewType:n,isChecked:d,toggleCheckbox:p,recordShiftKeyPress:h,showTitles:g,i18n:m,validateRestrictions:y,getNextFolder:$,f:Ke})))):u("div",{className:"uppy-Provider-empty"},oe),Ht>0&&u(kp,{selected:Ht,done:ue,cancel:X,i18n:m}))};class Mr extends Ve{componentWillUnmount(){const{onUnmount:e}=this.props;e()}render(){const{children:e}=this.props;return et(e)[0]}}class wa{constructor(e,t){this.filterItems=r=>{const o=this.plugin.getPluginState();return o.filterInput&&""!==o.filterInput?r.filter(n=>-1!==n.name.toLowerCase().indexOf(o.filterInput.toLowerCase())):r},this.recordShiftKeyPress=r=>{this.isShiftKeyPressed=r.shiftKey},this.isChecked=r=>{const{currentSelection:o}=this.plugin.getPluginState();return o.some(n=>n.id===r.id)},this.plugin=e,this.provider=t.provider,this.opts=t,this.isHandlingScroll=!1,this.preFirstRender=this.preFirstRender.bind(this),this.handleError=this.handleError.bind(this),this.clearSelection=this.clearSelection.bind(this),this.cancelPicking=this.cancelPicking.bind(this)}preFirstRender(){this.plugin.setPluginState({didFirstRender:!0}),this.plugin.onFirstRender()}shouldHandleScroll(e){const{scrollHeight:t,scrollTop:r,offsetHeight:o}=e.target;return t-(r+o)<50&&!this.isHandlingScroll}clearSelection(){this.plugin.setPluginState({currentSelection:[],filterInput:""})}cancelPicking(){this.clearSelection();const e=this.plugin.uppy.getPlugin("Dashboard");e&&e.hideAllPanels()}handleError(e){var t;const{uppy:r}=this.plugin,o=r.i18n("companionError");r.log(e.toString()),!e.isAuthError&&"AbortError"!==(null==(t=e.cause)?void 0:t.name)&&r.info({message:o,details:e.toString()},"error",5e3)}registerRequestClient(){this.requestClientId=this.provider.provider,this.plugin.uppy.registerRequestClient(this.requestClientId,this.provider)}getTagFile(e){const t={id:e.id,source:this.plugin.id,name:e.name||e.id,type:e.mimeType,isRemote:!0,data:e,meta:{},body:{fileId:e.id},remote:{companionUrl:this.plugin.opts.companionUrl,url:`${this.provider.fileUrl(e.requestPath)}`,body:{fileId:e.id},providerName:this.provider.name,provider:this.provider.provider,requestClientId:this.requestClientId}};return e.thumbnail&&(t.preview=e.thumbnail),e.author&&(null!=e.author.name&&(t.meta.authorName=String(e.author.name)),e.author.url&&(t.meta.authorUrl=e.author.url)),null!=e.relDirPath&&(t.meta.relativePath=e.relDirPath?`${e.relDirPath}/${t.name}`:null),null!=e.absDirPath&&(t.meta.absolutePath=e.absDirPath?`/${e.absDirPath}/${t.name}`:`/${t.name}`),t}toggleCheckbox(e,t){e.stopPropagation(),e.preventDefault(),e.currentTarget.focus();const{folders:r,files:o}=this.plugin.getPluginState(),n=this.filterItems(r.concat(o));if(this.lastCheckbox&&this.isShiftKeyPressed){const{currentSelection:l}=this.plugin.getPluginState(),d=n.indexOf(this.lastCheckbox),p=n.indexOf(t),h=d<p?n.slice(d,p+1):n.slice(p,d+1),c=[];for(const g of h){const{uppy:m}=this.plugin,y=m.validateRestrictions(ha(g),[...m.getFiles(),...c]);y?m.info({message:y.message},"error",m.opts.infoTimeout):c.push(g)}return void this.plugin.setPluginState({currentSelection:[...new Set([...l,...c])]})}this.lastCheckbox=t;const{currentSelection:a}=this.plugin.getPluginState();this.isChecked(t)?this.plugin.setPluginState({currentSelection:a.filter(l=>l.id!==t.id)}):this.plugin.setPluginState({currentSelection:a.concat([t])})}setLoading(e){this.plugin.setPluginState({loading:e})}}function we(i,e){if(!Object.prototype.hasOwnProperty.call(i,e))throw new TypeError("attempted to use private field on non-instance");return i}var zp=0;function Vi(i){return"__private_"+zp+++"_"+i}function Qo(i,e){return i?`${i}/${e}`:e}function _a(){return u("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30"},u("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"}))}const $p={viewType:"list",showTitles:!0,showFilter:!0,showBreadcrumbs:!0,loadAllFiles:!1,virtualList:!1};var Mt=Vi("abortController"),Le=Vi("withAbort"),Hi=Vi("list"),Gi=Vi("listFilesAndFolders"),Wi=Vi("recursivelyListAllFiles");function Hp(i){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,P.A)(function*(i){var e;null==(e=we(this,Mt)[Mt])||e.abort();const t=new AbortController;we(this,Mt)[Mt]=t;const r=()=>{t.abort(),this.clearSelection()};try{this.plugin.uppy.on("dashboard:close-panel",r),this.plugin.uppy.on("cancel-all",r),yield i(t.signal)}finally{this.plugin.uppy.off("dashboard:close-panel",r),this.plugin.uppy.off("cancel-all",r),we(this,Mt)[Mt]=void 0}})).apply(this,arguments)}function Gp(i){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,P.A)(function*(i){let{requestPath:e,absDirPath:t,signal:r}=i;const{username:o,nextPagePath:n,items:a}=yield this.provider.list(e,{signal:r});return this.username=o||this.username,{items:a.map(l=>({...l,absDirPath:t})),nextPagePath:n}})).apply(this,arguments)}function Wp(i){return en.apply(this,arguments)}function en(){return(en=(0,P.A)(function*(i){let{breadcrumbs:e,signal:t}=i;const r=function jp(i){return i.slice(1).map(e=>e.name).join("/")}(e),{items:o,nextPagePath:n}=yield we(this,Hi)[Hi]({requestPath:this.nextPagePath,absDirPath:r,signal:t});this.nextPagePath=n;const a=[],l=[];return o.forEach(d=>{d.isFolder?l.push(d):a.push(d)}),{files:a,folders:l}})).apply(this,arguments)}function qp(i){return tn.apply(this,arguments)}function tn(){return tn=(0,P.A)(function*(i){var e=this;let{requestPath:t,absDirPath:r,relDirPath:o,queue:n,onFiles:a,signal:l}=i,d=t;for(;d;){const p=yield we(this,Hi)[Hi]({requestPath:d,absDirPath:r,signal:l});d=p.nextPagePath;const h=p.items.filter(m=>!m.isFolder),c=p.items.filter(m=>m.isFolder);a(h);const g=c.map(function(){var m=(0,P.A)(function*(y){return n.add((0,P.A)(function*(){return we(e,Wi)[Wi]({requestPath:y.requestPath,absDirPath:Qo(r,y.name),relDirPath:Qo(o,y.name),queue:n,onFiles:a,signal:l})}))});return function(y){return m.apply(this,arguments)}}());yield Promise.all(g)}}),tn.apply(this,arguments)}function xa(i,e){if(!Object.prototype.hasOwnProperty.call(i,e))throw new TypeError("attempted to use private field on non-instance");return i}(class Vp extends wa{constructor(e,t){super(e,{...$p,...t}),Object.defineProperty(this,Wi,{value:qp}),Object.defineProperty(this,Gi,{value:Wp}),Object.defineProperty(this,Hi,{value:Gp}),Object.defineProperty(this,Le,{value:Hp}),Object.defineProperty(this,Mt,{writable:!0,value:void 0}),this.filterQuery=this.filterQuery.bind(this),this.clearFilter=this.clearFilter.bind(this),this.getFolder=this.getFolder.bind(this),this.getNextFolder=this.getNextFolder.bind(this),this.logout=this.logout.bind(this),this.handleAuth=this.handleAuth.bind(this),this.handleScroll=this.handleScroll.bind(this),this.donePicking=this.donePicking.bind(this),this.render=this.render.bind(this),this.plugin.setPluginState({authenticated:void 0,files:[],folders:[],breadcrumbs:[],filterInput:"",isSearchVisible:!1,currentSelection:[]}),this.registerRequestClient()}tearDown(){}getFolder(e,t){var r=this;return(0,P.A)(function*(){r.setLoading(!0);try{yield we(r,Le)[Le](function(){var o=(0,P.A)(function*(n){r.lastCheckbox=void 0;let{breadcrumbs:a}=r.plugin.getPluginState();const l=a.findIndex(h=>e===h.requestPath);a=-1!==l?a.slice(0,l+1):[...a,{requestPath:e,name:t}],r.nextPagePath=e;let d=[],p=[];do{const{files:h,folders:c}=yield we(r,Gi)[Gi]({breadcrumbs:a,signal:n});d=d.concat(h),p=p.concat(c),r.setLoading(r.plugin.uppy.i18n("loadedXFiles",{numFiles:d.length+p.length}))}while(r.opts.loadAllFiles&&r.nextPagePath);r.plugin.setPluginState({folders:p,files:d,breadcrumbs:a,filterInput:""})});return function(n){return o.apply(this,arguments)}}())}catch(o){if("UserFacingApiError"===o?.name)return void r.plugin.uppy.info({message:r.plugin.uppy.i18n(o.message)},"warning",5e3);r.handleError(o)}finally{r.setLoading(!1)}})()}getNextFolder(e){this.getFolder(e.requestPath,e.name),this.lastCheckbox=void 0}logout(){var e=this;return(0,P.A)(function*(){try{yield we(e,Le)[Le](function(){var t=(0,P.A)(function*(r){const o=yield e.provider.logout({signal:r});if(o.ok){if(!o.revoked){const a=e.plugin.uppy.i18n("companionUnauthorizeHint",{provider:e.plugin.title,url:o.manual_revoke_url});e.plugin.uppy.info(a,"info",7e3)}e.plugin.setPluginState({authenticated:!1,files:[],folders:[],breadcrumbs:[],filterInput:""})}});return function(r){return t.apply(this,arguments)}}())}catch(t){e.handleError(t)}})()}filterQuery(e){this.plugin.setPluginState({filterInput:e})}clearFilter(){this.plugin.setPluginState({filterInput:""})}handleAuth(e){var t=this;return(0,P.A)(function*(){try{yield we(t,Le)[Le](function(){var r=(0,P.A)(function*(o){t.setLoading(!0),yield t.provider.login({authFormData:e,signal:o}),t.plugin.setPluginState({authenticated:!0}),t.preFirstRender()});return function(o){return r.apply(this,arguments)}}())}catch(r){if("UserFacingApiError"===r.name)return void t.plugin.uppy.info({message:t.plugin.uppy.i18n(r.message)},"warning",5e3);t.plugin.uppy.log(`login failed: ${r.message}`)}finally{t.setLoading(!1)}})()}handleScroll(e){var t=this;return(0,P.A)(function*(){if(t.shouldHandleScroll(e)&&t.nextPagePath){t.isHandlingScroll=!0;try{yield we(t,Le)[Le](function(){var r=(0,P.A)(function*(o){const{files:n,folders:a,breadcrumbs:l}=t.plugin.getPluginState(),{files:d,folders:p}=yield we(t,Gi)[Gi]({breadcrumbs:l,signal:o}),h=n.concat(d),c=a.concat(p);t.plugin.setPluginState({folders:c,files:h})});return function(o){return r.apply(this,arguments)}}())}catch(r){t.handleError(r)}finally{t.isHandlingScroll=!1}}})()}donePicking(){var e=this;return(0,P.A)(function*(){e.setLoading(!0);try{yield we(e,Le)[Le](function(){var t=(0,P.A)(function*(r){const{currentSelection:o}=e.plugin.getPluginState(),n=[],a=[];for(const l of o){const{requestPath:d}=l,p=h=>({...h,relDirPath:h.absDirPath.replace(l.absDirPath,"").replace(/^\//,"")});if(l.isFolder){let h=!0,c=0;const g=new fp({concurrency:6}),m=S=>{for(const D of S){const I=Kn(e.getTagFile(D),e.plugin.uppy.getID());e.plugin.uppy.checkIfFileAlreadyExists(I)||(a.push(p(D)),c++,e.setLoading(e.plugin.uppy.i18n("addedNumFiles",{numFiles:c}))),h=!1}};let y;yield we(e,Wi)[Wi]({requestPath:d,absDirPath:Qo(l.absDirPath,l.name),relDirPath:l.name,queue:g,onFiles:m,signal:r}),yield g.onIdle(),y=h?e.plugin.uppy.i18n("emptyFolderAdded"):0===c?e.plugin.uppy.i18n("folderAlreadyAdded",{folder:l.name}):e.plugin.uppy.i18n("folderAdded",{smart_count:c,folder:l.name}),n.push(y)}else a.push(p(l))}e.plugin.uppy.log("Adding files from a remote provider"),e.plugin.uppy.addFiles(a.map(l=>e.getTagFile(l,e.requestClientId))),e.plugin.setPluginState({filterInput:""}),n.forEach(l=>e.plugin.uppy.info(l)),e.clearSelection()});return function(r){return t.apply(this,arguments)}}())}catch(t){e.handleError(t)}finally{e.setLoading(!1)}})()}render(e,t){var r=this;void 0===t&&(t={});const{authenticated:o,didFirstRender:n}=this.plugin.getPluginState(),{i18n:a}=this.plugin.uppy;n||this.preFirstRender();const l={...this.opts,...t},{files:d,folders:p,filterInput:h,loading:c,currentSelection:g}=this.plugin.getPluginState(),{isChecked:m,recordShiftKeyPress:y,filterItems:S}=this,D=""!==h,T=this.plugin.icon||_a,I={showBreadcrumbs:l.showBreadcrumbs,getFolder:this.getFolder,breadcrumbs:this.plugin.getPluginState().breadcrumbs,pluginIcon:T,title:this.plugin.title,logout:this.logout,username:this.username,i18n:a},q={isChecked:m,toggleCheckbox:this.toggleCheckbox.bind(this),recordShiftKeyPress:y,currentSelection:g,files:D?S(d):d,folders:D?S(p):p,getNextFolder:this.getNextFolder,getFolder:this.getFolder,loadAllFiles:this.opts.loadAllFiles,virtualList:this.opts.virtualList,showSearchFilter:l.showFilter,search:this.filterQuery,clearSearch:this.clearFilter,searchTerm:h,searchOnInput:!0,searchInputLabel:a("filter"),clearSearchLabel:a("resetFilter"),noResultsLabel:a("noFilesFound"),logout:this.logout,handleScroll:this.handleScroll,done:this.donePicking,cancel:this.cancelPicking,headerComponent:u(Tp,I),title:this.plugin.title,viewType:l.viewType,showTitles:l.showTitles,showBreadcrumbs:l.showBreadcrumbs,pluginIcon:T,i18n:this.plugin.uppy.i18n,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:function(){return r.plugin.uppy.validateRestrictions(...arguments)},isLoading:c};return u(Mr,{onUnmount:this.clearSelection},!1===o?u(xp,{pluginName:this.plugin.title,pluginIcon:T,handleAuth:this.handleAuth,i18n:this.plugin.uppy.i18nArray,renderForm:this.opts.renderAuthForm,loading:c}):u(va,q))}}).VERSION="3.13.0";var Kp=0;function Xp(i){return"__private_"+Kp+++"_"+i}const Fa={isInputMode:!0,files:[],folders:[],breadcrumbs:[],filterInput:"",currentSelection:[],searchTerm:null},Qp={viewType:"grid",showTitles:!0,showFilter:!0,showBreadcrumbs:!0};var qi=Xp("updateFilesAndInputMode");function Zp(i,e){this.nextPageQuery=i.nextPageQuery,i.items.forEach(t=>{e.push(t)}),this.plugin.setPluginState({currentSelection:[],isInputMode:!1,files:e,searchTerm:i.searchedFor})}(class Jp extends wa{constructor(e,t){super(e,{...Qp,...t}),Object.defineProperty(this,qi,{value:Zp}),this.nextPageQuery=null,this.search=this.search.bind(this),this.clearSearch=this.clearSearch.bind(this),this.resetPluginState=this.resetPluginState.bind(this),this.handleScroll=this.handleScroll.bind(this),this.donePicking=this.donePicking.bind(this),this.render=this.render.bind(this),this.plugin.setPluginState(Fa),this.registerRequestClient()}tearDown(){}resetPluginState(){this.plugin.setPluginState(Fa)}search(e){var t=this;return(0,P.A)(function*(){const{searchTerm:r}=t.plugin.getPluginState();if(!e||e!==r){t.setLoading(!0);try{const o=yield t.provider.search(e);xa(t,qi)[qi](o,[])}catch(o){t.handleError(o)}finally{t.setLoading(!1)}}})()}clearSearch(){this.plugin.setPluginState({currentSelection:[],files:[],searchTerm:null})}handleScroll(e){var t=this;return(0,P.A)(function*(){const r=t.nextPageQuery||null;if(t.shouldHandleScroll(e)&&r){t.isHandlingScroll=!0;try{const{files:o,searchTerm:n}=t.plugin.getPluginState(),a=yield t.provider.search(n,r);xa(t,qi)[qi](a,o)}catch(o){t.handleError(o)}finally{t.isHandlingScroll=!1}}})()}donePicking(){const{currentSelection:e}=this.plugin.getPluginState();this.plugin.uppy.log("Adding remote search provider files"),this.plugin.uppy.addFiles(e.map(t=>this.getTagFile(t))),this.resetPluginState()}render(e,t){var r=this;void 0===t&&(t={});const{didFirstRender:o,isInputMode:n,searchTerm:a}=this.plugin.getPluginState(),{i18n:l}=this.plugin.uppy;o||this.preFirstRender();const d={...this.opts,...t},{files:p,folders:h,filterInput:c,loading:g,currentSelection:m}=this.plugin.getPluginState(),{isChecked:y,filterItems:S,recordShiftKeyPress:D}=this,T=""!==c,I={isChecked:y,toggleCheckbox:this.toggleCheckbox.bind(this),recordShiftKeyPress:D,currentSelection:m,files:T?S(p):p,folders:T?S(h):h,handleScroll:this.handleScroll,done:this.donePicking,cancel:this.cancelPicking,showSearchFilter:d.showFilter,search:this.search,clearSearch:this.clearSearch,searchTerm:a,searchOnInput:!1,searchInputLabel:l("search"),clearSearchLabel:l("resetSearch"),noResultsLabel:l("noSearchResults"),title:this.plugin.title,viewType:d.viewType,showTitles:d.showTitles,showFilter:d.showFilter,isLoading:g,showBreadcrumbs:d.showBreadcrumbs,pluginIcon:this.plugin.icon,i18n:l,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:function(){return r.plugin.uppy.validateRestrictions(...arguments)}};return u(Mr,{onUnmount:this.resetPluginState},n?u("div",{className:"uppy-SearchProvider"},u(ma,{search:this.search,inputLabel:l("enterTextToSearch"),buttonLabel:l("searchImages"),inputClassName:"uppy-c-textInput uppy-SearchProvider-input",buttonCSSClassName:"uppy-SearchProvider-searchButton",showButton:!0})):u(va,I))}}).VERSION="3.13.0";var Pa=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function eu(i,e){return!!(i===e||Pa(i)&&Pa(e))}function tu(i,e){if(i.length!==e.length)return!1;for(var t=0;t<i.length;t++)if(!eu(i[t],e[t]))return!1;return!0}function Sa(i,e){void 0===e&&(e=tu);var t=null;function r(){for(var o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];if(t&&t.lastThis===this&&e(o,t.lastArgs))return t.lastResult;var a=i.apply(this,o);return t={lastResult:a,lastArgs:o,lastThis:this},a}return r.clear=function(){t=null},r}const Ta=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];function Ca(i,e){if(e){const t=i.querySelector(`[data-uppy-paneltype="${e}"]`);if(t)return t}return i}function Da(i,e){const t=e[0];t&&(t.focus(),i.preventDefault())}function Ia(i,e,t){const r=Ca(t,e),o=Ei(r.querySelectorAll(Ta)),n=o.indexOf(document.activeElement);!function ru(i){return i.contains(document.activeElement)}(r)?Da(i,o):i.shiftKey&&0===n?function iu(i,e){const t=e[e.length-1];t&&(t.focus(),i.preventDefault())}(i,o):!i.shiftKey&&n===o.length-1&&Da(i,o)}var nu=f(84270);function au(){const i=document.body;return!!("draggable"in i&&"ondragstart"in i&&"ondrop"in i&&"FormData"in window&&"FileReader"in window)}var lu=f(65784);function rn(i){const e={color:"#838999",icon:u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},u("g",{fill:"#A7AFB7",fillRule:"nonzero"},u("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),u("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})))};if(!i)return e;const t=i.split("/")[0],r=i.split("/")[1];return"text"===t?{color:"#5a5e69",icon:u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},u("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"}))}:"image"===t?{color:"#686de0",icon:u("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},u("g",{fill:"#686DE0",fillRule:"evenodd"},u("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),u("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),u("circle",{cx:"7.5",cy:"9.5",r:"1.5"})))}:"audio"===t?{color:"#068dbb",icon:u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},u("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"}))}:"video"===t?{color:"#19af67",icon:u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},u("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"}))}:"application"===t&&"pdf"===r?{color:"#e25149",icon:u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},u("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"}))}:"application"===t&&-1!==["zip","x-7z-compressed","x-zip-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(r)?{color:"#00C469",icon:u("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},u("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"}))}:e}function ka(i){const{file:e}=i;if(e.preview)return u("img",{className:"uppy-Dashboard-Item-previewImg",alt:e.name,src:e.preview});const{color:t,icon:r}=rn(e.type);return u("div",{className:"uppy-Dashboard-Item-previewIconWrap"},u("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:t}},r),u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76"},u("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})))}const gu=(i,e)=>("function"==typeof e?e():e).filter(o=>o.id===i)[0].name;function Ba(i){const{file:e,toggleFileCard:t,i18n:r,metaFields:o}=i,{missingRequiredMetaFields:n}=e;if(null==n||!n.length)return null;const a=n.map(l=>gu(l,o)).join(", ");return u("div",{className:"uppy-Dashboard-Item-errorMessage"},r("missingRequiredMetaFields",{smart_count:n.length,fields:a})," ",u("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:()=>t(!0,e.id)},r("editFile")))}function yu(i){const{file:e,i18n:t,toggleFileCard:r,metaFields:o,showLinkToFileUploadResult:n}=i;return u("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:e.preview?"rgba(255, 255, 255, 0.5)":rn(e.type).color}},n&&e.uploadURL&&u("a",{className:"uppy-Dashboard-Item-previewLink",href:e.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":e.meta.name},u("span",{hidden:!0},e.meta.name)),u(ka,{file:e}),u(Ba,{file:e,i18n:t,toggleFileCard:r,metaFields:o}))}function Ma(i){return i.isUploaded?i.i18n("uploadComplete"):i.error?i.i18n("retryUpload"):i.resumableUploads?i.i18n(i.file.isPaused?"resumeUpload":"pauseUpload"):i.individualCancellation?i.i18n("cancelUpload"):""}function on(i){return u("div",{className:"uppy-Dashboard-Item-progress"},u("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":Ma(i),title:Ma(i),onClick:()=>function bu(i){if(!i.isUploaded){if(i.error&&!i.hideRetryButton)return void i.uppy.retryUpload(i.file.id);i.resumableUploads&&!i.hidePauseResumeButton?i.uppy.pauseResume(i.file.id):i.individualCancellation&&!i.hideCancelButton&&i.uppy.removeFile(i.file.id)}}(i)},i.children))}function Ar(i){let{children:e}=i;return u("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle"},e)}function nn(i){let{progress:e}=i;const t=2*Math.PI*15;return u("g",null,u("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),u("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":t,"stroke-dashoffset":t-t/100*e}))}function vu(i){return i.file.progress.uploadStarted?i.isUploaded?u("div",{className:"uppy-Dashboard-Item-progress"},u("div",{className:"uppy-Dashboard-Item-progressIndicator"},u(Ar,null,u("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),u("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"})))):i.recoveredState?void 0:i.error&&!i.hideRetryButton?u(on,i,u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19"},u("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),u("path",{d:"M7.9 3H10v2H7.9z"}),u("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),u("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"}))):i.resumableUploads&&!i.hidePauseResumeButton?u(on,i,u(Ar,null,u(nn,{progress:i.file.progress.percentage}),i.file.isPaused?u("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):u("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)"},u("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),u("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})))):i.resumableUploads||!i.individualCancellation||i.hideCancelButton?u("div",{className:"uppy-Dashboard-Item-progress"},u("div",{className:"uppy-Dashboard-Item-progressIndicator"},u(Ar,null,u(nn,{progress:i.file.progress.percentage})))):u(on,i,u(Ar,null,u(nn,{progress:i.file.progress.percentage}),u("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"}))):null}function Aa(i,e){if(0===e)return"";if(i.length<=e)return i;if(e<=4)return`${i.slice(0,e-1)}\u2026`;const t=e-3,r=Math.ceil(t/2),o=Math.floor(t/2);return i.slice(0,r)+"..."+i.slice(-o)}const Pu=i=>{let{file:e,onClick:t}=i;return e.error?u("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails","aria-label":e.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:t,type:"button"},"?"):null};function Su(i){const{file:e}=i;return u("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":e.source},u("div",{className:"uppy-Dashboard-Item-fileName"},(i=>{const{author:e,name:t}=i.file.meta;return u("div",{className:"uppy-Dashboard-Item-name",title:t},Aa(t,function r(){return i.isSingleFile&&i.containerHeight>=350?90:i.containerWidth<=352?35:i.containerWidth<=576?60:e?20:30}()))})(i),u(Pu,{file:i.file,onClick:()=>alert(i.file.error)})),u("div",{className:"uppy-Dashboard-Item-status"},(i=>{var e;const{author:t}=i.file.meta,r=null==(e=i.file.remote)?void 0:e.providerName;return t?u("div",{className:"uppy-Dashboard-Item-author"},u("a",{href:`${t.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer"},Aa(t.name,13)),r?u(ke,null," \xb7 ",r," \xb7 "):null):null})(i),(i=>i.file.size&&u("div",{className:"uppy-Dashboard-Item-statusSize"},Pt(i.file.size)))(i),(i=>i.file.isGhost&&u("span",null," \u2022 ",u("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:i.toggleAddFilesPanel},i.i18n("reSelect"))))(i)),u(Ba,{file:i.file,i18n:i.i18n,toggleFileCard:i.toggleFileCard,metaFields:i.metaFields}))}function Cu(i){let{file:e,uploadInProgressOrComplete:t,metaFields:r,canEditFile:o,i18n:n,onClick:a}=i;return!t&&r&&r.length>0||!t&&o(e)?u("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":n("editFileWithFilename",{file:e.meta.name}),title:n("editFileWithFilename",{file:e.meta.name}),onClick:()=>a()},u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14"},u("g",{fillRule:"evenodd"},u("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),u("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),u("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})))):null}function Du(i){let{i18n:e,onClick:t,file:r}=i;return u("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":e("removeFile",{file:r.meta.name}),title:e("removeFile",{file:r.meta.name}),onClick:()=>t()},u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18"},u("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),u("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})))}const Iu=(i,e)=>{(function Tu(i,e){return void 0===e&&(e="Copy the URL below"),new Promise(t=>{const r=document.createElement("textarea");r.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),r.value=i,document.body.appendChild(r),r.select();const o=()=>{document.body.removeChild(r),window.prompt(e,i),t()};try{return document.execCommand("copy")?(document.body.removeChild(r),t()):o()}catch{return document.body.removeChild(r),o()}})})(e.file.uploadURL,e.i18n("copyLinkToClipboardFallback")).then(()=>{e.uppy.log("Link copied to clipboard."),e.uppy.info(e.i18n("copyLinkToClipboardSuccess"),"info",3e3)}).catch(e.uppy.log).then(()=>i.target.focus({preventScroll:!0}))};function ku(i){const{i18n:e}=i;return u("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":e("copyLink"),title:e("copyLink"),onClick:t=>Iu(t,i)},u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12"},u("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})))}function Bu(i){const{uppy:e,file:t,uploadInProgressOrComplete:r,canEditFile:o,metaFields:n,showLinkToFileUploadResult:a,showRemoveButton:l,i18n:d,toggleFileCard:p,openFileEditor:h}=i;return u("div",{className:"uppy-Dashboard-Item-actionWrapper"},u(Cu,{i18n:d,file:t,uploadInProgressOrComplete:r,canEditFile:o,metaFields:n,onClick:()=>{n&&n.length>0?p(!0,t.id):h(t)}}),a&&t.uploadURL?u(ku,{file:t,uppy:e,i18n:d}):null,l?u(Du,{i18n:d,file:t,uppy:e,onClick:()=>e.removeFile(t.id,"removed-by-user")}):null)}class Mu extends Ve{componentDidMount(){const{file:e}=this.props;e.preview||this.props.handleRequestThumbnail(e)}shouldComponentUpdate(e){return!lu(this.props,e)}componentDidUpdate(){const{file:e}=this.props;e.preview||this.props.handleRequestThumbnail(e)}componentWillUnmount(){const{file:e}=this.props;e.preview||this.props.handleCancelThumbnail(e)}render(){const{file:e}=this.props,t=e.progress.preprocess||e.progress.postprocess,r=e.progress.uploadComplete&&!t&&!e.error,o=e.progress.uploadStarted||t,n=e.progress.uploadStarted&&!e.progress.uploadComplete||t,a=e.error||!1,{isGhost:l}=e;let d=(this.props.individualCancellation||!n)&&!r;return r&&this.props.showRemoveButtonAfterComplete&&(d=!0),u("div",{className:fe({"uppy-Dashboard-Item":!0,"is-inprogress":n&&!this.props.recoveredState,"is-processing":t,"is-complete":r,"is-error":!!a,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":l}),id:`uppy_${e.id}`,role:this.props.role},u("div",{className:"uppy-Dashboard-Item-preview"},u(yu,{file:e,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),u(vu,{uppy:this.props.uppy,file:e,error:a,isUploaded:r,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,showRemoveButtonAfterComplete:this.props.showRemoveButtonAfterComplete,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})),u("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons"},u(Su,{file:e,id:this.props.id,acquirers:this.props.acquirers,containerWidth:this.props.containerWidth,containerHeight:this.props.containerHeight,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields,isSingleFile:this.props.isSingleFile}),u(Bu,{file:e,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:d,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:o,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})))}}function Eu(i){let{id:e,error:t,i18n:r,uppy:o,files:n,acquirers:a,resumableUploads:l,hideRetryButton:d,hidePauseResumeButton:p,hideCancelButton:h,showLinkToFileUploadResult:c,showRemoveButtonAfterComplete:g,isWide:m,metaFields:y,isSingleFile:S,toggleFileCard:D,handleRequestThumbnail:T,handleCancelThumbnail:I,recoveredState:q,individualCancellation:z,itemsPerRow:G,openFileEditor:R,canEditFile:$,toggleAddFilesPanel:X,containerWidth:ue,containerHeight:oe}=i;const qe=1===G?71:200,Ht=Ir(()=>{const Wt=Object.keys(n);return q&&Wt.sort((Ln,ir)=>n[ir].isGhost-n[Ln].isGhost),function Au(i,e){const t=[];let r=[];return i.forEach(o=>{r.length<e?r.push(o):(t.push(r),r=[o])}),r.length&&t.push(r),t}(Wt,G)},[n,G,q]),Gt=Ke=>u("div",{class:"uppy-Dashboard-filesInner",role:"presentation",key:Ke[0]},Ke.map(Wt=>u(Mu,{key:Wt,uppy:o,id:e,error:t,i18n:r,acquirers:a,resumableUploads:l,individualCancellation:z,hideRetryButton:d,hidePauseResumeButton:p,hideCancelButton:h,showLinkToFileUploadResult:c,showRemoveButtonAfterComplete:g,isWide:m,metaFields:y,recoveredState:q,isSingleFile:S,containerWidth:ue,containerHeight:oe,toggleFileCard:D,handleRequestThumbnail:T,handleCancelThumbnail:I,role:"listitem",openFileEditor:R,canEditFile:$,toggleAddFilesPanel:X,file:n[Wt]})));return S?u("div",{class:"uppy-Dashboard-files"},Gt(Ht[0])):u(fa,{class:"uppy-Dashboard-files",role:"list",data:Ht,renderRow:Gt,rowHeight:qe})}let Ea;Ea=Symbol.for("uppy test: disable unused locale key warning");const Oa=class Ou extends Ve{constructor(){super(...arguments),this.triggerFileInputClick=()=>{this.fileInput.click()},this.triggerFolderInputClick=()=>{this.folderInput.click()},this.triggerVideoCameraInputClick=()=>{this.mobileVideoFileInput.click()},this.triggerPhotoCameraInputClick=()=>{this.mobilePhotoFileInput.click()},this.onFileInputChange=e=>{this.props.handleInputChange(e),e.target.value=null},this.renderHiddenInput=(e,t)=>u("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:e,type:"file",name:"files[]",multiple:1!==this.props.maxNumberOfFiles,onChange:this.onFileInputChange,accept:this.props.allowedFileTypes,ref:t}),this.renderHiddenCameraInput=(e,t,r)=>u("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,type:"file",name:`camera-${e}`,onChange:this.onFileInputChange,capture:t,accept:{photo:"image/*",video:"video/*"}[e],ref:r}),this.renderMyDeviceAcquirer=()=>u("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice"},u("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerFileInputClick},u("div",{className:"uppy-DashboardTab-inner"},u("svg",{className:"uppy-DashboardTab-iconMyDevice","aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},u("path",{d:"M8.45 22.087l-1.305-6.674h17.678l-1.572 6.674H8.45zm4.975-12.412l1.083 1.765a.823.823 0 00.715.386h7.951V13.5H8.587V9.675h4.838zM26.043 13.5h-1.195v-2.598c0-.463-.336-.75-.798-.75h-8.356l-1.082-1.766A.823.823 0 0013.897 8H7.728c-.462 0-.815.256-.815.718V13.5h-.956a.97.97 0 00-.746.37.972.972 0 00-.19.81l1.724 8.565c.095.44.484.755.933.755H24c.44 0 .824-.3.929-.727l2.043-8.568a.972.972 0 00-.176-.825.967.967 0 00-.753-.38z",fill:"currentcolor","fill-rule":"evenodd"}))),u("div",{className:"uppy-DashboardTab-name"},this.props.i18n("myDevice")))),this.renderPhotoCamera=()=>u("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobilePhotoCamera"},u("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerPhotoCameraInputClick},u("div",{className:"uppy-DashboardTab-inner"},u("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},u("path",{d:"M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z",fill:"#02B383","fill-rule":"nonzero"}))),u("div",{className:"uppy-DashboardTab-name"},this.props.i18n("takePictureBtn")))),this.renderVideoCamera=()=>u("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobileVideoCamera"},u("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerVideoCameraInputClick},u("div",{className:"uppy-DashboardTab-inner"},u("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32"},u("path",{fill:"#FF675E",fillRule:"nonzero",d:"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "}))),u("div",{className:"uppy-DashboardTab-name"},this.props.i18n("recordVideoBtn")))),this.renderBrowseButton=(e,t)=>u("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-browse",onClick:t,"data-uppy-super-focusable":0===this.props.acquirers.length},e),this.renderDropPasteBrowseTagline=e=>{const t=this.renderBrowseButton(this.props.i18n("browseFiles"),this.triggerFileInputClick),r=this.renderBrowseButton(this.props.i18n("browseFolders"),this.triggerFolderInputClick),o=this.props.fileManagerSelectionType,n=o.charAt(0).toUpperCase()+o.slice(1);return u("div",{class:"uppy-Dashboard-AddFiles-title"},this.props.disableLocalFiles?this.props.i18n("importFiles"):this.props.i18nArray(e>0?`dropPasteImport${n}`:`dropPaste${n}`,{browseFiles:t,browseFolders:r,browse:t}))},this.renderAcquirer=e=>{var t;return u("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":e.id},u("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":e.id,"aria-controls":`uppy-DashboardContent-panel--${e.id}`,"aria-selected":(null==(t=this.props.activePickerPanel)?void 0:t.id)===e.id,"data-uppy-super-focusable":!0,onClick:()=>this.props.showPanel(e.id)},u("div",{className:"uppy-DashboardTab-inner"},e.icon()),u("div",{className:"uppy-DashboardTab-name"},e.name)))},this.renderAcquirers=e=>{const t=[...e],r=t.splice(e.length-2,e.length);return u(ke,null,t.map(o=>this.renderAcquirer(o)),u("span",{role:"presentation",style:{"white-space":"nowrap"}},r.map(o=>this.renderAcquirer(o))))},this.renderSourcesList=(e,t)=>{const{showNativePhotoCameraButton:r,showNativeVideoCameraButton:o}=this.props;let n=[];const a="myDevice";t||n.push({key:a,elements:this.renderMyDeviceAcquirer()}),r&&n.push({key:"nativePhotoCameraButton",elements:this.renderPhotoCamera()}),o&&n.push({key:"nativePhotoCameraButton",elements:this.renderVideoCamera()}),n.push(...e.map(c=>({key:c.id,elements:this.renderAcquirer(c)}))),1===n.length&&n[0].key===a&&(n=[]);const d=[...n],p=d.splice(n.length-2,n.length),h=c=>c.map(g=>{let{key:m,elements:y}=g;return u(ke,{key:m},y)});return u(ke,null,this.renderDropPasteBrowseTagline(n.length),u("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist"},h(d),u("span",{role:"presentation",style:{"white-space":"nowrap"}},h(p))))}}[Ea](){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}renderPoweredByUppy(){const{i18nArray:e}=this.props,t=u("span",null,u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11"},u("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})),u("span",{className:"uppy-Dashboard-poweredByUppy"},"Uppy"));return u("a",{tabIndex:-1,href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy"},e("poweredBy",{uppy:t}))}render(){const{showNativePhotoCameraButton:e,showNativeVideoCameraButton:t,nativeCameraFacingMode:r}=this.props;return u("div",{className:"uppy-Dashboard-AddFiles"},this.renderHiddenInput(!1,o=>{this.fileInput=o}),this.renderHiddenInput(!0,o=>{this.folderInput=o}),e&&this.renderHiddenCameraInput("photo",r,o=>{this.mobilePhotoFileInput=o}),t&&this.renderHiddenCameraInput("video",r,o=>{this.mobileVideoFileInput=o}),this.renderSourcesList(this.props.acquirers,this.props.disableLocalFiles),u("div",{className:"uppy-Dashboard-AddFiles-info"},this.props.note&&u("div",{className:"uppy-Dashboard-note"},this.props.note),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy(this.props)))}},Nu=i=>u("div",{className:fe("uppy-Dashboard-AddFilesPanel",i.className),"data-uppy-panelType":"AddFiles","aria-hidden":!i.showAddFilesPanel},u("div",{className:"uppy-DashboardContent-bar"},u("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},i.i18n("addingMoreFiles")),u("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>i.toggleAddFilesPanel(!1)},i.i18n("back"))),u(Oa,i)),bt=function Ru(i){const{tagName:e}=i.target;"INPUT"!==e&&"TEXTAREA"!==e?(i.preventDefault(),i.stopPropagation()):i.stopPropagation()},zu=function Uu(i){let{activePickerPanel:e,className:t,hideAllPanels:r,i18n:o,state:n,uppy:a}=i;return u("div",{className:fe("uppy-DashboardContent-panel",t),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:`uppy-DashboardContent-panel--${e.id}`,onDragOver:bt,onDragLeave:bt,onDrop:bt,onPaste:bt},u("div",{className:"uppy-DashboardContent-bar"},u("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},o("importFrom",{name:e.name})),u("button",{className:"uppy-DashboardContent-back",type:"button",onClick:r},o("cancel"))),u("div",{className:"uppy-DashboardContent-panelBody"},a.getPlugin(e.id).render(n)))},ju=function Lu(i){const e=i.files[i.fileCardFor];return u("div",{className:fe("uppy-DashboardContent-panel",i.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor"},u("div",{className:"uppy-DashboardContent-bar"},u("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},i.i18nArray("editing",{file:u("span",{className:"uppy-DashboardContent-titleFile"},e.meta?e.meta.name:e.name)})),u("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>{i.uppy.emit("file-editor:cancel",e),i.closeFileEditor()}},i.i18n("cancel")),u("button",{className:"uppy-DashboardContent-save",type:"button",onClick:i.saveFileEditor},i.i18n("save"))),u("div",{className:"uppy-DashboardContent-panelBody"},i.editors.map(r=>i.uppy.getPlugin(r.id).render(i.state))))},Ge_STATE_ERROR="error",Ge_STATE_WAITING="waiting",Ge_STATE_PREPROCESSING="preprocessing",Ge_STATE_UPLOADING="uploading",Ge_STATE_POSTPROCESSING="postprocessing",Ge_STATE_COMPLETE="complete",Ge_STATE_PAUSED="paused";function Vu(i){let{files:e,i18n:t,isAllComplete:r,isAllErrored:o,isAllPaused:n,inProgressNotPausedFiles:a,newFiles:l,processingFiles:d}=i;switch(function $u(i,e,t,r){if(void 0===r&&(r={}),i)return Ge_STATE_ERROR;if(e)return Ge_STATE_COMPLETE;if(t)return Ge_STATE_PAUSED;let o=Ge_STATE_WAITING;const n=Object.keys(r);for(let a=0;a<n.length;a++){const{progress:l}=r[n[a]];if(l.uploadStarted&&!l.uploadComplete)return Ge_STATE_UPLOADING;l.preprocess&&o!==Ge_STATE_UPLOADING&&(o=Ge_STATE_PREPROCESSING),l.postprocess&&o!==Ge_STATE_UPLOADING&&o!==Ge_STATE_PREPROCESSING&&(o=Ge_STATE_POSTPROCESSING)}return o}(o,r,n,e)){case"uploading":return t("uploadingXFiles",{smart_count:a.length});case"preprocessing":case"postprocessing":return t("processingXFiles",{smart_count:d.length});case"paused":return t("uploadPaused");case"waiting":return t("xFilesSelected",{smart_count:l.length});case"complete":return t("uploadComplete");case"error":return t("error")}}const Gu=function Hu(i){const{i18n:e,isAllComplete:t,hideCancelButton:r,maxNumberOfFiles:o,toggleAddFilesPanel:n,uppy:a}=i;let{allowNewUpload:l}=i;return l&&o&&(l=i.totalFileCount<i.maxNumberOfFiles),u("div",{className:"uppy-DashboardContent-bar"},t||r?u("div",null):u("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>a.cancelAll()},e("cancel")),u("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},u(Vu,i)),l?u("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":e("addMoreFiles"),title:e("addMoreFiles"),onClick:()=>n(!0)},u("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15"},u("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})),u("span",{className:"uppy-DashboardContent-addMoreCaption"},e("addMore"))):u("div",null))};function Wu(i){const{computedMetaFields:e,requiredMetaFields:t,updateMeta:r,form:o,formState:n}=i,a={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return e.map(l=>{const d=`uppy-Dashboard-FileCard-input-${l.id}`,p=t.includes(l.id);return u("fieldset",{key:l.id,className:"uppy-Dashboard-FileCard-fieldset"},u("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:d},l.name),void 0!==l.render?l.render({value:n[l.id],onChange:h=>r(h,l.id),fieldCSSClasses:a,required:p,form:o.id},u):u("input",{className:a.text,id:d,form:o.id,type:l.type||"text",required:p,value:n[l.id],placeholder:l.placeholder,onInput:h=>r(h.target.value,l.id),"data-uppy-super-focusable":!0}))})}function qu(i){var e;const{files:t,fileCardFor:r,toggleFileCard:o,saveFileCard:n,metaFields:a,requiredMetaFields:l,openFileEditor:d,i18n:p,i18nArray:h,className:c,canEditFile:g}=i,y=t[r],S=null!=(e="function"==typeof a?a(t[r]):a)?e:[],D=g(y),T={};S.forEach(X=>{var ue;T[X.id]=null!=(ue=y.meta[X.id])?ue:""});const[I,q]=Bt(T),z=kr(X=>{X.preventDefault(),n(I,r)},[n,I,r]),R=()=>{o(!1)},[$]=Bt(()=>{const X=document.createElement("form");return X.setAttribute("tabindex","-1"),X.id=rr(),X});return Dr(()=>(document.body.appendChild($),$.addEventListener("submit",z),()=>{$.removeEventListener("submit",z),document.body.removeChild($)}),[$,z]),u("div",{className:fe("uppy-Dashboard-FileCard",c),"data-uppy-panelType":"FileCard",onDragOver:bt,onDragLeave:bt,onDrop:bt,onPaste:bt},u("div",{className:"uppy-DashboardContent-bar"},u("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},h("editing",{file:u("span",{className:"uppy-DashboardContent-titleFile"},y.meta?y.meta.name:y.name)})),u("button",{className:"uppy-DashboardContent-back",type:"button",form:$.id,title:p("finishEditingFile"),onClick:R},p("cancel"))),u("div",{className:"uppy-Dashboard-FileCard-inner"},u("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:rn(y.type).color}},u(ka,{file:y}),D&&u("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:X=>{z(X),d(y)}},p("editImage"))),u("div",{className:"uppy-Dashboard-FileCard-info"},u(Wu,{computedMetaFields:S,requiredMetaFields:l,updateMeta:(X,ue)=>{q({...I,[ue]:X})},form:$,formState:I})),u("div",{className:"uppy-Dashboard-FileCard-actions"},u("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"submit",form:$.id},p("saveChanges")),u("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:R,form:$.id},p("cancel")))))}const si="uppy-transition-slideDownUp",Er=function Ku(i){let{children:e}=i;const[t,r]=Bt(null),[o,n]=Bt(""),a=qo(),l=qo(),d=qo();return Dr(()=>{const c=et(e)[0];t!==c&&(c&&!t?(n(`${si}-enter`),cancelAnimationFrame(d.current),clearTimeout(l.current),l.current=void 0,d.current=requestAnimationFrame(()=>{n(`${si}-enter ${si}-enter-active`),a.current=setTimeout(()=>{n("")},250)})):t&&!c&&!l.current&&(n(`${si}-leave`),cancelAnimationFrame(d.current),clearTimeout(a.current),a.current=void 0,d.current=requestAnimationFrame(()=>{n(`${si}-leave ${si}-leave-active`),l.current=setTimeout(()=>{r(null),n("")},250)})),r(c))},[e,t]),Dr(()=>()=>{clearTimeout(a.current),clearTimeout(l.current),cancelAnimationFrame(d.current)},[]),t?ps(t,{className:fe(o,t.props.className)}):null};function At(){return At=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},At.apply(this,arguments)}const Yu={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editImage:"Edit image",editing:"Editing %{file}",error:"Error",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},takePictureBtn:"Take Picture",recordVideoBtn:"Record Video"}};function Y(i,e){if(!Object.prototype.hasOwnProperty.call(i,e))throw new TypeError("attempted to use private field on non-instance");return i}var Qu=0;function je(i){return"__private_"+Qu+++"_"+i}const ln=Sa.default||Sa;function ja(){const i={};return i.promise=new Promise((e,t)=>{i.resolve=e,i.reject=t}),i}const ec={target:"body",metaFields:[],inline:!1,width:750,height:550,thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:_a,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,singleFileFullScreen:!0,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,showNativePhotoCameraButton:!1,showNativeVideoCameraButton:!1,theme:"light",autoOpen:null,autoOpenFileEditor:!1,disabled:!1,disableLocalFiles:!1,doneButtonHandler:void 0,onRequestCloseModal:null};var Et=je("disabledNodes"),ot=je("generateLargeThumbnailIfSingleFile"),Ki=je("openFileEditorWhenFilesAdded"),Ot=je("attachRenderFunctionToTarget"),dn=je("isTargetSupported"),pn=je("getAcquirers"),un=je("getProgressIndicators"),nt=je("getEditors"),cn=je("addSpecifiedPluginsFromOptions"),hn=je("autoDiscoverPlugins"),Nt=je("addSupportedPluginIfNoTarget");class $a extends cr{constructor(e,t){var r,o;let a;a=t?void 0===t.autoOpen?t.autoOpenFileEditor?"imageEditor":null:t.autoOpen:null,super(e,{...ec,...t,autoOpen:a}),r=this,Object.defineProperty(this,Et,{writable:!0,value:void 0}),this.modalName=`uppy-Dashboard-${rr()}`,this.superFocus=function su(){let i=!1;return nu((t,r)=>{const o=Ca(t,r),n=o.contains(document.activeElement);if(n&&i)return;const a=o.querySelector("[data-uppy-super-focusable]");if(!n||a)if(a)a.focus({preventScroll:!0}),i=!0;else{const l=o.querySelector(Ta);l?.focus({preventScroll:!0}),i=!1}},260)}(),this.ifFocusedOnUppyRecently=!1,this.removeTarget=l=>{const p=this.getPluginState().targets.filter(h=>h.id!==l.id);this.setPluginState({targets:p})},this.addTarget=l=>{const d=l.id||l.constructor.name,p=l.title||d,h=l.type;if("acquirer"!==h&&"progressindicator"!==h&&"editor"!==h)return this.uppy.log("Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor","error"),null;const c={id:d,name:p,type:h},m=this.getPluginState().targets.slice();return m.push(c),this.setPluginState({targets:m}),this.el},this.hideAllPanels=()=>{var l;const d=this.getPluginState(),p={activePickerPanel:void 0,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};d.activePickerPanel===p.activePickerPanel&&d.showAddFilesPanel===p.showAddFilesPanel&&d.showFileEditor===p.showFileEditor&&d.activeOverlayType===p.activeOverlayType||(this.setPluginState(p),this.uppy.emit("dashboard:close-panel",null==(l=d.activePickerPanel)?void 0:l.id))},this.showPanel=l=>{const{targets:d}=this.getPluginState(),p=d.find(h=>"acquirer"===h.type&&h.id===l);this.setPluginState({activePickerPanel:p,activeOverlayType:"PickerPanel"}),this.uppy.emit("dashboard:show-panel",l)},this.canEditFile=l=>{const{targets:d}=this.getPluginState();return Y(this,nt)[nt](d).some(h=>this.uppy.getPlugin(h.id).canEditFile(l))},this.openFileEditor=l=>{const{targets:d}=this.getPluginState(),p=Y(this,nt)[nt](d);this.setPluginState({showFileEditor:!0,fileCardFor:l.id||null,activeOverlayType:"FileEditor"}),p.forEach(h=>{this.uppy.getPlugin(h.id).selectFile(l)})},this.closeFileEditor=()=>{const{metaFields:l}=this.getPluginState();this.setPluginState(l&&l.length>0?{showFileEditor:!1,activeOverlayType:"FileCard"}:{showFileEditor:!1,fileCardFor:null,activeOverlayType:"AddFiles"})},this.saveFileEditor=()=>{const{targets:l}=this.getPluginState();Y(this,nt)[nt](l).forEach(p=>{this.uppy.getPlugin(p.id).save()}),this.closeFileEditor()},this.openModal=()=>{const{promise:l,resolve:d}=ja();if(this.savedScrollPosition=window.pageYOffset,this.savedActiveElement=document.activeElement,this.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),this.opts.animateOpenClose&&this.getPluginState().isClosing){const p=()=>{this.setPluginState({isHidden:!1}),this.el.removeEventListener("animationend",p,!1),d()};this.el.addEventListener("animationend",p,!1)}else this.setPluginState({isHidden:!1}),d();return this.opts.browserBackButtonClose&&this.updateBrowserHistory(),document.addEventListener("keydown",this.handleKeyDownInModal),this.uppy.emit("dashboard:modal-open"),l},this.closeModal=l=>{var d;const p=null==(d=l?.manualClose)||d,{isHidden:h,isClosing:c}=this.getPluginState();if(h||c)return;const{promise:g,resolve:m}=ja();if(this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.opts.animateOpenClose){this.setPluginState({isClosing:!0});const S=()=>{this.setPluginState({isHidden:!0,isClosing:!1}),this.superFocus.cancel(),this.savedActiveElement.focus(),this.el.removeEventListener("animationend",S,!1),m()};this.el.addEventListener("animationend",S,!1)}else this.setPluginState({isHidden:!0}),this.superFocus.cancel(),this.savedActiveElement.focus(),m();var y;return document.removeEventListener("keydown",this.handleKeyDownInModal),p&&this.opts.browserBackButtonClose&&null!=(y=history.state)&&y[this.modalName]&&history.back(),this.uppy.emit("dashboard:modal-closed"),g},this.isModalOpen=()=>!this.getPluginState().isHidden||!1,this.requestCloseModal=()=>this.opts.onRequestCloseModal?this.opts.onRequestCloseModal():this.closeModal(),this.setDarkModeCapability=l=>{const{capabilities:d}=this.uppy.getState();this.uppy.setState({capabilities:{...d,darkMode:l}})},this.handleSystemDarkModeChange=l=>{const d=l.matches;this.uppy.log("[Dashboard] Dark mode is "+(d?"on":"off")),this.setDarkModeCapability(d)},this.toggleFileCard=(l,d)=>{const p=this.uppy.getFile(d);this.uppy.emit(l?"dashboard:file-edit-start":"dashboard:file-edit-complete",p),this.setPluginState({fileCardFor:l?d:null,activeOverlayType:l?"FileCard":null})},this.toggleAddFilesPanel=l=>{this.setPluginState({showAddFilesPanel:l,activeOverlayType:l?"AddFiles":null})},this.addFiles=l=>{const d=l.map(p=>({source:this.id,name:p.name,type:p.type,data:p,meta:{relativePath:p.relativePath||p.webkitRelativePath||null}}));try{this.uppy.addFiles(d)}catch(p){this.uppy.log(p)}},this.startListeningToResize=()=>{this.resizeObserver=new ResizeObserver(l=>{const d=l[0],{width:p,height:h}=d.contentRect;this.setPluginState({containerWidth:p,containerHeight:h,areInsidesReadyToBeVisible:!0})}),this.resizeObserver.observe(this.el.querySelector(".uppy-Dashboard-inner")),this.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(()=>{const l=this.getPluginState();!l.areInsidesReadyToBeVisible&&(this.opts.inline||!l.isHidden)&&(this.uppy.log("[Dashboard] resize event didn\u2019t fire on time: defaulted to mobile layout","warning"),this.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)},this.stopListeningToResize=()=>{this.resizeObserver.disconnect(),clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout)},this.recordIfFocusedOnUppyRecently=l=>{this.el.contains(l.target)?this.ifFocusedOnUppyRecently=!0:(this.ifFocusedOnUppyRecently=!1,this.superFocus.cancel())},this.disableInteractiveElements=l=>{var d;const h=null!=(d=Y(this,Et)[Et])?d:Ei(this.el.querySelectorAll(["a[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])",'[role="button"]:not([disabled])'])).filter(c=>!c.classList.contains("uppy-Dashboard-close"));for(const c of h)"A"===c.tagName?c.setAttribute("aria-disabled",l):c.disabled=l;Y(this,Et)[Et]=l?h:null,this.dashboardIsDisabled=l},this.updateBrowserHistory=()=>{var l;null!=(l=history.state)&&l[this.modalName]||history.pushState({...history.state,[this.modalName]:!0},""),window.addEventListener("popstate",this.handlePopState,!1)},this.handlePopState=l=>{var d;this.isModalOpen()&&(!l.state||!l.state[this.modalName])&&this.closeModal({manualClose:!1}),!this.isModalOpen()&&null!=(d=l.state)&&d[this.modalName]&&history.back()},this.handleKeyDownInModal=l=>{27===l.keyCode&&this.requestCloseModal(),9===l.keyCode&&Ia(l,this.getPluginState().activeOverlayType,this.el)},this.handleClickOutside=()=>{this.opts.closeModalOnClickOutside&&this.requestCloseModal()},this.handlePaste=l=>{this.uppy.iteratePlugins(p=>{"acquirer"===p.type&&(null==p.handleRootPaste||p.handleRootPaste(l))});const d=Ei(l.clipboardData.files);d.length>0&&(this.uppy.log("[Dashboard] Files pasted"),this.addFiles(d))},this.handleInputChange=l=>{l.preventDefault();const d=Ei(l.target.files);d.length>0&&(this.uppy.log("[Dashboard] Files selected through input"),this.addFiles(d))},this.handleDragOver=l=>{var d,p;l.preventDefault(),l.stopPropagation();const g=(()=>{let y=!0;return this.uppy.iteratePlugins(S=>{null!=S.canHandleRootDrop&&S.canHandleRootDrop(l)&&(y=!0)}),y})(),m=(()=>{const{types:y}=l.dataTransfer;return y.some(S=>"Files"===S)})();if(!g&&!m||this.opts.disabled||this.opts.disableLocalFiles&&(m||!g)||!this.uppy.getState().allowNewUpload)return l.dataTransfer.dropEffect="none",void clearTimeout(this.removeDragOverClassTimeout);l.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0}),null==(d=(p=this.opts).onDragOver)||d.call(p,l)},this.handleDragLeave=l=>{var d,p;l.preventDefault(),l.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout(()=>{this.setPluginState({isDraggingOver:!1})},50),null==(d=(p=this.opts).onDragLeave)||d.call(p,l)},this.handleDrop=function(){var l=(0,P.A)(function*(d){var p,h;d.preventDefault(),d.stopPropagation(),clearTimeout(r.removeDragOverClassTimeout),r.setPluginState({isDraggingOver:!1}),r.uppy.iteratePlugins(y=>{"acquirer"===y.type&&(null==y.handleRootDrop||y.handleRootDrop(d))});let c=!1;r.uppy.log("[Dashboard] Processing dropped files");const m=yield function sp(i,e){return Vo.apply(this,arguments)}(d.dataTransfer,{logDropError:y=>{r.uppy.log(y,"error"),c||(r.uppy.info(y.message,"error"),c=!0)}});m.length>0&&(r.uppy.log("[Dashboard] Files dropped"),r.addFiles(m)),null==(p=(h=r.opts).onDrop)||p.call(h,d)});return function(d){return l.apply(this,arguments)}}(),this.handleRequestThumbnail=l=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:request",l)},this.handleCancelThumbnail=l=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:cancel",l)},this.handleKeyDownInInline=l=>{9===l.keyCode&&function ou(i,e,t){null===e||Ia(i,e,t)}(l,this.getPluginState().activeOverlayType,this.el)},this.handlePasteOnBody=l=>{this.el.contains(document.activeElement)&&this.handlePaste(l)},this.handleComplete=l=>{let{failed:d}=l;this.opts.closeAfterFinish&&(null==d||!d.length)&&this.requestCloseModal()},this.handleCancelRestore=()=>{this.uppy.emit("restore-canceled")},Object.defineProperty(this,ot,{writable:!0,value:()=>{if(this.opts.disableThumbnailGenerator)return;const d=this.uppy.getFiles();if(1===d.length){const p=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);p?.setOptions({thumbnailWidth:600});const h={...d[0],preview:void 0};p?.requestThumbnail(h).then(()=>{p?.setOptions({thumbnailWidth:this.opts.thumbnailWidth})})}}}),Object.defineProperty(this,Ki,{writable:!0,value:l=>{const d=l[0],{metaFields:p}=this.getPluginState(),h=p&&p.length>0,c=this.canEditFile(d);h&&"metaEditor"===this.opts.autoOpen?this.toggleFileCard(!0,d.id):c&&"imageEditor"===this.opts.autoOpen&&this.openFileEditor(d)}}),this.initEvents=()=>{if(this.opts.trigger&&!this.opts.inline){const l=Vs(this.opts.trigger);l?l.forEach(d=>d.addEventListener("click",this.openModal)):this.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}this.startListeningToResize(),document.addEventListener("paste",this.handlePasteOnBody),this.uppy.on("plugin-added",Y(this,Nt)[Nt]),this.uppy.on("plugin-remove",this.removeTarget),this.uppy.on("file-added",this.hideAllPanels),this.uppy.on("dashboard:modal-closed",this.hideAllPanels),this.uppy.on("complete",this.handleComplete),this.uppy.on("files-added",Y(this,ot)[ot]),this.uppy.on("file-removed",Y(this,ot)[ot]),document.addEventListener("focus",this.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",this.recordIfFocusedOnUppyRecently,!0),this.opts.inline&&this.el.addEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.on("files-added",Y(this,Ki)[Ki])},this.removeEvents=()=>{const l=Vs(this.opts.trigger);!this.opts.inline&&l&&l.forEach(d=>d.removeEventListener("click",this.openModal)),this.stopListeningToResize(),document.removeEventListener("paste",this.handlePasteOnBody),window.removeEventListener("popstate",this.handlePopState,!1),this.uppy.off("plugin-added",Y(this,Nt)[Nt]),this.uppy.off("plugin-remove",this.removeTarget),this.uppy.off("file-added",this.hideAllPanels),this.uppy.off("dashboard:modal-closed",this.hideAllPanels),this.uppy.off("complete",this.handleComplete),this.uppy.off("files-added",Y(this,ot)[ot]),this.uppy.off("file-removed",Y(this,ot)[ot]),document.removeEventListener("focus",this.recordIfFocusedOnUppyRecently),document.removeEventListener("click",this.recordIfFocusedOnUppyRecently),this.opts.inline&&this.el.removeEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.off("files-added",Y(this,Ki)[Ki])},this.superFocusOnEachUpdate=()=>{const l=this.el.contains(document.activeElement),d=document.activeElement===document.body||null===document.activeElement;0===this.uppy.getState().info.length&&(!this.opts.inline||l||d&&this.ifFocusedOnUppyRecently)?this.superFocus(this.el,this.getPluginState().activeOverlayType):this.superFocus.cancel()},this.afterUpdate=()=>{!this.opts.disabled||this.dashboardIsDisabled?(!this.opts.disabled&&this.dashboardIsDisabled&&this.disableInteractiveElements(!1),this.superFocusOnEachUpdate()):this.disableInteractiveElements(!0)},this.saveFileCard=(l,d)=>{this.uppy.setFileMeta(d,l),this.toggleFileCard(!1,d)},Object.defineProperty(this,Ot,{writable:!0,value:l=>{const d=this.uppy.getPlugin(l.id);return{...l,icon:d.icon||this.opts.defaultPickerIcon,render:d.render}}}),Object.defineProperty(this,dn,{writable:!0,value:l=>{const d=this.uppy.getPlugin(l.id);return"function"!=typeof d.isSupported||d.isSupported()}}),Object.defineProperty(this,pn,{writable:!0,value:ln(l=>l.filter(d=>"acquirer"===d.type&&Y(this,dn)[dn](d)).map(Y(this,Ot)[Ot]))}),Object.defineProperty(this,un,{writable:!0,value:ln(l=>l.filter(d=>"progressindicator"===d.type).map(Y(this,Ot)[Ot]))}),Object.defineProperty(this,nt,{writable:!0,value:ln(l=>l.filter(d=>"editor"===d.type).map(Y(this,Ot)[Ot]))}),this.render=l=>{const d=this.getPluginState(),{files:p,capabilities:h,allowNewUpload:c}=l,{newFiles:g,uploadStartedFiles:m,completeFiles:y,erroredFiles:S,inProgressFiles:D,inProgressNotPausedFiles:T,processingFiles:I,isUploadStarted:q,isAllComplete:z,isAllErrored:G,isAllPaused:R}=this.uppy.getObjectOfFilesPerState(),$=Y(this,pn)[pn](d.targets),X=Y(this,un)[un](d.targets),ue=Y(this,nt)[nt](d.targets);let oe;return oe="auto"===this.opts.theme?h.darkMode?"dark":"light":this.opts.theme,["files","folders","both"].indexOf(this.opts.fileManagerSelectionType)<0&&(this.opts.fileManagerSelectionType="files",console.warn(`Unsupported option for "fileManagerSelectionType". Using default of "${this.opts.fileManagerSelectionType}".`)),function Xu(i){const e=0===i.totalFileCount,t=1===i.totalFileCount,r=i.containerWidth>576,n=fe({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":i.disabled,"uppy-Dashboard--animateOpenClose":i.animateOpenClose,"uppy-Dashboard--isClosing":i.isClosing,"uppy-Dashboard--isDraggingOver":i.isDraggingOver,"uppy-Dashboard--modal":!i.inline,"uppy-size--md":i.containerWidth>576,"uppy-size--lg":i.containerWidth>700,"uppy-size--xl":i.containerWidth>900,"uppy-size--height-md":i.containerHeight>330,"uppy-Dashboard--isAddFilesPanelVisible":i.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":i.areInsidesReadyToBeVisible,"uppy-Dashboard--singleFile":i.singleFileFullScreen&&t&&i.containerHeight>330});let a=1;i.containerWidth>900?a=5:i.containerWidth>700?a=4:i.containerWidth>576&&(a=3);const l=i.showSelectedFiles&&!e,d=i.recoveredState?Object.keys(i.recoveredState.files).length:null,p=i.files?Object.keys(i.files).filter(g=>i.files[g].isGhost).length:null;return u("div",{className:n,"data-uppy-theme":i.theme,"data-uppy-num-acquirers":i.acquirers.length,"data-uppy-drag-drop-supported":!i.disableLocalFiles&&au(),"aria-hidden":i.inline?"false":i.isHidden,"aria-disabled":i.disabled,"aria-label":i.i18n(i.inline?"dashboardTitle":"dashboardWindowTitle"),onPaste:i.handlePaste,onDragOver:i.handleDragOver,onDragLeave:i.handleDragLeave,onDrop:i.handleDrop},u("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:i.handleClickOutside}),u("div",{className:"uppy-Dashboard-inner","aria-modal":!i.inline&&"true",role:i.inline?void 0:"dialog",style:{width:i.inline&&i.width?i.width:"",height:i.inline&&i.height?i.height:""}},i.inline?null:u("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":i.i18n("closeModal"),title:i.i18n("closeModal"),onClick:i.closeModal},u("span",{"aria-hidden":"true"},"\xd7")),u("div",{className:"uppy-Dashboard-innerWrap"},u("div",{className:"uppy-Dashboard-dropFilesHereHint"},i.i18n("dropHint")),l&&u(Gu,i),d&&u("div",{className:"uppy-Dashboard-serviceMsg"},u("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19"},u("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd"},u("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),u("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),u("circle",{fill:"#000",cx:"12",cy:"17",r:"1"}))),u("strong",{className:"uppy-Dashboard-serviceMsg-title"},i.i18n("sessionRestored")),u("div",{className:"uppy-Dashboard-serviceMsg-text"},p>0?i.i18n("recoveredXFiles",{smart_count:p}):i.i18n("recoveredAllFiles"))),l?u(Eu,{id:i.id,error:i.error,i18n:i.i18n,uppy:i.uppy,files:i.files,acquirers:i.acquirers,resumableUploads:i.resumableUploads,hideRetryButton:i.hideRetryButton,hidePauseResumeButton:i.hidePauseResumeButton,hideCancelButton:i.hideCancelButton,showLinkToFileUploadResult:i.showLinkToFileUploadResult,showRemoveButtonAfterComplete:i.showRemoveButtonAfterComplete,isWide:i.isWide,metaFields:i.metaFields,toggleFileCard:i.toggleFileCard,handleRequestThumbnail:i.handleRequestThumbnail,handleCancelThumbnail:i.handleCancelThumbnail,recoveredState:i.recoveredState,individualCancellation:i.individualCancellation,openFileEditor:i.openFileEditor,canEditFile:i.canEditFile,toggleAddFilesPanel:i.toggleAddFilesPanel,isSingleFile:t,itemsPerRow:a}):u(Oa,At({},i,{isSizeMD:r})),u(Er,null,i.showAddFilesPanel?u(Nu,At({key:"AddFiles"},i,{isSizeMD:r})):null),u(Er,null,i.fileCardFor?u(qu,At({key:"FileCard"},i)):null),u(Er,null,i.activePickerPanel?u(zu,At({key:"Picker"},i)):null),u(Er,null,i.showFileEditor?u(ju,At({key:"Editor"},i)):null),u("div",{className:"uppy-Dashboard-progressindicators"},i.progressindicators.map(g=>i.uppy.getPlugin(g.id).render(i.state))))))}({state:l,isHidden:d.isHidden,files:p,newFiles:g,uploadStartedFiles:m,completeFiles:y,erroredFiles:S,inProgressFiles:D,inProgressNotPausedFiles:T,processingFiles:I,isUploadStarted:q,isAllComplete:z,isAllErrored:G,isAllPaused:R,totalFileCount:Object.keys(p).length,totalProgress:l.totalProgress,allowNewUpload:c,acquirers:$,theme:oe,disabled:this.opts.disabled,disableLocalFiles:this.opts.disableLocalFiles,direction:this.opts.direction,activePickerPanel:d.activePickerPanel,showFileEditor:d.showFileEditor,saveFileEditor:this.saveFileEditor,closeFileEditor:this.closeFileEditor,disableInteractiveElements:this.disableInteractiveElements,animateOpenClose:this.opts.animateOpenClose,isClosing:d.isClosing,progressindicators:X,editors:ue,autoProceed:this.uppy.opts.autoProceed,id:this.id,closeModal:this.requestCloseModal,handleClickOutside:this.handleClickOutside,handleInputChange:this.handleInputChange,handlePaste:this.handlePaste,inline:this.opts.inline,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,i18n:this.i18n,i18nArray:this.i18nArray,uppy:this.uppy,note:this.opts.note,recoveredState:l.recoveredState,metaFields:d.metaFields,resumableUploads:h.resumableUploads||!1,individualCancellation:h.individualCancellation,isMobileDevice:h.isMobileDevice,fileCardFor:d.fileCardFor,toggleFileCard:this.toggleFileCard,toggleAddFilesPanel:this.toggleAddFilesPanel,showAddFilesPanel:d.showAddFilesPanel,saveFileCard:this.saveFileCard,openFileEditor:this.openFileEditor,canEditFile:this.canEditFile,width:this.opts.width,height:this.opts.height,showLinkToFileUploadResult:this.opts.showLinkToFileUploadResult,fileManagerSelectionType:this.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:this.opts.proudlyDisplayPoweredByUppy,hideCancelButton:this.opts.hideCancelButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:this.opts.showRemoveButtonAfterComplete,containerWidth:d.containerWidth,containerHeight:d.containerHeight,areInsidesReadyToBeVisible:d.areInsidesReadyToBeVisible,isTargetDOMEl:this.isTargetDOMEl,parentElement:this.el,allowedFileTypes:this.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:this.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:this.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:this.opts.showSelectedFiles,showNativePhotoCameraButton:this.opts.showNativePhotoCameraButton,showNativeVideoCameraButton:this.opts.showNativeVideoCameraButton,nativeCameraFacingMode:this.opts.nativeCameraFacingMode,singleFileFullScreen:this.opts.singleFileFullScreen,handleCancelRestore:this.handleCancelRestore,handleRequestThumbnail:this.handleRequestThumbnail,handleCancelThumbnail:this.handleCancelThumbnail,isDraggingOver:d.isDraggingOver,handleDragOver:this.handleDragOver,handleDragLeave:this.handleDragLeave,handleDrop:this.handleDrop})},Object.defineProperty(this,cn,{writable:!0,value:()=>{(this.opts.plugins||[]).forEach(d=>{const p=this.uppy.getPlugin(d);p?p.mount(this,p):this.uppy.log(`[Uppy] Dashboard could not find plugin '${d}', make sure to uppy.use() the plugins you are specifying`,"warning")})}}),Object.defineProperty(this,hn,{writable:!0,value:()=>{this.uppy.iteratePlugins(Y(this,Nt)[Nt])}}),Object.defineProperty(this,Nt,{writable:!0,value:l=>{var d;l&&(null==(d=l.opts)||!d.target)&&["acquirer","editor"].includes(l.type)&&(this.getPluginState().targets.some(c=>l.id===c.id)||l.mount(this,l))}}),this.install=()=>{this.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:void 0,showFileEditor:!1,metaFields:this.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});const{inline:l,closeAfterFinish:d}=this.opts;if(l&&d)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");const{allowMultipleUploads:p,allowMultipleUploadBatches:h}=this.uppy.opts;(p||h)&&d&&this.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");const{target:c}=this.opts;c&&this.mount(c,this),this.opts.disableStatusBar||this.uppy.use(xs,{id:`${this.id}:StatusBar`,target:this,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,showProgressDetails:this.opts.showProgressDetails,hideAfterFinish:this.opts.hideProgressAfterFinish,locale:this.opts.locale,doneButtonHandler:this.opts.doneButtonHandler}),this.opts.disableInformer||this.uppy.use(Ps,{id:`${this.id}:Informer`,target:this}),this.opts.disableThumbnailGenerator||this.uppy.use($s,{id:`${this.id}:ThumbnailGenerator`,thumbnailWidth:this.opts.thumbnailWidth,thumbnailHeight:this.opts.thumbnailHeight,thumbnailType:this.opts.thumbnailType,waitForThumbnailsBeforeUpload:this.opts.waitForThumbnailsBeforeUpload,lazy:!this.opts.waitForThumbnailsBeforeUpload}),this.darkModeMediaQuery=typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;const g=!!this.darkModeMediaQuery&&this.darkModeMediaQuery.matches;var m;this.uppy.log("[Dashboard] Dark mode is "+(g?"on":"off")),this.setDarkModeCapability(g),"auto"===this.opts.theme&&(null==(m=this.darkModeMediaQuery)||m.addListener(this.handleSystemDarkModeChange)),Y(this,cn)[cn](),Y(this,hn)[hn](),this.initEvents()},this.uninstall=()=>{if(!this.opts.disableInformer){const p=this.uppy.getPlugin(`${this.id}:Informer`);p&&this.uppy.removePlugin(p)}if(!this.opts.disableStatusBar){const p=this.uppy.getPlugin(`${this.id}:StatusBar`);p&&this.uppy.removePlugin(p)}if(!this.opts.disableThumbnailGenerator){const p=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);p&&this.uppy.removePlugin(p)}var d;(this.opts.plugins||[]).forEach(p=>{const h=this.uppy.getPlugin(p);h&&h.unmount()}),"auto"===this.opts.theme&&(null==(d=this.darkModeMediaQuery)||d.removeListener(this.handleSystemDarkModeChange)),this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.unmount(),this.removeEvents()},this.id=this.opts.id||"Dashboard",this.title="Dashboard",this.type="orchestrator",this.defaultLocale=Yu,void 0===this.opts.doneButtonHandler&&(this.opts.doneButtonHandler=()=>{this.uppy.clearUploadedFiles(),this.requestCloseModal()}),null!=(o=this.opts).onRequestCloseModal||(o.onRequestCloseModal=()=>this.closeModal()),this.i18nInit()}}function st(i,e){if(!Object.prototype.hasOwnProperty.call(i,e))throw new TypeError("attempted to use private field on non-instance");return i}$a.VERSION="3.9.1";var tc=0;function Va(i){return"__private_"+tc+++"_"+i}var ge=Va("uppy"),Xi=Va("events");class ic{constructor(e){Object.defineProperty(this,ge,{writable:!0,value:void 0}),Object.defineProperty(this,Xi,{writable:!0,value:[]}),st(this,ge)[ge]=e}on(e,t){return st(this,Xi)[Xi].push([e,t]),st(this,ge)[ge].on(e,t)}remove(){for(const[e,t]of st(this,Xi)[Xi].splice(0))st(this,ge)[ge].off(e,t)}onFilePause(e,t){this.on("upload-pause",(r,o)=>{e===r&&t(o)})}onFileRemove(e,t){this.on("file-removed",r=>{e===r.id&&t(r.id)})}onPause(e,t){this.on("upload-pause",(r,o)=>{e===r&&t(o)})}onRetry(e,t){this.on("upload-retry",r=>{e===r&&t()})}onRetryAll(e,t){this.on("retry-all",()=>{st(this,ge)[ge].getFile(e)&&t()})}onPauseAll(e,t){this.on("pause-all",()=>{st(this,ge)[ge].getFile(e)&&t()})}onCancelAll(e,t){var r=this;this.on("cancel-all",function(){st(r,ge)[ge].getFile(e)&&t(...arguments)})}onResumeAll(e,t){this.on("resume-all",()=>{st(this,ge)[ge].getFile(e)&&t()})}}function E(i,e){if(!Object.prototype.hasOwnProperty.call(i,e))throw new TypeError("attempted to use private field on non-instance");return i}var rc=0;function _e(i){return"__private_"+rc+++"_"+i}function Ha(i){if(null!=i){var e;const t=()=>this.abort(i.reason);i.addEventListener("abort",t,{once:!0});const r=()=>{i.removeEventListener("abort",t)};null==(e=this.then)||e.call(this,r,r)}return this}var De=_e("activeRequests"),ye=_e("queuedHandlers"),Ie=_e("paused"),Rt=_e("pauseTimer"),be=_e("downLimit"),Ut=_e("upperLimit"),at=_e("rateLimitingTimer"),Yi=_e("call"),lt=_e("queueNext"),fn=_e("next"),mn=_e("queue"),gn=_e("dequeue"),yn=_e("resume"),zt=_e("increaseLimit");class nc{constructor(e){Object.defineProperty(this,gn,{value:pc}),Object.defineProperty(this,mn,{value:dc}),Object.defineProperty(this,fn,{value:lc}),Object.defineProperty(this,lt,{value:ac}),Object.defineProperty(this,Yi,{value:sc}),Object.defineProperty(this,De,{writable:!0,value:0}),Object.defineProperty(this,ye,{writable:!0,value:[]}),Object.defineProperty(this,Ie,{writable:!0,value:!1}),Object.defineProperty(this,Rt,{writable:!0,value:void 0}),Object.defineProperty(this,be,{writable:!0,value:1}),Object.defineProperty(this,Ut,{writable:!0,value:void 0}),Object.defineProperty(this,at,{writable:!0,value:void 0}),Object.defineProperty(this,yn,{writable:!0,value:()=>this.resume()}),Object.defineProperty(this,zt,{writable:!0,value:()=>{if(E(this,Ie)[Ie])E(this,at)[at]=setTimeout(E(this,zt)[zt],0);else{E(this,be)[be]=this.limit,this.limit=Math.ceil((E(this,Ut)[Ut]+E(this,be)[be])/2);for(let t=E(this,be)[be];t<=this.limit;t++)E(this,lt)[lt]();E(this,Ut)[Ut]-E(this,be)[be]>3?E(this,at)[at]=setTimeout(E(this,zt)[zt],2e3):E(this,be)[be]=Math.floor(E(this,be)[be]/2)}}}),this.limit="number"!=typeof e||0===e?1/0:e}run(e,t){return!E(this,Ie)[Ie]&&E(this,De)[De]<this.limit?E(this,Yi)[Yi](e):E(this,mn)[mn](e,t)}wrapSyncFunction(e,t){var r=this;return function(){for(var o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];const l=r.run(()=>(e(...n),queueMicrotask(()=>l.done()),()=>{}),t);return{abortOn:Ha,abort(){l.abort()}}}}wrapPromiseFunction(e,t){var r=this;return function(){for(var o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];let l;const d=new Promise((p,h)=>{l=r.run(()=>{let c,g;try{g=Promise.resolve(e(...n))}catch(m){g=Promise.reject(m)}return g.then(m=>{c?h(c):(l.done(),p(m))},m=>{c?h(c):(l.done(),h(m))}),m=>{c=function oc(i){return new Error("Cancelled",{cause:i})}(m)}},t)});return d.abort=p=>{l.abort(p)},d.abortOn=Ha,d}}resume(){E(this,Ie)[Ie]=!1,clearTimeout(E(this,Rt)[Rt]);for(let e=0;e<this.limit;e++)E(this,lt)[lt]()}pause(e){void 0===e&&(e=null),E(this,Ie)[Ie]=!0,clearTimeout(E(this,Rt)[Rt]),null!=e&&(E(this,Rt)[Rt]=setTimeout(E(this,yn)[yn],e))}rateLimit(e){clearTimeout(E(this,at)[at]),this.pause(e),this.limit>1&&Number.isFinite(this.limit)&&(E(this,Ut)[Ut]=this.limit-1,this.limit=E(this,be)[be],E(this,at)[at]=setTimeout(E(this,zt)[zt],e))}get isPaused(){return E(this,Ie)[Ie]}}function sc(i){E(this,De)[De]+=1;let t,e=!1;try{t=i()}catch(r){throw E(this,De)[De]-=1,r}return{abort:r=>{e||(e=!0,E(this,De)[De]-=1,t?.(r),E(this,lt)[lt]())},done:()=>{e||(e=!0,E(this,De)[De]-=1,E(this,lt)[lt]())}}}function ac(){queueMicrotask(()=>E(this,fn)[fn]())}function lc(){if(E(this,Ie)[Ie]||E(this,De)[De]>=this.limit||0===E(this,ye)[ye].length)return;const i=E(this,ye)[ye].shift();if(null==i)throw new Error("Invariant violation: next is null");const e=E(this,Yi)[Yi](i.fn);i.abort=e.abort,i.done=e.done}function dc(i,e){const t={fn:i,priority:e?.priority||0,abort:()=>{E(this,gn)[gn](t)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},r=E(this,ye)[ye].findIndex(o=>t.priority>o.priority);return-1===r?E(this,ye)[ye].push(t):E(this,ye)[ye].splice(r,0,t),t}function pc(i){const e=E(this,ye)[ye].indexOf(i);-1!==e&&E(this,ye)[ye].splice(e,1)}const bn=Symbol("__queue");class uc extends Error{constructor(e,t){void 0===t&&(t=null),super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall."),this.cause=e,this.isNetworkError=!0,this.request=t}}const ai=uc,Ga=function cc(i){return!!i&&(0!==i.readyState&&4!==i.readyState||0===i.status)};function Me(i,e){if(!Object.prototype.hasOwnProperty.call(i,e))throw new TypeError("attempted to use private field on non-instance");return i}var hc=0;function Or(i){return"__private_"+hc+++"_"+i}var dt=Or("aliveTimer"),Lt=Or("isDone"),Qi=Or("onTimedOut"),jt=Or("timeout");const mc=class fc{constructor(e,t){Object.defineProperty(this,dt,{writable:!0,value:void 0}),Object.defineProperty(this,Lt,{writable:!0,value:!1}),Object.defineProperty(this,Qi,{writable:!0,value:void 0}),Object.defineProperty(this,jt,{writable:!0,value:void 0}),Me(this,jt)[jt]=e,Me(this,Qi)[Qi]=()=>t(e)}progress(){Me(this,Lt)[Lt]||Me(this,jt)[jt]>0&&(clearTimeout(Me(this,dt)[dt]),Me(this,dt)[dt]=setTimeout(Me(this,Qi)[Qi],Me(this,jt)[jt]))}done(){Me(this,Lt)[Lt]||(clearTimeout(Me(this,dt)[dt]),Me(this,dt)[dt]=void 0,Me(this,Lt)[Lt]=!0)}},Nr=()=>{},vc={strings:{uploadStalled:"Upload has not made any progress for %{seconds} seconds. You may want to retry it."}};function pt(i,e){if(!Object.prototype.hasOwnProperty.call(i,e))throw new TypeError("attempted to use private field on non-instance");return i}var wc=0;function li(i){return"__private_"+wc+++"_"+i}function Wa(i){return i.data.slice(0,i.data.size,i.meta.type)}const Fc={formData:!0,fieldName:"file",method:"post",allowedMetaFields:null,responseUrlFieldName:"url",bundle:!1,headers:{},timeout:3e4,limit:5,withCredentials:!1,responseType:"",getResponseData(i){let e={};try{e=JSON.parse(i)}catch{}return e},getResponseError(i,e){let t=new Error("Upload error");return Ga(e)&&(t=new ai(t,e)),t},validateStatus:i=>i>=200&&i<300};var $t=li("getFetcher"),vn=li("uploadLocalFile"),wn=li("uploadBundle"),_n=li("getCompanionClientArgs"),xn=li("uploadFiles"),Ji=li("handleUpload");class qa extends hs{constructor(e,t){var r,o;if(super(e,{...Fc,fieldName:t.bundle?"files[]":"file",...t}),r=this,Object.defineProperty(this,xn,{value:Cc}),Object.defineProperty(this,_n,{value:Tc}),Object.defineProperty(this,wn,{value:Sc}),Object.defineProperty(this,vn,{value:Pc}),Object.defineProperty(this,$t,{writable:!0,value:void 0}),Object.defineProperty(this,Ji,{writable:!0,value:(o=(0,P.A)(function*(n){if(0===n.length)return void r.uppy.log("[XHRUpload] No files to upload!");0===r.opts.limit&&!r.opts[bn]&&r.uppy.log("[XHRUpload] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/xhr-upload/#limit-0","warning"),r.uppy.log("[XHRUpload] Uploading...");const l=function yc(i){return i.filter(t=>!(t=>"error"in t&&!!t.error)(t))}(r.uppy.getFilesByIds(n)),d=function bc(i){return i.filter(e=>{var t;return!(null!=(t=e.progress)&&t.uploadStarted&&e.isRestored)})}(l);if(r.uppy.emit("upload-start",d),r.opts.bundle){if(l.some(h=>h.isRemote))throw new Error("Can\u2019t upload remote files when the `bundle: true` option is set");if("function"==typeof r.opts.headers)throw new TypeError("`headers` may not be a function when the `bundle: true` option is set");yield pt(r,wn)[wn](l)}else yield pt(r,xn)[xn](l)}),function(a){return o.apply(this,arguments)})}),this.type="uploader",this.id=this.opts.id||"XHRUpload",this.defaultLocale=vc,this.i18nInit(),this.requests=bn in this.opts?this.opts[bn]:new nc(this.opts.limit),this.opts.bundle&&!this.opts.formData)throw new Error("`opts.formData` must be true when `opts.bundle` is enabled.");if(this.opts.bundle&&"function"==typeof this.opts.headers)throw new Error("`opts.headers` can not be a function when the `bundle: true` option is set.");if(void 0===t?.allowedMetaFields&&"metaFields"in this.opts)throw new Error("The `metaFields` option has been renamed to `allowedMetaFields`.");this.uploaderEvents=Object.create(null),pt(this,$t)[$t]=o=>function(){var n=(0,P.A)(function*(a,l){try{var d;const p=yield function gc(i,e){void 0===e&&(e={});const{body:t=null,headers:r={},method:o="GET",onBeforeRequest:n=Nr,onUploadProgress:a=Nr,shouldRetry:l=()=>!0,onAfterRequest:d=Nr,onTimeout:p=Nr,responseType:h,retries:c=3,signal:g=null,timeout:m=3e4,withCredentials:y=!1}=e,S=I=>.3*2**(I-1)*1e3,D=new mc(m,p);return function T(I){return void 0===I&&(I=0),new Promise(function(){var q=(0,P.A)(function*(z,G){const R=new XMLHttpRequest;R.open(o,i,!0),R.withCredentials=y,h&&(R.responseType=h),g?.addEventListener("abort",()=>{R.abort(),G(new DOMException("Aborted","AbortError"))}),R.onload=(0,P.A)(function*(){yield d(R,I),R.status>=200&&R.status<300?(D.done(),z(R)):l(R)&&I<c?setTimeout(()=>{T(I+1).then(z,G)},S(I)):(D.done(),G(new ai(R.statusText,R)))}),R.onerror=()=>{l(R)&&I<c?setTimeout(()=>{T(I+1).then(z,G)},S(I)):(D.done(),G(new ai(R.statusText,R)))},R.upload.onprogress=$=>{D.progress(),a($)},r&&Object.keys(r).forEach($=>{R.setRequestHeader($,r[$])}),yield n(R,I),R.send(t)});return function(z,G){return q.apply(this,arguments)}}())}()}(a,{...l,method:null==l||null==(d=l.method)?void 0:d.toUpperCase(),onTimeout:g=>{const m=Math.ceil(g/1e3),y=new Error(r.i18n("uploadStalled",{seconds:m}));r.uppy.emit("upload-stalled",y,o)},onUploadProgress:g=>{if(g.lengthComputable)for(const m of o)r.uppy.emit("upload-progress",m,{uploader:r,bytesUploaded:g.loaded/g.total*m.size,bytesTotal:m.size})}});if(!r.opts.validateStatus(p.status,p.responseText,p))throw new ai(p.statusText,p);const h=r.opts.getResponseData(p.responseText,p),c=h?.[r.opts.responseUrlFieldName];for(const g of o)r.uppy.emit("upload-success",g,{status:p.status,body:h,uploadURL:c});return p}catch(p){if("AbortError"===p.name)return;if(p instanceof ai){const h=p.request,c=function xc(i,e){let t=e;return t||(t=new Error("Upload error")),"string"==typeof t&&(t=new Error(t)),t instanceof Error||(t=Object.assign(new Error("Upload error"),{data:t})),Ga(i)?(t=new ai(t,i),t):(t.request=i,t)}(h,r.opts.getResponseError(h.responseText,h));for(const g of o)r.uppy.emit("upload-error",g,c)}throw p}});return function(a,l){return n.apply(this,arguments)}}()}getOptions(e){const t=this.uppy.getState().xhrUpload,{headers:r}=this.opts,o={...this.opts,...t||{},...e.xhrUpload||{},headers:{}};return"function"==typeof r?o.headers=r(e):Object.assign(o.headers,this.opts.headers),t&&Object.assign(o.headers,t.headers),e.xhrUpload&&Object.assign(o.headers,e.xhrUpload.headers),o}addMetadata(e,t,r){(Array.isArray(r.allowedMetaFields)?r.allowedMetaFields:Object.keys(t)).forEach(n=>{const a=t[n];Array.isArray(a)?a.forEach(l=>e.append(n,l)):e.append(n,a)})}createFormDataUpload(e,t){const r=new FormData;this.addMetadata(r,e.meta,t);const o=Wa(e);return e.name?r.append(t.fieldName,o,e.meta.name):r.append(t.fieldName,o),r}createBundledUpload(e,t){const r=new FormData,{meta:o}=this.uppy.getState();return this.addMetadata(r,o,t),e.forEach(n=>{const a=this.getOptions(n),l=Wa(n);n.name?r.append(a.fieldName,l,n.name):r.append(a.fieldName,l)}),r}install(){if(this.opts.bundle){const{capabilities:e}=this.uppy.getState();this.uppy.setState({capabilities:{...e,individualCancellation:!1}})}this.uppy.addUploader(pt(this,Ji)[Ji])}uninstall(){if(this.opts.bundle){const{capabilities:e}=this.uppy.getState();this.uppy.setState({capabilities:{...e,individualCancellation:!0}})}this.uppy.removeUploader(pt(this,Ji)[Ji])}}function Pc(i){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,P.A)(function*(i){var e=this;const t=new ic(this.uppy),r=new AbortController,o=this.requests.wrapPromiseFunction((0,P.A)(function*(){const n=e.getOptions(i),a=pt(e,$t)[$t]([i]),l=n.formData?e.createFormDataUpload(i,n):i.data;return a(n.endpoint,{...n,body:l,signal:r.signal})}));t.onFileRemove(i.id,()=>r.abort()),t.onCancelAll(i.id,n=>{let{reason:a}=n;"user"===a&&r.abort()});try{yield o().abortOn(r.signal)}catch(n){if("Cancelled"!==n.message)throw n}finally{t.remove()}})).apply(this,arguments)}function Sc(i){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,P.A)(function*(i){var e=this;const t=new AbortController,r=this.requests.wrapPromiseFunction((0,P.A)(function*(){var n;const a=null!=(n=e.uppy.getState().xhrUpload)?n:{},l=pt(e,$t)[$t](i),d=e.createBundledUpload(i,{...e.opts,...a});return l(e.opts.endpoint,{...e.opts,body:d,signal:t.signal})}));function o(){t.abort()}this.uppy.once("cancel-all",o);try{yield r().abortOn(t.signal)}catch(n){if("Cancelled"!==n.message)throw n}finally{this.uppy.off("cancel-all",o)}})).apply(this,arguments)}function Tc(i){var e;const t=this.getOptions(i),r=Array.isArray(t.allowedMetaFields)?t.allowedMetaFields:Object.keys(i.meta);return{...null==(e=i.remote)?void 0:e.body,protocol:"multipart",endpoint:t.endpoint,size:i.data.size,fieldname:t.fieldName,metadata:Object.fromEntries(r.map(o=>[o,i.meta[o]])),httpMethod:t.method,useFormData:t.formData,headers:t.headers}}function Cc(i){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,P.A)(function*(i){yield Promise.allSettled(i.map(e=>{if(e.isRemote){const t=()=>this.requests,r=new AbortController,o=a=>{a.id===e.id&&r.abort()};this.uppy.on("file-removed",o);const n=this.uppy.getRequestClientForFile(e).uploadRemoteFile(e,pt(this,_n)[_n](e),{signal:r.signal,getQueue:t});return this.requests.wrapSyncFunction(()=>{this.uppy.off("file-removed",o)},{priority:-1})(),n}return pt(this,vn)[vn](e)}))})).apply(this,arguments)}qa.VERSION="3.6.8";var ve=f(39862);let Vt=(()=>{class i{constructor(t){this.restService=t,this.apiName="FileManagement",this.create=(r,o)=>this.restService.request({method:"POST",url:"/api/file-management/directory-descriptor",body:r},{apiName:this.apiName,...o}),this.delete=(r,o)=>this.restService.request({method:"DELETE",url:`/api/file-management/directory-descriptor/${r}`},{apiName:this.apiName,...o}),this.get=(r,o)=>this.restService.request({method:"GET",url:`/api/file-management/directory-descriptor/${r}`},{apiName:this.apiName,...o}),this.getContent=(r,o)=>this.restService.request({method:"GET",url:"/api/file-management/directory-descriptor",params:{filter:r.filter,id:r.id,sorting:r.sorting,skipCount:r.skipCount,maxResultCount:r.maxResultCount}},{apiName:this.apiName,...o}),this.getList=(r,o)=>this.restService.request({method:"GET",url:"/api/file-management/directory-descriptor/sub-directories",params:{parentId:r}},{apiName:this.apiName,...o}),this.move=(r,o)=>this.restService.request({method:"POST",url:"/api/file-management/directory-descriptor/move",body:r},{apiName:this.apiName,...o}),this.rename=(r,o,n)=>this.restService.request({method:"POST",url:`/api/file-management/directory-descriptor/${r}`,body:o},{apiName:this.apiName,...n})}static{this.\u0275fac=function(r){return new(r||i)(s.KVO(v.G9T))}}static{this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Zi=(()=>{class i{constructor(t){this.restService=t,this.apiName="FileManagement",this.create=(r,o,n)=>this.restService.request({method:"POST",url:"/api/file-management/file-descriptor/upload",params:{directoryId:r,name:o.name,overrideExisting:o.overrideExisting,extraProperties:o.extraProperties},body:o.file},{apiName:this.apiName,...n}),this.delete=(r,o)=>this.restService.request({method:"DELETE",url:`/api/file-management/file-descriptor/${r}`},{apiName:this.apiName,...o}),this.download=(r,o,n)=>this.restService.request({method:"GET",responseType:"blob",url:`/api/file-management/file-descriptor/download/${r}`,params:{token:o}},{apiName:this.apiName,...n}),this.get=(r,o)=>this.restService.request({method:"GET",url:`/api/file-management/file-descriptor/${r}`},{apiName:this.apiName,...o}),this.getContent=(r,o)=>this.restService.request({method:"GET",url:"/api/file-management/file-descriptor/content",params:{id:r}},{apiName:this.apiName,...o}),this.getDownloadToken=(r,o)=>this.restService.request({method:"GET",url:`/api/file-management/file-descriptor/download/${r}/token`},{apiName:this.apiName,...o}),this.getList=(r,o)=>this.restService.request({method:"GET",url:"/api/file-management/file-descriptor",params:{directoryId:r}},{apiName:this.apiName,...o}),this.getPreInfo=(r,o)=>this.restService.request({method:"POST",url:"/api/file-management/file-descriptor/pre-upload-info",body:r},{apiName:this.apiName,...o}),this.move=(r,o)=>this.restService.request({method:"POST",url:"/api/file-management/file-descriptor/move",body:r},{apiName:this.apiName,...o}),this.rename=(r,o,n)=>this.restService.request({method:"POST",url:`/api/file-management/file-descriptor/${r}`,body:o},{apiName:this.apiName,...n})}static{this.\u0275fac=function(r){return new(r||i)(s.KVO(v.G9T))}}static{this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Ka=function(i){return i[i.FontAwesome=0]="FontAwesome",i[i.Url=1]="Url",i}(Ka||{});(0,v.l_2)(Ka);var se=f(15923),di=f(89390),ae=f(89417),er=f(24721),Tn=f(33380),Xa=f(15306),Ya=f(58780),Qa=f(21998);const Dc=(i,e)=>e.id;function Ic(i,e){if(1&i&&(s.nrm(0,"i",4),s.j41(1,"span"),s.EFF(2),s.nI1(3,"abpLocalization"),s.k0s()),2&i){const t=s.XpG(2);s.R7$(2),s.JRh(s.bMT(3,1,t.rootBreadcrumbName))}}function kc(i,e){if(1&i&&(s.j41(0,"span"),s.EFF(1),s.k0s()),2&i){const t=s.XpG().$implicit;s.R7$(),s.JRh(t.name)}}function Bc(i,e){if(1&i){const t=s.RV6();s.j41(0,"li",2),s.bIt("click",function(){const o=s.eBV(t).$implicit,n=s.XpG();return s.Njj(n.onClick(o))}),s.j41(1,"span",3),s.DNE(2,Ic,4,3)(3,kc,2,1,"span"),s.k0s()()}if(2&i){const t=e.$index,r=e.$count;s.AVh("root",0===t)("active",t===r-1&&0!==t)("pe-none",t===r-1),s.R7$(2),s.vxM(0===t?2:-1),s.R7$(),s.vxM(0!==t?3:-1)}}const Mc=["*"],Ac=i=>({size:i});function Ec(i,e){if(1&i&&(s.j41(0,"h5",4),s.EFF(1),s.nI1(2,"abpLocalization"),s.k0s()),2&i){const t=s.XpG();s.R7$(),s.SpI(" ",s.bMT(2,1,"FileManagement::"+t.title)," ")}}function Oc(i,e){1&i&&s.SdG(0)}function Nc(i,e){if(1&i){const t=s.RV6();s.j41(0,"button",5),s.bIt("click",function(){s.eBV(t);const o=s.XpG();return s.Njj(o.parent.closeModal())}),s.EFF(1),s.nI1(2,"abpLocalization"),s.k0s(),s.j41(3,"abp-button",6),s.bIt("click",function(){s.eBV(t);const o=s.XpG();return s.Njj(o.parent.save())}),s.EFF(4),s.nI1(5,"abpLocalization"),s.k0s()}if(2&i){const t=s.XpG();s.Y8G("disabled",t.parent.loading),s.R7$(),s.SpI(" ",s.bMT(2,4,"AbpUi::Cancel")," "),s.R7$(2),s.Y8G("loading",t.loading),s.R7$(),s.SpI(" ",s.bMT(5,6,"AbpUi::Save")," ")}}const Rc=i=>({emptyMessage:i});function Uc(i,e){if(1&i){const t=s.RV6();s.j41(0,"div",6),s.bIt("click",function(){const o=s.eBV(t).row,n=s.XpG();return s.Njj(n.service.goTo(o))}),s.nrm(1,"i",7),s.EFF(2),s.k0s()}if(2&i){const t=e.row;s.R7$(2),s.SpI(" ",t.name," ")}}function zc(i,e){if(1&i){const t=s.RV6();s.nrm(0,"abp-extensible-table",0),s.j41(1,"abp-rename-modal",1),s.mxI("visibleChange",function(o){s.eBV(t);const n=s.XpG();return s.DH7(n.renameModalOpen,o)||(n.renameModalOpen=o),s.Njj(o)})("contentToRenameChange",function(o){s.eBV(t);const n=s.XpG();return s.DH7(n.contentToRename,o)||(n.contentToRename=o),s.Njj(o)}),s.bIt("contentSaved",function(){s.eBV(t);const o=s.XpG();return s.Njj(o.onContentSaved())}),s.k0s(),s.j41(2,"abp-move-file-modal",2),s.mxI("visibleChange",function(o){s.eBV(t);const n=s.XpG();return s.DH7(n.moveModalOpen,o)||(n.moveModalOpen=o),s.Njj(o)}),s.bIt("contentSaved",function(){s.eBV(t);const o=s.XpG();return s.Njj(o.onContentSaved())}),s.k0s()}if(2&i){const t=e,r=s.XpG();s.Y8G("list",r.list)("data",t.items)("recordsTotal",t.totalCount),s.R7$(),s.R50("visible",r.renameModalOpen)("contentToRename",r.contentToRename),s.R7$(),s.R50("visible",r.moveModalOpen),s.Y8G("fileToMove",r.fileToMove)("oldParentId",r.parentOfFileToMove)}}function Lc(i,e){if(1&i&&(s.j41(0,"abp-button",3),s.EFF(1),s.nI1(2,"abpLocalization"),s.k0s()),2&i){const t=s.XpG();s.Y8G("buttonId",t.buttonId),s.R7$(),s.JRh(s.bMT(2,2,"FileManagement::UploadFiles"))}}function jc(i,e){if(1&i){const t=s.RV6();s.j41(0,"abp-button",4),s.bIt("click",function(){s.eBV(t);const o=s.XpG();return s.Njj(o.folderCreateModal=!0)}),s.EFF(1),s.nI1(2,"abpLocalization"),s.k0s()}2&i&&(s.R7$(),s.JRh(s.bMT(2,1,"FileManagement::CreateFolder")))}function $c(i,e){if(1&i&&s.nrm(0,"i",9),2&i){const t=e.$implicit,r=e.origin;s.AVh("fa-plus-square",!t.isExpanded&&(null==r||null==r.entity?null:r.entity.hasChildren))("fa-minus-square",t.isExpanded&&t.children.length)}}function Vc(i,e){1&i&&(s.EFF(0),s.nI1(1,"abpLocalization")),2&i&&s.SpI(" ",s.bMT(1,1,"FileManagement::AllFiles")," ")}function Hc(i,e){if(1&i&&s.EFF(0),2&i){const t=s.XpG().$implicit;s.SpI(" ",t.title," ")}}function Gc(i,e){if(1&i&&(s.nrm(0,"i",10),s.DNE(1,Vc,2,3)(2,Hc,1,1)),2&i){const t=e.$implicit;s.R7$(),s.vxM(t.origin.entity.isRoot?1:2)}}function Wc(i,e){if(1&i){const t=s.RV6();s.j41(0,"li",13),s.bIt("click",function(){s.eBV(t);const o=s.XpG().$implicit,n=s.XpG(3);return s.Njj(n.onCreate(o.origin.entity))}),s.EFF(1),s.nI1(2,"abpLocalization"),s.k0s()}2&i&&(s.R7$(),s.SpI(" ",s.bMT(2,1,"FileManagement::CreateFolder")," "))}function qc(i,e){if(1&i){const t=s.RV6();s.j41(0,"li",13),s.bIt("click",function(){s.eBV(t);const o=s.XpG(2).$implicit,n=s.XpG(3);return s.Njj(n.onRename(o.origin.entity))}),s.EFF(1),s.nI1(2,"abpLocalization"),s.k0s()}2&i&&(s.R7$(),s.SpI(" ",s.bMT(2,1,"FileManagement::Rename")," "))}function Kc(i,e){if(1&i&&s.DNE(0,qc,3,3,"li",11),2&i){const t=s.XpG(4);s.Y8G("abpPermission",t.updatePolicy)}}function Xc(i,e){if(1&i){const t=s.RV6();s.j41(0,"li",13),s.bIt("click",function(){s.eBV(t);const o=s.XpG(2).$implicit,n=s.XpG(3);return s.Njj(n.onMove(o))}),s.EFF(1),s.nI1(2,"abpLocalization"),s.k0s()}2&i&&(s.R7$(),s.SpI(" ",s.bMT(2,1,"FileManagement::Move")," "))}function Yc(i,e){if(1&i&&s.DNE(0,Xc,3,3,"li",11),2&i){const t=s.XpG(4);s.Y8G("abpPermission",t.updatePolicy)}}function Qc(i,e){if(1&i){const t=s.RV6();s.j41(0,"li",13),s.bIt("click",function(){s.eBV(t);const o=s.XpG(2).$implicit,n=s.XpG(3);return s.Njj(n.onDelete(o.origin.entity))}),s.EFF(1),s.nI1(2,"abpLocalization"),s.k0s()}2&i&&(s.R7$(),s.SpI(" ",s.bMT(2,1,"FileManagement::Delete")," "))}function Jc(i,e){if(1&i&&s.DNE(0,Qc,3,3,"li",11),2&i){const t=s.XpG(4);s.Y8G("abpPermission",t.deletePolicy)}}function Zc(i,e){if(1&i&&s.DNE(0,Wc,3,3,"li",11)(1,Kc,1,1,"li",12)(2,Yc,1,1,"li",12)(3,Jc,1,1,"li",12),2&i){const t=e.$implicit,r=s.XpG(3);s.Y8G("abpPermission",r.createPolicy),s.R7$(),s.vxM(t.origin.entity.id!==r.rootId?1:-1),s.R7$(),s.vxM(t.origin.entity.id!==r.rootId?2:-1),s.R7$(),s.vxM(t.origin.entity.id!==r.rootId?3:-1)}}function eh(i,e){1&i&&(s.qex(0),s.DNE(1,Zc,4,4,"ng-template",null,0,s.C5r),s.bVm())}function th(i,e){if(1&i){const t=s.RV6();s.j41(0,"abp-tree",5),s.mxI("nodesChange",function(o){s.eBV(t);const n=s.XpG();return s.DH7(n.directories,o)||(n.directories=o),s.Njj(o)})("expandedKeysChange",function(o){s.eBV(t);const n=s.XpG();return s.DH7(n.service.extendedKeys,o)||(n.service.extendedKeys=o),s.Njj(o)}),s.bIt("dropOver",function(o){s.eBV(t);const n=s.XpG();return s.Njj(n.onDrop(o))})("selectedNodeChange",function(o){s.eBV(t);const n=s.XpG();return s.Njj(n.onNodeClick(o))})("nzExpandChange",function(o){s.eBV(t);const n=s.XpG();return s.Njj(n.onExpandedKeysChange(o))}),s.DNE(1,$c,1,4,"ng-template",6)(2,Gc,3,1,"ng-template",7)(3,eh,3,0,"ng-container",8),s.k0s()}if(2&i){const t=s.XpG();s.R50("nodes",t.directories)("expandedKeys",t.service.extendedKeys),s.Y8G("draggable",!0)("selectedNode",t.selectedNode),s.R7$(3),s.Y8G("abpPermission",t.contextMenuPolicy)}}let Rr=(()=>{class i{constructor(){this.rootBreadcrumbName="FileManagement::AllFiles",this.breadcrumbClick=new s.bkB,this.trackByIdAndName=(t,r)=>r.id+"-"+r.name}onClick(t){this.breadcrumbClick.emit(t)}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275cmp=s.VBU({type:i,selectors:[["abp-file-management-breadcrumb"]],inputs:{rootBreadcrumbName:"rootBreadcrumbName",navigatedFolders:"navigatedFolders"},outputs:{breadcrumbClick:"breadcrumbClick"},decls:3,vars:0,consts:[[1,"breadcrumb"],["aria-current","page",1,"breadcrumb-item",3,"root","active","pe-none"],["aria-current","page",1,"breadcrumb-item",3,"click"],[1,"breadcrumb-item-text"],["aria-hidden","true",1,"fa","fa-home","me-1"]],template:function(r,o){1&r&&(s.j41(0,"ol",0),s.Z7z(1,Bc,4,8,"li",1,Dc),s.k0s()),2&r&&(s.R7$(),s.Dyx(o.navigatedFolders))},dependencies:[v.aM3],styles:['.breadcrumb[_ngcontent-%COMP%]{padding:3px 0 0;opacity:1;font-size:1em}.breadcrumb-item[_ngcontent-%COMP%]{padding:0}.breadcrumb-item.active[_ngcontent-%COMP%]   .breadcrumb-item-text[_ngcontent-%COMP%]{opacity:.5}.breadcrumb-item-text[_ngcontent-%COMP%]{padding:3px 8px;border-radius:3px}.breadcrumb-item-text[_ngcontent-%COMP%]:hover{cursor:pointer;background:var(--background)}.breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{content:">";opacity:.3;margin:3px 0 0 3px}'],changeDetection:0})}}return i})(),Ae=(()=>{class i{constructor(){this.store=new v.JG$({}),this.currentDirectory$=this.sliceState(t=>t.currentDirectory),this.directoryRename$=this.sliceState(t=>t.renamedDirectory),this.directoryDelete$=this.sliceState(t=>t.deletedDirectory),this.directoryCreate$=this.store.sliceUpdate(t=>t.createdDirectory),this.directoryMove$=this.sliceState(t=>t.movedDirectory),this.contentRefresh$=(0,ht.h)(this.sliceState(t=>t.content),this.currentDirectory$,this.directoryCreate$.pipe((0,B.p)(t=>t===this.currentDirectory)),this.directoryMove$.pipe((0,B.p)(({oldParentId:t,newParentId:r})=>t===this.currentDirectory||r===this.currentDirectory))),this.patchStore=t=>this.store.patch(t),this.refreshContent=()=>this.store.patch({content:(new Date).getTime()})}get currentDirectory(){return this.store.state.currentDirectory}sliceState(t){return this.store.sliceState(t).pipe((0,x.i)(1))}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}}return i})(),Ur=(()=>{class i{constructor(){this.confirmationService=(0,s.WQX)(ve.td),this.directoryService=(0,s.WQX)(Vt),this.fileService=(0,s.WQX)(Zi),this.updateStream=(0,s.WQX)(Ae),this.toasterService=(0,s.WQX)(ve.W9)}deleteFolder(t){return this.delete("FileManagement::DirectoryDeleteConfirmationMessage",t,this.directoryService).pipe((0,b.M)(()=>this.updateStream.patchStore({deletedDirectory:t.id})))}deleteFile(t){return this.delete("FileManagement::FileDeleteConfirmationMessage",t,this.fileService).pipe((0,b.M)(()=>this.updateStream.refreshContent()))}delete(t,r,o){return this.confirmationService.warn(t,"FileManagement::AreYouSure").pipe((0,B.p)(n=>n===ve.m.Status.confirm),(0,w.s)(1),(0,F.n)(()=>o.delete(r.id)),(0,b.M)(()=>{this.toasterService.success("AbpUi::DeletedSuccessfully")}))}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}}return i})(),zr=(()=>{class i{get apiUrl(){return this.environment.getApiUrl(this.apiName)}constructor(t,r,o){this.restService=t,this.fileDescriptorService=r,this.environment=o,this.apiName="FileManagement"}downloadFile(t){return this.fileDescriptorService.getDownloadToken(t.id).pipe((0,b.M)(r=>{window.open(`${this.apiUrl}/api/file-management/file-descriptor/download/${t.id}?token=${r.token}`,"_self")}))}static{this.\u0275fac=function(r){return new(r||i)(s.KVO(v.G9T),s.KVO(Zi),s.KVO(v.vf1))}}static{this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}}return i})();const We="ROOT_ID",ut={id:We,parentId:null,name:"All Files",isRoot:!0,hasChildren:!0};function vt(i){return i===We?null:i}let pi=(()=>{class i{constructor(t,r){this.directoryService=t,this.updateStream=r,this.store=new v.JG$([]),this.directoryTree$=this.store.sliceState(o=>o),this.subscription=new U.yU,this.extendedKeys=[],this.parents=[],this.updateDirectories=(o=null)=>{this.collapseFolder(o),this.fetchDirectories(vt(o)).subscribe(n=>{this.updateTree(o,n)})},this.refreshNode=({newParentId:o})=>{this.parents=[],this.findAncestors(this.treeHolder.getTree(),o);const n=this.parents.reverse();if(!this.parents.length)return void this.updateDirectories();const a={};this.store.reset(),this.extendedKeys=[];for(const[l,d]of n.entries())a[l]=this.directoryService.getList(vt(d)).pipe((0,_.T)(p=>this.bindInitialListToRoot(p.items)));(0,Xr.p)(a).subscribe(l=>{for(const[d,p]of n.entries())this.updateTree(p,l[d])})},this.setupListener()}findAncestors(t,r="ROOT_ID"){t.forEach(o=>{o.id!==r&&o.children?this.findAncestors(o.children,r):(this.parents.push(o.id),this.findAncestors(this.treeHolder.getTree(),o.parentId))})}ngOnDestroy(){this.subscription.unsubscribe()}setupListener(){this.subscription.add((0,ht.h)(this.updateStream.directoryRename$.pipe((0,_.T)(t=>this.getParentOf(t.id))),this.updateStream.directoryDelete$.pipe((0,_.T)(t=>this.getParentOf(t)))).subscribe(this.updateDirectories)),this.subscription.add((0,ht.h)(this.updateStream.directoryMove$,this.updateStream.directoryDelete$.pipe((0,_.T)(t=>({newParentId:t})))).subscribe(this.refreshNode))}findFullPathOf(t){let r=t?.id;const o=this.treeHolder.getList(),n=[];for(;r;){const a=o.find(l=>l.id===r);a&&a.id!==We&&n.push(a),r=a?.parentId}return n.concat(ut).map(a=>({id:a.id,name:a.name})).reverse()}getParentOf(t){return this.treeHolder.getList().find(o=>o.id===t)?.parentId||We}getRootNode(){return ut}collapseFolder(t){const r=this.extendedKeys.indexOf(t);r>-1&&this.extendedKeys.splice(r,1)}updateTree(t,r){r&&(this.treeHolder&&t?this.onTreeExistAndNavigatedToNode(t,r):this.onTreeNotExistOrNavigatedToRoot(r),this.updateStore())}updateStore(){this.store.patch(this.treeHolder.getTree())}onTreeExistAndNavigatedToNode(t,r){this.treeHolder.handleUpdate({key:t,children:r}),this.extendedKeys=[...this.extendedKeys,t]}onTreeNotExistOrNavigatedToRoot(t){this.extendedKeys=[We],this.treeHolder=new di.a6([ut,...t])}fetchDirectories(t){return this.directoryService.getList(t).pipe((0,_.T)(r=>this.bindInitialListToRoot(r.items)))}bindInitialListToRoot(t){return t.map(r=>({...r,parentId:r.parentId||We}))}static{this.\u0275fac=function(r){return new(r||i)(s.KVO(Vt),s.KVO(Ae))}}static{this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}}return i})(),ct=(()=>{class i{constructor(t,r){this.directory=t,this.updateStream=r,this.navigatedFolders=[ut],this.store=new v.JG$(this.navigatedFolders),this.navigatedFolderPath$=this.store.sliceState(o=>o,(o,n)=>o===n),this.subscription=new U.yU,this.currentFolder$=new Yr.t(ut),this.updateFolderName=o=>{const n=[...this.navigatedFolders];n.filter(a=>a.id===o.id).forEach(a=>a.name=o.name),this.next(n)},this.removeDeletedFolder=o=>{const n=this.findIndexOf(o);n>-1&&this.next(this.navigatedFolders.slice(0,n))},this.updateMovedFolder=({id:o,newParentId:n})=>{if(this.findIndexOf(o)>-1){const l=this.findIndexOf(n);let d=[];d=l>-1?this.navigatedFolders.slice(0,l+1):[this.directory.getRootNode()],this.next(d)}},this.setupListeners()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}goToFolder(t){this.currentFolder$.next(t||ut),this.updateCurrentFolderPath(t)}goToRoot(){this.goToFolder(null)}goUpFolder(){0!==this.navigatedFolders.length&&(1===this.navigatedFolders.length?this.goToRoot():this.goToFolder(this.navigatedFolders[this.navigatedFolders.length-2]))}getCurrentFolder(){return this.navigatedFolders.length&&this.navigatedFolders[this.navigatedFolders.length-1]}getCurrentFolderId(){return vt(this.getCurrentFolder()?.id)}updateCurrentFolderPath(t){this.next([...this.directory.findFullPathOf(t)])}next(t){this.navigatedFolders=t,this.store.patch(this.navigatedFolders),this.currentFolder$.next(this.getCurrentFolder()),this.updateStream.patchStore({currentDirectory:this.getCurrentFolderId()})}setupListeners(){this.subscription.add(this.updateStream.directoryRename$.subscribe(this.updateFolderName)),this.subscription.add(this.updateStream.directoryDelete$.subscribe(this.removeDeletedFolder)),this.subscription.add(this.updateStream.directoryMove$.subscribe(this.updateMovedFolder))}findIndexOf(t){return this.navigatedFolders.findIndex(r=>r.id===t)}static{this.\u0275fac=function(r){return new(r||i)(s.KVO(pi),s.KVO(Ae))}}static{this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}}return i})(),wt=(()=>{class i{constructor(){this.size="md",this.visibleChange=new s.bkB,this.contentSaved=new s.bkB,this.loading=!1,this.success=t=>{this.closeModal(),this.contentSaved.emit(t)}}get self(){return this}onVisibleChange(t){this.visible=t,this.visibleChange.emit(this.visible)}closeModal(){this.onVisibleChange(!1),this.clear()}clear(){}save(){this.shouldSave()&&(this.loading=!0,this.saveAction().pipe((0,A.j)(()=>{this.loading=!1})).subscribe(this.success))}shouldSave(){return!0}saveAction(){return(0,Kt.of)({})}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275cmp=s.VBU({type:i,selectors:[["abp-file-management-modal"]],inputs:{title:"title",size:"size",visible:"visible",parent:"parent"},outputs:{visibleChange:"visibleChange",contentSaved:"contentSaved"},ngContentSelectors:Mc,decls:7,vars:4,consts:[["abpHeader",""],["abpBody",""],["abpFooter",""],[3,"visibleChange","options","visible"],[1,"modal-title"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],["type","abp-button","iconClass","fa fa-check",3,"click","loading"]],template:function(r,o){if(1&r){const n=s.RV6();s.NAR(),s.j41(0,"abp-modal",3),s.bIt("visibleChange",function(l){return s.eBV(n),s.Njj(o.parent.onVisibleChange(l))}),s.DNE(1,Ec,3,3,"ng-template",null,0,s.C5r)(3,Oc,1,0,"ng-template",null,1,s.C5r)(5,Nc,6,8,"ng-template",null,2,s.C5r),s.k0s()}2&r&&s.Y8G("options",s.eq3(2,Ac,o.parent.size))("visible",o.parent.visible)},dependencies:[ve.Qp,ve.zf,v.aM3],encapsulation:2})}}return i})(),Cn=(()=>{class i{constructor(t,r,o){this.directoryDescriptorService=t,this.fileService=r,this.updateStream=o}rename(t){const r=t.id,o=t.name;return t.isDirectory?this.callService(this.directoryDescriptorService,r,o).pipe((0,b.M)(n=>{this.updateStream.patchStore({renamedDirectory:{id:r,name:o}})})):this.callService(this.fileService,r,o).pipe((0,b.M)(n=>this.updateStream.refreshContent()))}callService(t,r,o){return t.rename(r,{name:o}).pipe((0,_.T)(()=>!0))}static{this.\u0275fac=function(r){return new(r||i)(s.KVO(Vt),s.KVO(Zi),s.KVO(Ae))}}static{this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}}return i})(),Lr=(()=>{class i extends wt{set contentToRename(t){this._contentToRename=t,this.form.controls.name.patchValue(t?.name)}get contentToRename(){return this._contentToRename}constructor(t,r){super(),this.service=t,this.fb=r,this.contentRenamed=new s.bkB,this.contentToRenameChange=new s.bkB,this.form=this.fb.group({name:["",ae.k0.required]})}saveAction(){return this.service.rename({...this.contentToRename,...this.form.value}).pipe((0,b.M)(()=>this.contentRenamed.emit(this.contentToRename)))}shouldSave(){return this.form.valid}clear(){this.form.reset(),this.contentToRename=null,this.contentToRenameChange.emit(this.contentToRename)}static{this.\u0275fac=function(r){return new(r||i)(s.rXU(Cn),s.rXU(ae.ze))}}static{this.\u0275cmp=s.VBU({type:i,selectors:[["abp-rename-modal"]],inputs:{contentToRename:"contentToRename"},outputs:{contentRenamed:"contentRenamed",contentToRenameChange:"contentToRenameChange"},features:[s.Jv_([Cn]),s.Vt3],decls:7,vars:5,consts:[["title","Rename",3,"parent"],[3,"keyup.enter","formGroup"],[1,"form-group"],["for","renameFileInput"],["formControlName","name","type","text","id","renameFileInput",1,"form-control"]],template:function(r,o){1&r&&(s.j41(0,"abp-file-management-modal",0)(1,"form",1),s.bIt("keyup.enter",function(){return o.save()}),s.j41(2,"div",2)(3,"label",3),s.EFF(4),s.nI1(5,"abpLocalization"),s.k0s(),s.nrm(6,"input",4),s.k0s()()()),2&r&&(s.Y8G("parent",o.self),s.R7$(),s.Y8G("formGroup",o.form),s.R7$(3),s.SpI("",s.bMT(5,3,"FileManagement::Name")," *"))},dependencies:[ae.qT,ae.me,ae.BC,ae.cb,ae.j4,ae.JD,er.a5,er.lt,wt,v.aM3],encapsulation:2,changeDetection:0})}}return i})(),jr=(()=>{class i{constructor(t,r,o,n){this.service=t,this.confirmation=r,this.updateStream=o,this.toaster=n}moveTo(t,r,o){const n=t.id,a=vt(r.id);return this.confirmation.warn("FileManagement::DirectoryMoveConfirmMessage","FileManagement::AreYouSure",{messageLocalizationParams:[t.name,r.name]}).pipe((0,B.p)(l=>l===ve.m.Status.confirm),(0,F.n)(l=>this.service.move({id:n,newParentId:a})),(0,b.M)(l=>{this.updateStream.patchStore({movedDirectory:{id:n,newParentId:a,oldParentId:o}}),this.toaster.success("FileManagement::SuccessfullyMoved")}))}static{this.\u0275fac=function(r){return new(r||i)(s.KVO(Vt),s.KVO(ve.td),s.KVO(Ae),s.KVO(ve.W9))}}static{this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}}return i})(),Dn=(()=>{class i{constructor(t,r,o,n,a,l){this.service=t,this.fileService=r,this.updateStream=o,this.toaster=n,this.moveService=a,this.navigatorService=l,this.directoryContentStore=new v.JG$([]),this.directoryContent$=this.directoryContentStore.sliceState(d=>d),this.breadcrumbStore=new v.JG$([ut]),this.breadcrumbs$=this.breadcrumbStore.sliceState(d=>d)}reset(){this.breadcrumbStore.reset(),this.directoryContentStore.reset(),this.updateContent().subscribe()}updateContent(){return this.service.getList(this.getCurrentFolderIdForRequest()).pipe((0,b.M)(t=>this.directoryContentStore.patch(t.items)))}goTo(t){let r=this.getNavigatedFolders();const o=r.findIndex(n=>n.id===t.id);r=o<0?[...r,t]:r.slice(0,o+1),this.breadcrumbStore.patch(r),this.updateContent().subscribe()}move(t){return this.fileService.move({id:t.id,newDirectoryId:this.getCurrentFolderIdForRequest()}).pipe((0,b.M)(r=>{this.updateStream.refreshContent(),this.toaster.success("FileManagement::SuccessfullyMoved")}))}moveFolder(t,r){return this.moveService.moveTo(t,this.getCurrentFolder(),r)}getCurrentFolder(){const t=this.getNavigatedFolders();return t[t.length-1]}getCurrentFolderIdForRequest(){const t=this.getNavigatedFolders();return vt(t[t.length-1]?.id)}getNavigatedFolders(){return this.breadcrumbStore.state}static{this.\u0275fac=function(r){return new(r||i)(s.KVO(Vt),s.KVO(Zi),s.KVO(Ae),s.KVO(ve.W9),s.KVO(jr),s.KVO(ct))}}static{this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}}return i})(),$r=(()=>{class i extends wt{constructor(t){super(),this.service=t,this.directoryContent$=this.service.directoryContent$.pipe((0,_.T)(r=>r.filter(o=>o.id!==this.fileToMove.id)))}ngOnChanges({visible:t}){t.currentValue&&this.service.reset()}onBreadcrumbClick(t){this.service.goTo(t)}saveAction(){return this.fileToMove.isDirectory?this.service.moveFolder(this.fileToMove,this.oldParentId):this.service.move(this.fileToMove)}static{this.\u0275fac=function(r){return new(r||i)(s.rXU(Dn))}}static{this.\u0275cmp=s.VBU({type:i,selectors:[["abp-move-file-modal"]],inputs:{fileToMove:"fileToMove",oldParentId:"oldParentId"},features:[s.Jv_([Dn,v.aGM]),s.Vt3,s.OA$],decls:12,vars:19,consts:[["title","Move",3,"parent"],[1,"d-block","p-2"],["rootBreadcrumbName","FileManagement::Root",3,"breadcrumbClick","navigatedFolders"],["default","",3,"rows","messages"],[3,"sortable","name"],["ngx-datatable-cell-template",""],[1,"pointer",3,"click"],["aria-hidden","true",1,"fa","fa-folder","text-primary","me-1"]],template:function(r,o){1&r&&(s.j41(0,"abp-file-management-modal",0)(1,"span",1),s.EFF(2),s.nI1(3,"abpLocalization"),s.k0s(),s.j41(4,"abp-file-management-breadcrumb",2),s.nI1(5,"async"),s.bIt("breadcrumbClick",function(a){return o.onBreadcrumbClick(a)}),s.k0s(),s.j41(6,"ngx-datatable",3),s.nI1(7,"async"),s.nI1(8,"abpLocalization"),s.j41(9,"ngx-datatable-column",4),s.nI1(10,"abpLocalization"),s.DNE(11,Uc,3,1,"ng-template",5),s.k0s()()()),2&r&&(s.Y8G("parent",o.self),s.R7$(2),s.JRh(s.bMT(3,7,"FileManagement::MoveToUnder")),s.R7$(2),s.Y8G("navigatedFolders",s.bMT(5,9,o.service.breadcrumbs$)),s.R7$(2),s.Y8G("rows",s.bMT(7,11,o.directoryContent$))("messages",s.eq3(17,Rc,s.bMT(8,13,"FileManagement::MoveHere"))),s.R7$(3),s.Y8G("sortable",!0)("name",s.bMT(10,15,"FileManagement::Name")))},dependencies:[Tn.ge,Tn.ed,Tn.QI,ve.O6,Rr,wt,M.Jj,v.aM3],encapsulation:2,changeDetection:0})}}return i})(),$e=(()=>{class i{constructor(t,r,o,n,a,l){this.list=t,this.service=r,this.deleteService=o,this.downloadService=n,this.navigator=a,this.updateStream=l,this.contentUpdate=new s.bkB,this.renameModalOpen=!1,this.moveModalOpen=!1,this.updateContent=d=>{this.currentList=d.items,this.contentUpdate.emit(d.items)},this.content$=this.list.hookToQuery(d=>this.service.getContent({...d,id:this.updateStream.currentDirectory})).pipe((0,b.M)(this.updateContent)),this.isDirectoryPresent=d=>this.currentList.some(p=>p.id===d)}ngOnInit(){this.subscription=(0,ht.h)(this.updateStream.contentRefresh$,this.updateStream.directoryDelete$.pipe((0,B.p)(this.isDirectoryPresent)),this.updateStream.directoryRename$.pipe((0,_.T)(t=>t.id),(0,B.p)(this.isDirectoryPresent))).subscribe(this.list.get)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}openFolder(t){this.navigator.goToFolder({id:t.id,name:t.name})}renameFolder(t){this.openRenameModal(t)}deleteFolder(t){this.deleteService.deleteFolder(t).subscribe()}downloadFile(t){this.downloadService.downloadFile(t).subscribe()}renameFile(t){this.openRenameModal(t)}deleteFile(t){this.deleteService.deleteFile(t).subscribe()}moveFile(t){this.fileToMove=t,this.moveModalOpen=!0}moveFolder(t){this.fileToMove=t,this.parentOfFileToMove=this.navigator.getCurrentFolderId(),this.moveModalOpen=!0}onContentSaved(){delete this.contentToRename,delete this.fileToMove,delete this.parentOfFileToMove}openRenameModal(t){this.renameModalOpen=!0,this.contentToRename=t}static{this.\u0275fac=function(r){return new(r||i)(s.rXU(v.aGM),s.rXU(Vt),s.rXU(Ur),s.rXU(zr),s.rXU(ct),s.rXU(Ae))}}static{this.\u0275cmp=s.VBU({type:i,selectors:[["abp-file-management-folder-content"]],outputs:{contentUpdate:"contentUpdate"},features:[s.Jv_([{provide:se.JF,useValue:"FileManagement.FolderContentComponent"}])],decls:2,vars:3,consts:[[3,"list","data","recordsTotal"],[3,"visibleChange","contentToRenameChange","contentSaved","visible","contentToRename"],[3,"visibleChange","contentSaved","visible","fileToMove","oldParentId"]],template:function(r,o){if(1&r&&(s.DNE(0,zc,3,8),s.nI1(1,"async")),2&r){let n;s.vxM((n=s.bMT(1,1,o.content$))?0:-1,n)}},dependencies:[se.XY,Lr,$r,M.Jj],encapsulation:2,changeDetection:0})}}return i})();function tr(i){return i.record.isDirectory}function Vr(i){return!tr(i)}const Ja=se.SY.createMany([{text:"FileManagement::Open",action:i=>{i.getInjected($e).openFolder(i.record)},visible:tr},{text:"FileManagement::Rename",action:i=>{i.getInjected($e).renameFolder(i.record)},permission:"FileManagement.DirectoryDescriptor.Update",visible:tr},{text:"FileManagement::Move",action:i=>{i.getInjected($e).moveFolder(i.record)},permission:"FileManagement.DirectoryDescriptor.Update",visible:tr},{text:"AbpUi::Delete",action:i=>{i.getInjected($e).deleteFolder(i.record)},permission:"FileManagement.DirectoryDescriptor.Delete",visible:tr},{text:"FileManagement::Download",action:i=>{i.getInjected($e).downloadFile(i.record)},visible:Vr},{text:"FileManagement::Rename",action:i=>{i.getInjected($e).renameFile(i.record)},permission:"FileManagement.FileDescriptor.Update",visible:Vr},{text:"FileManagement::Move",action:i=>{i.getInjected($e).moveFile(i.record)},permission:"FileManagement.FileDescriptor.Update",visible:Vr},{text:"AbpUi::Delete",action:i=>{i.getInjected($e).deleteFile(i.record)},permission:"FileManagement.FileDescriptor.Delete",visible:Vr}]);function Za(i){return i.isDirectory?"":el(i.size)}function el(i,e=2){if(!Number.isInteger(i)||i<=0)return"0 Bytes";if(1===i)return"1 Byte";const r=e<0?0:e,n=Math.floor(Math.log(i)/Math.log(1024));return parseFloat((i/1024**n).toFixed(r))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][n]}const tl=se.Fh.createMany([{type:"string",name:"name",displayName:"FileManagement::Name",sortable:!0,action:i=>{const e=i.getInjected(ct),t=i.getInjected(zr);i.record.isDirectory?e.goToFolder(i.record):t.downloadFile(i.record).subscribe()},valueResolver:i=>{const e=i.record;let t;return e.isDirectory?t='<i class="fa fa-folder text-primary" aria-hidden="true"></i>':e.iconInfo&&(t=0===e.iconInfo.type?`<i class="${i.record.iconInfo.icon}" aria-hidden="true"></i>`:`<img src="${i.record.iconInfo.icon}" />`),(0,Kt.of)(`${t} ${i.record.name}`)}},{type:"string",name:"size",displayName:"FileManagement::Size",sortable:!0,columnWidth:150,valueResolver:i=>(0,Kt.of)(Za(i.record))}]),ih=se.KR.createMany([]),In={"FileManagement.FolderContentComponent":Ja},kn={"FileManagement.FolderContentComponent":ih},Bn={"FileManagement.FolderContentComponent":tl},Hr=new s.nKC("FILE_MANAGEMENT_ENTITY_ACTION_CONTRIBUTORS"),Gr=new s.nKC("FILE_MANAGEMENT_TOOLBAR_ACTION_CONTRIBUTORS"),Wr=new s.nKC("FILE_MANAGEMENT_ENTITY_PROP_CONTRIBUTORS"),Mn=new s.nKC("FILE_MANAGEMENT_XSRF_HEADER_NAME");let An=(()=>{class i{constructor(t,r,o,n,a,l,d,p){this.localization=t,this.fileService=r,this.confirmation=o,this.updateStream=n,this.apiInterceptor=a,this.environmentService=l,this.httpXsrfToken=d,this.headerName=p,this.subscriptionService=(0,s.WQX)(v.nCQ),this.filesAlreadyChecked=!1,this.subscriptions=[],this.onBeforeUpload=h=>!!this.filesAlreadyChecked||(this.checkFilesForUpload(h),!1),this.cancelModal=()=>{this.uppy.cancelAll();const h=this.uppy.getPlugin("Dashboard");h.isModalOpen()&&h.closeModal()},this.getPreInfo=h=>this.callPreInfoWithFiles(h).pipe((0,B.p)(c=>c.length>0),(0,_.T)(this.findAnyIfExistOrInvalidName),(0,b.M)(c=>{c.doesExist&&this.giveExistFileWarning(),c.hasInvalidName&&this.giveInvalidFileNameWarning(c.fileName)}))}initUppy(t,r){const o=Object.assign({},this.apiInterceptor.getAdditionalHeaders());o[this.headerName]=this.httpXsrfToken.getToken(),this.subscriptionService.addOne(this.localization.getResource$("FileManagement").pipe((0,w.s)(1)),n=>{this.resource=n,this.uppy=new Ul({onBeforeUpload:this.onBeforeUpload}).use($a,{trigger:t,inline:!1,target:"body",metaFields:[{id:"name",name:n.Name,placeholder:n.FileName}],browserBackButtonClose:!0,proudlyDisplayPoweredByUppy:!1,onRequestCloseModal:this.cancelModal,locale:{strings:this.getTranslations()}}).use(qa,{endpoint:this.getRawApiUrl(),formData:!0,fieldName:"file",headers:o}),r&&this.setOptions(r)}),this.subscriptionService.addOne((0,_t.R)(this.uppy,"file-added").pipe((0,_.T)(n=>n[0]),function qt(i,...e){var t,r;const o=null!==(t=(0,de.lI)(e))&&void 0!==t?t:Q.E,n=null!==(r=e[0])&&void 0!==r?r:null,a=e[1]||1/0;return(0,L.N)((l,d)=>{let p=[],h=!1;const c=y=>{const{buffer:S,subs:D}=y;D.unsubscribe(),(0,N.o)(p,y),d.next(S),h&&g()},g=()=>{if(p){const y=new U.yU;d.add(y);const D={buffer:[],subs:y};p.push(D),(0,H.N)(y,o,()=>c(D),i)}};null!==n&&n>=0?(0,H.N)(d,o,g,n,!0):h=!0,g();const m=(0,ce._)(d,y=>{const S=p.slice();for(const D of S){const{buffer:T}=D;T.push(y),a<=T.length&&c(D)}},()=>{for(;p?.length;)d.next(p.shift().buffer);m?.unsubscribe(),d.complete(),d.unsubscribe()},void 0,()=>p=null);l.subscribe(m)})}(500),(0,B.p)(n=>n.length>0),(0,F.n)(n=>this.getPreInfo(n)))),this.subscriptionService.addOne((0,_t.R)(this.uppy,"complete"),()=>{this.cancelModal(),this.updateStream.refreshContent()})}setOptions(t){this.uppy.setOptions(t)}giveInvalidFileNameWarning(t){this.uppy.info(this.resource["FileManagement:0002"].replace("{FileName}",t),"error",7e3)}giveExistFileWarning(){this.uppy.info(this.resource.FilesAlreadyExist,"warning",7e3)}checkFilesForUpload(t){this.callPreInfoWithFiles(Object.values(t)).subscribe(r=>{const o=r.filter(n=>!n.hasValidName);if(o.length){const n=o.map(a=>`'${a.fileName}'`).join(", ");this.confirmation.error("FileManagement::NotValidFileNames","",{messageLocalizationParams:[n],hideCancelBtn:!0,yesText:"AbpUi::Ok"})}else{const n=r.filter(a=>a.doesExist);if(n.length){const a=n.map(l=>`'${l.fileName}'`).join(", ");this.confirmation.warn("FileManagement::FilesWillBeOverrided","FileManagement::AreYouSure",{messageLocalizationParams:[a]}).pipe((0,w.s)(1),(0,B.p)(l=>l===ve.m.Status.confirm)).subscribe(l=>this.callUppyUpload())}else this.callUppyUpload()}})}callUppyUpload(){this.filesAlreadyChecked=!0,this.updateXHREndpoint(),this.uppy.upload(),this.filesAlreadyChecked=!1}updateXHREndpoint(){const t=this.updateStream.currentDirectory;this.uppy.getPlugin("XHRUpload").setOptions(t?{endpoint:this.getRawApiUrl()+"?directoryId="+t}:{endpoint:this.getRawApiUrl()})}getRawApiUrl(){return this.environmentService.getApiUrl("FileManagement")+"/api/file-management/file-descriptor/upload"}callPreInfoWithFiles(t){const r=this.updateStream.currentDirectory;return this.fileService.getPreInfo(t.map(o=>({fileName:o.meta.name,size:o.size,directoryId:r})))}findAnyIfExistOrInvalidName(t){return t.reduce((r,o)=>({doesExist:r.doesExist||o.doesExist,hasInvalidName:r.hasInvalidName||!o.hasValidName,fileName:o.hasValidName?r.fileName:o.fileName}),{doesExist:!1,hasInvalidName:!1,fileName:""})}getTranslations(){return{closeModal:this.resource.CloseModal,addMoreFiles:this.resource.AddMoreFiles,addingMoreFiles:this.resource.AddingMoreFiles,importFrom:this.resource.ImportFrom,dashboardWindowTitle:this.resource.DashboardWindowTitle,dashboardTitle:this.resource.DashboardTitle,copyLinkToClipboardSuccess:this.resource.CopyLinkToClipboardSuccess,copyLinkToClipboardFallback:this.resource.CopyLinkToClipboardFallback,copyLink:this.resource.CopyLink,fileSource:this.resource.FileSource,done:this.resource.Done,back:this.resource.Back,removeFile:this.resource.RemoveFile,editFile:this.resource.EditFile,editing:this.resource.Editing,edit:this.resource.Edit,finishEditingFile:this.resource.FinishEditingFile,saveChanges:this.resource.SaveChanges,myDevice:this.resource.MyDevice,dropPasteImport:this.resource.DropPasteImport,dropPaste:this.resource.DropPaste,dropHint:this.resource.DropHint,browse:this.resource.Browse,uploadComplete:this.resource.UploadComplete,uploadPaused:this.resource.UploadPaused,resumeUpload:this.resource.ResumeUpload,pauseUpload:this.resource.PauseUpload,retryUpload:this.resource.RetryUpload,cancelUpload:this.resource.CancelUpload,xFilesSelected:{0:this.resource.FileSelected,1:this.resource.NFileSelected},uploadingXFiles:{0:this.resource.UploadingFile,1:this.resource.NUploadingFile},processingXFiles:{0:this.resource.ProcessingFile,1:this.resource.NProcessingFile},uploading:this.resource.Uploading,complete:this.resource.Complete,uploadFailed:this.resource.UploadFailed,paused:this.resource.Paused,retry:this.resource.Retry,cancel:this.resource.Cancel,filesUploadedOfTotal:{0:this.resource.FileUploadedOfTotal,1:this.resource.NFileUploadedOfTotal},dataUploadedOfTotal:this.resource.DataUploadedOfTotal,xTimeLeft:this.resource.XTimeLeft,uploadXFiles:{0:this.resource.UploadFile,1:this.resource.UploadXFiles},uploadXNewFiles:{0:this.resource.UploadNewFile,1:this.resource.UploadXNewFile}}}ngOnDestroy(){this.uppy.close(),this.subscriptionService.closeAll()}static{this.\u0275fac=function(r){return new(r||i)(s.KVO(v.PiF),s.KVO(Zi),s.KVO(ve.td),s.KVO(Ae),s.KVO(v.iZ2),s.KVO(v.vf1),s.KVO(ui.B3),s.KVO(Mn))}}static{this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}}return i})(),En=(()=>{class i{constructor(t,r,o){this.service=t,this.updateStream=r,this.directoryService=o}create(t,r){const o=vt(r||this.updateStream.currentDirectory);return this.service.create({name:t,parentId:vt(o),extraProperties:{}}).pipe((0,b.M)(n=>{this.directoryService.updateDirectories(o),this.updateStream.patchStore({createdDirectory:o}),this.directoryService.refreshNode({newParentId:o})}))}static{this.\u0275fac=function(r){return new(r||i)(s.KVO(Vt),s.KVO(Ae),s.KVO(pi))}}static{this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}}return i})(),qr=(()=>{class i extends wt{constructor(t,r){super(),this.fb=t,this.service=r,this.form=this.fb.group({name:["",ae.k0.required]})}shouldSave(){return this.form.valid}saveAction(){return this.service.create(this.form.controls.name.value,this.parentId)}clear(){this.form.reset()}static{this.\u0275fac=function(r){return new(r||i)(s.rXU(ae.ze),s.rXU(En))}}static{this.\u0275cmp=s.VBU({type:i,selectors:[["abp-create-folder-modal"]],inputs:{parentId:"parentId"},features:[s.Jv_([En]),s.Vt3],decls:7,vars:5,consts:[["title","CreateFolder",3,"parent"],[3,"keyup.enter","formGroup"],[1,"form-group"],["for","createFolderInput"],["formControlName","name","type","text","id","createFolderInput",1,"form-control"]],template:function(r,o){1&r&&(s.j41(0,"abp-file-management-modal",0)(1,"form",1),s.bIt("keyup.enter",function(){return o.save()}),s.j41(2,"div",2)(3,"label",3),s.EFF(4),s.nI1(5,"abpLocalization"),s.k0s(),s.nrm(6,"input",4),s.k0s()()()),2&r&&(s.Y8G("parent",o.self),s.R7$(),s.Y8G("formGroup",o.form),s.R7$(3),s.SpI("",s.bMT(5,3,"FileManagement::Name")," *"))},dependencies:[ae.qT,ae.me,ae.BC,ae.cb,ae.j4,ae.JD,er.a5,er.lt,wt,v.aM3],encapsulation:2,changeDetection:0})}}return i})();const rh=["upload-folder-title","text-center","mb-1","mt-1","order-first"];let On=(()=>{class i{get titleElement(){return this.document.querySelector("h3.upload-folder-title")}initTitle(){return this.navigatorService.currentFolder$.asObservable().pipe((0,_.T)(({name:t})=>t),(0,b.M)(t=>this.createUploadFolderTitle(t)),(0,_.T)(t=>this.localizationService.instant(this.modalTitle,t)),(0,b.M)(t=>this.renderer.setProperty(this.uploadFolderTitle,"innerText",t)))}createUploadFolderTitle(t){if(this.uppyWrapperParentComponent=this.document.querySelector("div.uppy-Dashboard-innerWrap"),!this.titleElement){const r=this.renderer.createElement("h3");rh.map(o=>this.renderer.addClass(r,o)),t=this.localizationService.instant(this.modalTitle,t),this.renderer.setProperty(r,"innerText",t),this.renderer.appendChild(this.uppyWrapperParentComponent,r)}this.uploadFolderTitle=this.titleElement}constructor(t,r,o,n,a,l,d,p){this.uploadService=t,this.permissionService=r,this.navigatorService=o,this.localizationService=n,this.renderer=a,this.elementRef=l,this.document=d,this.uppyOptions=p,this.subscriptionService=(0,s.WQX)(v.nCQ),this.modalTitle="FileManagement::UploadFileModalTitle",this.folderCreateModal=!1,this.fileCreatePermission="FileManagement.FileDescriptor.Create",this.directoryCreatePermission="FileManagement.DirectoryDescriptor.Create",this.buttonId="upload-files-btn",this.currentFolder=ut}ngAfterViewInit(){const t=this.permissionService.getGrantedPolicy$(this.fileCreatePermission).pipe((0,w.s)(1),(0,b.M)(()=>this.uploadService.initUppy(this.elementRef.nativeElement.querySelector(`#${this.buttonId}`),this.uppyOptions)),(0,F.n)(()=>this.initTitle()));this.subscriptionService.addOne(t)}static{this.\u0275fac=function(r){return new(r||i)(s.rXU(An),s.rXU(v.n1S),s.rXU(ct),s.rXU(v.PiF),s.rXU(s.sFG),s.rXU(s.aKT),s.rXU(M.qQ),s.rXU(he.EK))}}static{this.\u0275cmp=s.VBU({type:i,selectors:[["abp-file-management-buttons"]],decls:3,vars:3,consts:[["class","d-grid","iconClass","fa fa-upload me-2","buttonClass","btn btn-primary mb-2",3,"buttonId",4,"abpPermission"],["class","d-grid","iconClass","fa fa-folder-plus me-2","buttonClass","btn btn-outline-primary mb-4",3,"click",4,"abpPermission"],[3,"visibleChange","visible"],["iconClass","fa fa-upload me-2","buttonClass","btn btn-primary mb-2",1,"d-grid",3,"buttonId"],["iconClass","fa fa-folder-plus me-2","buttonClass","btn btn-outline-primary mb-4",1,"d-grid",3,"click"]],template:function(r,o){1&r&&(s.DNE(0,Lc,3,4,"abp-button",0)(1,jc,3,3,"abp-button",1),s.j41(2,"abp-create-folder-modal",2),s.mxI("visibleChange",function(a){return s.DH7(o.folderCreateModal,a)||(o.folderCreateModal=a),a}),s.k0s()),2&r&&(s.Y8G("abpPermission",o.fileCreatePermission),s.R7$(),s.Y8G("abpPermission",o.directoryCreatePermission),s.R7$(),s.R50("visible",o.folderCreateModal))},dependencies:[v.Dud,ve.Qp,qr,v.aM3],styles:[".uppy-Root{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;box-sizing:border-box;color:#333;font-family:-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Segoe UI Symbol,Segoe UI Emoji,Apple Color Emoji,Roboto,Helvetica,Arial,sans-serif;line-height:1;position:relative;text-align:left}.uppy-Root[dir=rtl],[dir=rtl] .uppy-Root{text-align:right}.uppy-Root *,.uppy-Root :after,.uppy-Root :before{box-sizing:inherit}.uppy-Root [hidden]{display:none}.uppy-u-reset{all:initial;-webkit-appearance:none;appearance:none;box-sizing:border-box;font-family:-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Segoe UI Symbol,Segoe UI Emoji,Apple Color Emoji,Roboto,Helvetica,Arial,sans-serif;line-height:1}[dir=rtl] .uppy-u-reset{text-align:right}.uppy-c-textInput{background-color:#fff;border:1px solid #ddd;border-radius:4px;font-family:inherit;font-size:14px;line-height:1.5;padding:6px 8px}.uppy-size--md .uppy-c-textInput{padding:8px 10px}.uppy-c-textInput:focus{border-color:#1269cf99;box-shadow:0 0 0 3px #1269cf26;outline:none}[data-uppy-theme=dark] .uppy-c-textInput{background-color:#333;border-color:#333;color:#eaeaea}[data-uppy-theme=dark] .uppy-c-textInput:focus{border-color:#525252;box-shadow:none}.uppy-c-icon{fill:currentColor;display:inline-block;max-height:100%;max-width:100%;overflow:hidden}.uppy-c-btn{align-items:center;color:inherit;display:inline-flex;font-family:inherit;font-size:inherit;font-weight:500;justify-content:center;line-height:1;transition-duration:.3s;transition-property:background-color,color;-webkit-user-select:none;user-select:none;white-space:nowrap}.uppy-c-btn,[dir=rtl] .uppy-c-btn{text-align:center}.uppy-c-btn:not(:disabled):not(.disabled){cursor:pointer}.uppy-c-btn::-moz-focus-inner{border:0}.uppy-c-btn-primary{background-color:#1269cf;border-radius:4px;color:#fff;font-size:14px;padding:10px 18px}.uppy-c-btn-primary:hover{background-color:#0e51a0}.uppy-c-btn-primary:focus{box-shadow:0 0 0 3px #1269cf66;outline:none}.uppy-size--md .uppy-c-btn-primary{padding:13px 22px}[data-uppy-theme=dark] .uppy-c-btn-primary{color:#eaeaea}[data-uppy-theme=dark] .uppy-c-btn-primary:focus{outline:none}[data-uppy-theme=dark] .uppy-c-btn-primary::-moz-focus-inner{border:0}[data-uppy-theme=dark] .uppy-c-btn-primary:focus{box-shadow:0 0 0 2px #aae1ffd9}.uppy-c-btn-link{background-color:initial;border-radius:4px;color:#525252;font-size:14px;line-height:1;padding:10px 15px}.uppy-c-btn-link:hover{color:#333}.uppy-c-btn-link:focus{box-shadow:0 0 0 3px #1269cf40;outline:none}.uppy-size--md .uppy-c-btn-link{padding:13px 18px}[data-uppy-theme=dark] .uppy-c-btn-link{color:#eaeaea}[data-uppy-theme=dark] .uppy-c-btn-link:focus{outline:none}[data-uppy-theme=dark] .uppy-c-btn-link::-moz-focus-inner{border:0}[data-uppy-theme=dark] .uppy-c-btn-link:focus{box-shadow:0 0 0 2px #aae1ffd9}[data-uppy-theme=dark] .uppy-c-btn-link:hover{color:#939393}\n","@charset \"UTF-8\";.uppy-Informer{bottom:60px;left:0;position:absolute;right:0;text-align:center;z-index:1005}.uppy-Informer span>div{margin-bottom:6px}.uppy-Informer-animated{opacity:0;transform:translateY(350%);transition:all .3s ease-in;z-index:-1000}.uppy-Informer p{background-color:#757575;border-radius:18px;color:#fff;display:inline-block;font-size:12px;font-weight:400;line-height:1.4;margin:0;max-width:90%;padding:6px 15px}.uppy-size--md .uppy-Informer p{font-size:14px;line-height:1.3;max-width:500px;padding:10px 20px}[data-uppy-theme=dark] .uppy-Informer p{background-color:#333}[dir=ltr] .uppy-Informer p span{left:3px}[dir=rtl] .uppy-Informer p span{right:3px}[dir=ltr] .uppy-Informer p span{margin-left:-1px}[dir=rtl] .uppy-Informer p span{margin-right:-1px}.uppy-Informer p span{background-color:#fff;border-radius:50%;color:#525252;display:inline-block;font-size:10px;height:13px;line-height:12px;position:relative;top:-1px;vertical-align:middle;width:13px}.uppy-Informer p span:hover{cursor:help}.uppy-Informer p span:after{word-wrap:break-word;line-height:1.3}.uppy-Root [aria-label][role~=tooltip]{position:relative}.uppy-Root [aria-label][role~=tooltip]:after,.uppy-Root [aria-label][role~=tooltip]:before{-webkit-backface-visibility:hidden;backface-visibility:hidden;box-sizing:border-box;opacity:0;pointer-events:none;position:absolute;transform:translateZ(0);transform-origin:top;transition:all var(--microtip-transition-duration,.18s) var(--microtip-transition-easing,ease-in-out) var(--microtip-transition-delay,0s);will-change:transform;z-index:10}.uppy-Root [aria-label][role~=tooltip]:before{background-size:100% auto!important;content:\"\"}.uppy-Root [aria-label][role~=tooltip]:after{background:#111111e6;border-radius:4px;box-sizing:initial;color:#fff;content:attr(aria-label);font-size:var(--microtip-font-size,13px);font-weight:var(--microtip-font-weight,normal);padding:.5em 1em;text-transform:var(--microtip-text-transform,none);white-space:nowrap}.uppy-Root [aria-label][role~=tooltip]:focus:after,.uppy-Root [aria-label][role~=tooltip]:focus:before,.uppy-Root [aria-label][role~=tooltip]:hover:after,.uppy-Root [aria-label][role~=tooltip]:hover:before{opacity:1;pointer-events:auto}.uppy-Root [role~=tooltip][data-microtip-position|=top]:before{background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='36' height='12'%3E%3Cpath fill='rgba(17, 17, 17, 0.9)' d='M2.658 0h32.004c-6 0-11.627 12.002-16.002 12.002C14.285 12.002 8.594 0 2.658 0Z'/%3E%3C/svg%3E\") no-repeat;bottom:100%;height:6px;left:50%;margin-bottom:5px;transform:translate3d(-50%,0,0);width:18px}.uppy-Root [role~=tooltip][data-microtip-position|=top]:after{bottom:100%;left:50%;margin-bottom:11px;transform:translate3d(-50%,0,0)}.uppy-Root [role~=tooltip][data-microtip-position=top]:hover:after,.uppy-Root [role~=tooltip][data-microtip-position|=top]:hover:before{transform:translate3d(-50%,-5px,0)}.uppy-Root [role~=tooltip][data-microtip-position=top-left]:after{bottom:100%;transform:translate3d(calc(-100% + 16px),0,0)}.uppy-Root [role~=tooltip][data-microtip-position=top-left]:hover:after{transform:translate3d(calc(-100% + 16px),-5px,0)}.uppy-Root [role~=tooltip][data-microtip-position=top-right]:after{bottom:100%;transform:translate3d(-16px,0,0)}.uppy-Root [role~=tooltip][data-microtip-position=top-right]:hover:after{transform:translate3d(-16px,-5px,0)}.uppy-Root [role~=tooltip][data-microtip-position|=bottom]:before{background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='36' height='12'%3E%3Cpath fill='rgba(17, 17, 17, 0.9)' d='M33.342 12H1.338c6 0 11.627-12.002 16.002-12.002C21.715-.002 27.406 12 33.342 12Z'/%3E%3C/svg%3E\") no-repeat;bottom:auto;height:6px;left:50%;margin-bottom:0;margin-top:5px;top:100%;transform:translate3d(-50%,-10px,0);width:18px}.uppy-Root [role~=tooltip][data-microtip-position|=bottom]:after{left:50%;margin-top:11px;top:100%;transform:translate3d(-50%,-10px,0)}.uppy-Root [role~=tooltip][data-microtip-position=bottom]:hover:after,.uppy-Root [role~=tooltip][data-microtip-position|=bottom]:hover:before{transform:translate3d(-50%,0,0)}.uppy-Root [role~=tooltip][data-microtip-position=bottom-left]:after{top:100%;transform:translate3d(calc(-100% + 16px),-10px,0)}.uppy-Root [role~=tooltip][data-microtip-position=bottom-left]:hover:after{transform:translate3d(calc(-100% + 16px),0,0)}.uppy-Root [role~=tooltip][data-microtip-position=bottom-right]:after{top:100%;transform:translate3d(-16px,-10px,0)}.uppy-Root [role~=tooltip][data-microtip-position=bottom-right]:hover:after{transform:translate3d(-16px,0,0)}.uppy-Root [role~=tooltip][data-microtip-position=left]:after,.uppy-Root [role~=tooltip][data-microtip-position=left]:before{inset:50% 100% auto auto;transform:translate3d(10px,-50%,0)}.uppy-Root [role~=tooltip][data-microtip-position=left]:before{background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='36'%3E%3Cpath fill='rgba(17, 17, 17, 0.9)' d='M0 33.342V1.338c0 6 12.002 11.627 12.002 16.002C12.002 21.715 0 27.406 0 33.342Z'/%3E%3C/svg%3E\") no-repeat;height:18px;margin-bottom:0;margin-right:5px;width:6px}.uppy-Root [role~=tooltip][data-microtip-position=left]:after{margin-right:11px}.uppy-Root [role~=tooltip][data-microtip-position=left]:hover:after,.uppy-Root [role~=tooltip][data-microtip-position=left]:hover:before{transform:translate3d(0,-50%,0)}.uppy-Root [role~=tooltip][data-microtip-position=right]:after,.uppy-Root [role~=tooltip][data-microtip-position=right]:before{bottom:auto;left:100%;top:50%;transform:translate3d(-10px,-50%,0)}.uppy-Root [role~=tooltip][data-microtip-position=right]:before{background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='36'%3E%3Cpath fill='rgba(17, 17, 17, 0.9)' d='M12 2.658v32.004c0-6-12.002-11.627-12.002-16.002C-.002 14.285 12 8.594 12 2.658Z'/%3E%3C/svg%3E\") no-repeat;height:18px;margin-bottom:0;margin-left:5px;width:6px}.uppy-Root [role~=tooltip][data-microtip-position=right]:after{margin-left:11px}.uppy-Root [role~=tooltip][data-microtip-position=right]:hover:after,.uppy-Root [role~=tooltip][data-microtip-position=right]:hover:before{transform:translate3d(0,-50%,0)}.uppy-Root [role~=tooltip][data-microtip-size=small]:after{white-space:normal;width:80px}.uppy-Root [role~=tooltip][data-microtip-size=medium]:after{white-space:normal;width:150px}.uppy-Root [role~=tooltip][data-microtip-size=large]:after{white-space:normal;width:260px}.uppy-StatusBar{background-color:#fff;color:#fff;display:flex;font-size:12px;font-weight:400;height:46px;line-height:40px;position:relative;transition:height .2s;z-index:1001}[data-uppy-theme=dark] .uppy-StatusBar{background-color:#1f1f1f}.uppy-StatusBar:before{background-color:#eaeaea;content:\"\";height:2px;inset:0;position:absolute;width:100%}[data-uppy-theme=dark] .uppy-StatusBar:before{background-color:#757575}.uppy-StatusBar[aria-hidden=true]{height:0;overflow-y:hidden}.uppy-StatusBar.is-complete .uppy-StatusBar-progress{background-color:#1bb240}.uppy-StatusBar.is-error .uppy-StatusBar-progress{background-color:#e32437}.uppy-StatusBar.is-complete .uppy-StatusBar-statusIndicator{color:#1bb240}.uppy-StatusBar.is-error .uppy-StatusBar-statusIndicator{color:#e32437}.uppy-StatusBar:not([aria-hidden=true]).is-waiting{background-color:#fff;border-top:1px solid #eaeaea;height:65px}[data-uppy-theme=dark] .uppy-StatusBar:not([aria-hidden=true]).is-waiting{background-color:#1f1f1f;border-top:1px solid #333}.uppy-StatusBar-progress{background-color:#1269cf;height:2px;position:absolute;transition:background-color,width .3s ease-out;z-index:1001}.uppy-StatusBar-progress.is-indeterminate{animation:uppy-StatusBar-ProgressStripes 1s linear infinite;background-image:linear-gradient(45deg,#0000004d 25%,#0000 0 50%,#0000004d 0 75%,#0000 0,#0000);background-size:64px 64px}@keyframes uppy-StatusBar-ProgressStripes{0%{background-position:0 0}to{background-position:64px 0}}.uppy-StatusBar.is-postprocessing .uppy-StatusBar-progress,.uppy-StatusBar.is-preprocessing .uppy-StatusBar-progress{background-color:#f6a623}.uppy-StatusBar.is-waiting .uppy-StatusBar-progress{display:none}[dir=ltr] .uppy-StatusBar-content{padding-left:10px}[dir=rtl] .uppy-StatusBar-content{padding-right:10px}.uppy-StatusBar-content{align-items:center;color:#333;display:flex;height:100%;position:relative;text-overflow:ellipsis;white-space:nowrap;z-index:1002}[dir=ltr] .uppy-size--md .uppy-StatusBar-content{padding-left:15px}[dir=rtl] .uppy-size--md .uppy-StatusBar-content{padding-right:15px}[data-uppy-theme=dark] .uppy-StatusBar-content{color:#eaeaea}[dir=ltr] .uppy-StatusBar-status{padding-right:.3em}[dir=rtl] .uppy-StatusBar-status{padding-left:.3em}.uppy-StatusBar-status{display:flex;flex-direction:column;font-weight:400;justify-content:center;line-height:1.4}.uppy-StatusBar-statusPrimary{display:flex;font-weight:500;line-height:1}.uppy-StatusBar-statusPrimary button.uppy-StatusBar-details{margin-left:5px}[data-uppy-theme=dark] .uppy-StatusBar-statusPrimary{color:#eaeaea}.uppy-StatusBar-statusSecondary{color:#757575;display:inline-block;font-size:11px;line-height:1.2;margin-top:1px;white-space:nowrap}[data-uppy-theme=dark] .uppy-StatusBar-statusSecondary{color:#bbb}[dir=ltr] .uppy-StatusBar-statusSecondaryHint{margin-right:5px}[dir=rtl] .uppy-StatusBar-statusSecondaryHint{margin-left:5px}.uppy-StatusBar-statusSecondaryHint{display:inline-block;line-height:1;vertical-align:middle}[dir=ltr] .uppy-size--md .uppy-StatusBar-statusSecondaryHint{margin-right:8px}[dir=rtl] .uppy-size--md .uppy-StatusBar-statusSecondaryHint{margin-left:8px}[dir=ltr] .uppy-StatusBar-statusIndicator{margin-right:7px}[dir=rtl] .uppy-StatusBar-statusIndicator{margin-left:7px}.uppy-StatusBar-statusIndicator{color:#525252;position:relative;top:1px}.uppy-StatusBar-statusIndicator svg{vertical-align:text-bottom}[dir=ltr] .uppy-StatusBar-actions{right:10px}[dir=rtl] .uppy-StatusBar-actions{left:10px}.uppy-StatusBar-actions{align-items:center;bottom:0;display:flex;position:absolute;top:0;z-index:1004}.uppy-StatusBar.is-waiting .uppy-StatusBar-actions{background-color:#fafafa;height:100%;padding:0 15px;position:static;width:100%}[data-uppy-theme=dark] .uppy-StatusBar.is-waiting .uppy-StatusBar-actions{background-color:#1f1f1f}.uppy-StatusBar:not([aria-hidden=true]).is-waiting.has-ghosts{flex-direction:column;height:90px}.uppy-size--md .uppy-StatusBar:not([aria-hidden=true]).is-waiting.has-ghosts{flex-direction:row;height:65px}.uppy-StatusBar:not([aria-hidden=true]).is-waiting.has-ghosts .uppy-StatusBar-actions{flex-direction:column;justify-content:center}.uppy-size--md .uppy-StatusBar:not([aria-hidden=true]).is-waiting.has-ghosts .uppy-StatusBar-actions{flex-direction:row;justify-content:normal}.uppy-StatusBar-actionCircleBtn{cursor:pointer;line-height:1;margin:3px;opacity:.9}.uppy-StatusBar-actionCircleBtn:focus{outline:none}.uppy-StatusBar-actionCircleBtn::-moz-focus-inner{border:0}.uppy-StatusBar-actionCircleBtn:focus{box-shadow:0 0 0 3px #1269cf80}[data-uppy-theme=dark] .uppy-StatusBar-actionCircleBtn:focus{outline:none}[data-uppy-theme=dark] .uppy-StatusBar-actionCircleBtn::-moz-focus-inner{border:0}[data-uppy-theme=dark] .uppy-StatusBar-actionCircleBtn:focus{box-shadow:0 0 0 2px #aae1ffd9}.uppy-StatusBar-actionCircleBtn:hover{opacity:1}.uppy-StatusBar-actionCircleBtn:focus{border-radius:50%}.uppy-StatusBar-actionCircleBtn svg{vertical-align:bottom}.uppy-StatusBar-actionBtn{color:#1269cf;display:inline-block;font-size:10px;line-height:inherit;vertical-align:middle}.uppy-size--md .uppy-StatusBar-actionBtn{font-size:11px}.uppy-StatusBar-actionBtn--disabled{opacity:.4}[data-uppy-theme=dark] .uppy-StatusBar-actionBtn--disabled{opacity:.7}[dir=ltr] .uppy-StatusBar-actionBtn--retry{margin-right:6px}[dir=rtl] .uppy-StatusBar-actionBtn--retry{margin-left:6px}.uppy-StatusBar-actionBtn--retry{background-color:#ff4b23;border-radius:8px;color:#fff;height:16px;line-height:1;padding:1px 6px 3px 18px;position:relative}.uppy-StatusBar-actionBtn--retry:focus{outline:none}.uppy-StatusBar-actionBtn--retry::-moz-focus-inner{border:0}.uppy-StatusBar-actionBtn--retry:focus{box-shadow:0 0 0 3px #1269cf80}[data-uppy-theme=dark] .uppy-StatusBar-actionBtn--retry:focus{outline:none}[data-uppy-theme=dark] .uppy-StatusBar-actionBtn--retry::-moz-focus-inner{border:0}[data-uppy-theme=dark] .uppy-StatusBar-actionBtn--retry:focus{box-shadow:0 0 0 2px #aae1ffd9}.uppy-StatusBar-actionBtn--retry:hover{background-color:#f92d00}[dir=ltr] .uppy-StatusBar-actionBtn--retry svg{left:6px}[dir=rtl] .uppy-StatusBar-actionBtn--retry svg{right:6px}.uppy-StatusBar-actionBtn--retry svg{position:absolute;top:3px}.uppy-StatusBar.is-waiting .uppy-StatusBar-actionBtn--upload{background-color:#1bb240;color:#fff;font-size:14px;line-height:1;padding:15px 10px;width:100%}.uppy-StatusBar.is-waiting .uppy-StatusBar-actionBtn--upload:hover{background-color:#189c38}[data-uppy-theme=dark] .uppy-StatusBar.is-waiting .uppy-StatusBar-actionBtn--upload{background-color:#1c8b37}[data-uppy-theme=dark] .uppy-StatusBar.is-waiting .uppy-StatusBar-actionBtn--upload:hover{background-color:#18762f}.uppy-size--md .uppy-StatusBar.is-waiting .uppy-StatusBar-actionBtn--upload{padding:13px 22px;width:auto}.uppy-StatusBar.is-waiting .uppy-StatusBar-actionBtn--upload.uppy-StatusBar-actionBtn--disabled:hover{background-color:#1bb240;cursor:not-allowed}[data-uppy-theme=dark] .uppy-StatusBar.is-waiting .uppy-StatusBar-actionBtn--upload.uppy-StatusBar-actionBtn--disabled:hover{background-color:#1c8b37}.uppy-StatusBar:not(.is-waiting) .uppy-StatusBar-actionBtn--upload{background-color:initial;color:#1269cf}[dir=ltr] .uppy-StatusBar-actionBtn--uploadNewlyAdded{padding-right:3px}[dir=ltr] .uppy-StatusBar-actionBtn--uploadNewlyAdded,[dir=rtl] .uppy-StatusBar-actionBtn--uploadNewlyAdded{padding-left:3px}[dir=rtl] .uppy-StatusBar-actionBtn--uploadNewlyAdded{padding-right:3px}.uppy-StatusBar-actionBtn--uploadNewlyAdded{border-radius:3px;padding-bottom:1px}.uppy-StatusBar-actionBtn--uploadNewlyAdded:focus{outline:none}.uppy-StatusBar-actionBtn--uploadNewlyAdded::-moz-focus-inner{border:0}.uppy-StatusBar-actionBtn--uploadNewlyAdded:focus{box-shadow:0 0 0 3px #1269cf80}[data-uppy-theme=dark] .uppy-StatusBar-actionBtn--uploadNewlyAdded:focus{outline:none}[data-uppy-theme=dark] .uppy-StatusBar-actionBtn--uploadNewlyAdded::-moz-focus-inner{border:0}[data-uppy-theme=dark] .uppy-StatusBar-actionBtn--uploadNewlyAdded:focus{box-shadow:0 0 0 2px #aae1ffd9}.uppy-StatusBar.is-postprocessing .uppy-StatusBar-actionBtn--uploadNewlyAdded,.uppy-StatusBar.is-preprocessing .uppy-StatusBar-actionBtn--uploadNewlyAdded{display:none}.uppy-StatusBar-actionBtn--done{border-radius:3px;line-height:1;padding:7px 8px}.uppy-StatusBar-actionBtn--done:focus{outline:none}.uppy-StatusBar-actionBtn--done::-moz-focus-inner{border:0}.uppy-StatusBar-actionBtn--done:hover{color:#0e51a0}.uppy-StatusBar-actionBtn--done:focus{background-color:#dfe6f1}[data-uppy-theme=dark] .uppy-StatusBar-actionBtn--done:focus{background-color:#333}[data-uppy-theme=dark] .uppy-StatusBar-actionBtn--done{color:#02baf2}.uppy-size--md .uppy-StatusBar-actionBtn--done{font-size:14px}.uppy-StatusBar-serviceMsg{color:#000;font-size:11px;line-height:1.1;padding-left:10px}.uppy-size--md .uppy-StatusBar-serviceMsg{font-size:14px;padding-left:15px}[data-uppy-theme=dark] .uppy-StatusBar-serviceMsg{color:#eaeaea}.uppy-StatusBar-serviceMsg-ghostsIcon{left:6px;opacity:.5;position:relative;top:2px;vertical-align:text-bottom;width:10px}.uppy-size--md .uppy-StatusBar-serviceMsg-ghostsIcon{left:10px;top:1px;width:15px}[dir=ltr] .uppy-StatusBar-details{left:2px}[dir=rtl] .uppy-StatusBar-details{right:2px}.uppy-StatusBar-details{-webkit-appearance:none;appearance:none;background-color:#939393;border-radius:50%;color:#fff;cursor:help;display:inline-block;font-size:10px;font-weight:600;height:13px;line-height:12px;position:relative;text-align:center;top:0;vertical-align:middle;width:13px}.uppy-StatusBar-details:after{word-wrap:break-word;line-height:1.3}[dir=ltr] .uppy-StatusBar-spinner{margin-right:10px}[dir=rtl] .uppy-StatusBar-spinner{margin-left:10px}.uppy-StatusBar-spinner{fill:#1269cf;animation-duration:1s;animation-iteration-count:infinite;animation-name:uppy-StatusBar-spinnerAnimation;animation-timing-function:linear}.uppy-StatusBar.is-postprocessing .uppy-StatusBar-spinner,.uppy-StatusBar.is-preprocessing .uppy-StatusBar-spinner{fill:#f6a623}@keyframes uppy-StatusBar-spinnerAnimation{0%{transform:rotate(0)}to{transform:rotate(1turn)}}.uppy-ProviderBrowser-viewType--grid ul.uppy-ProviderBrowser-list,.uppy-ProviderBrowser-viewType--unsplash ul.uppy-ProviderBrowser-list{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between;padding:6px}.uppy-ProviderBrowser-viewType--grid ul.uppy-ProviderBrowser-list:after,.uppy-ProviderBrowser-viewType--unsplash ul.uppy-ProviderBrowser-list:after{content:\"\";flex:auto}.uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem,.uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem{margin:0;position:relative;width:50%}.uppy-size--md .uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem,.uppy-size--md .uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem{width:33.3333%}.uppy-size--lg .uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem,.uppy-size--lg .uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem{width:25%}.uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem:before,.uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem:before{content:\"\";display:block;padding-top:100%}.uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem--selected img,.uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem--selected svg,.uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem--selected img,.uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem--selected svg{opacity:.85}.uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem--disabled,.uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem--disabled{opacity:.5}.uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem--noPreview .uppy-ProviderBrowserItem-inner,.uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem--noPreview .uppy-ProviderBrowserItem-inner{background-color:#93939333}[data-uppy-theme=dark] .uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem--noPreview .uppy-ProviderBrowserItem-inner,[data-uppy-theme=dark] .uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem--noPreview .uppy-ProviderBrowserItem-inner{background-color:#eaeaea33}.uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem--noPreview svg,.uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem--noPreview svg{fill:#000000b3;height:30%;width:30%}[data-uppy-theme=dark] .uppy-ProviderBrowser-viewType--grid li.uppy-ProviderBrowserItem--noPreview svg,[data-uppy-theme=dark] .uppy-ProviderBrowser-viewType--unsplash li.uppy-ProviderBrowserItem--noPreview svg{fill:#fffc}.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-inner,.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-inner{border-radius:4px;height:calc(100% - 14px);inset:7px;overflow:hidden;position:absolute;text-align:center;width:calc(100% - 14px)}@media (hover:none){.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-inner .uppy-ProviderBrowserItem-author,.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-inner .uppy-ProviderBrowserItem-author{display:block}}[data-uppy-theme=dark] .uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-inner,[data-uppy-theme=dark] .uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-inner{box-shadow:0 0 0 3px #aae1ffb3}.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-inner img,.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-inner img{border-radius:4px;height:100%;object-fit:cover;width:100%}.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-author,.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-author{background:#0000004d;bottom:0;color:#fff;display:none;font-size:12px;font-weight:500;left:0;margin:0;padding:5px;position:absolute;text-decoration:none;width:100%}.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-author:hover,.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-author:hover{background:#0006;text-decoration:underline}.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-checkbox,.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-checkbox{background-color:#1269cf;border-radius:50%;height:26px;opacity:0;position:absolute;right:16px;top:16px;width:26px;z-index:1002}[dir=ltr] .uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-checkbox:after,[dir=ltr] .uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-checkbox:after{left:7px}[dir=rtl] .uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-checkbox:after,[dir=rtl] .uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-checkbox:after{right:7px}.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-checkbox:after,.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-checkbox:after{height:7px;top:8px;width:12px}.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-checkbox--is-checked,.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-checkbox--is-checked{opacity:1}.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-checkbox--grid:focus+label .uppy-ProviderBrowserItem-author,.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-checkbox--grid:hover+label .uppy-ProviderBrowserItem-author,.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-checkbox--grid:focus+label .uppy-ProviderBrowserItem-author,.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-checkbox--grid:hover+label .uppy-ProviderBrowserItem-author{display:block}.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-checkbox--grid:focus+label,.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-checkbox--grid:focus+label{box-shadow:0 0 0 3px #1269cf80}.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-checkbox--grid:focus+label:focus,.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-checkbox--grid:focus+label:focus{outline:none}.uppy-ProviderBrowser-viewType--grid .uppy-ProviderBrowserItem-checkbox--grid:focus+label::-moz-focus-inner,.uppy-ProviderBrowser-viewType--unsplash .uppy-ProviderBrowserItem-checkbox--grid:focus+label::-moz-focus-inner{border:0}.uppy-ProviderBrowser-viewType--list{background-color:#fff}[data-uppy-theme=dark] .uppy-ProviderBrowser-viewType--list{background-color:#1f1f1f}.uppy-ProviderBrowser-viewType--list li.uppy-ProviderBrowserItem{align-items:center;display:flex;margin:0;padding:7px 15px}[data-uppy-theme=dark] .uppy-ProviderBrowser-viewType--list li.uppy-ProviderBrowserItem{color:#eaeaea}.uppy-ProviderBrowser-viewType--list li.uppy-ProviderBrowserItem--disabled{opacity:.6}[dir=ltr] .uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-checkbox{margin-right:15px}[dir=rtl] .uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-checkbox{margin-left:15px}.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-checkbox{background-color:#fff;border:1px solid #cfcfcf;border-radius:3px;height:17px;width:17px}.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-checkbox:focus{border:1px solid #1269cf;box-shadow:0 0 0 3px #1269cf40;outline:none}[dir=ltr] .uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-checkbox:after{left:3px}[dir=rtl] .uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-checkbox:after{right:3px}.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-checkbox:after{height:5px;opacity:0;top:4px;width:9px}[data-uppy-theme=dark] .uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-checkbox:focus{border-color:#02baf2b3;box-shadow:0 0 0 3px #02baf233}.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-checkbox--is-checked{background-color:#1269cf;border-color:#1269cf}.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-checkbox--is-checked:after{opacity:1}.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-inner{align-items:center;color:inherit;display:flex;font-family:-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Segoe UI Symbol,Segoe UI Emoji,Apple Color Emoji,Roboto,Helvetica,Arial,sans-serif;overflow:hidden;padding:2px;text-overflow:ellipsis;white-space:nowrap}.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-inner:focus{outline:none;text-decoration:underline}[dir=ltr] .uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-inner img,[dir=ltr] .uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-inner svg{margin-right:8px}[dir=rtl] .uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-inner img,[dir=rtl] .uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-inner svg{margin-left:8px}.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-inner span{line-height:1.2;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem--disabled .uppy-ProviderBrowserItem-inner{cursor:default}[dir=ltr] .uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-iconWrap{margin-right:7px}[dir=rtl] .uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-iconWrap{margin-left:7px}.uppy-ProviderBrowser-viewType--list .uppy-ProviderBrowserItem-iconWrap{width:20px}.uppy-ProviderBrowserItem-checkbox{cursor:pointer;flex-shrink:0;position:relative}.uppy-ProviderBrowserItem-checkbox:disabled{cursor:default}.uppy-ProviderBrowserItem-checkbox:after{border-bottom:2px solid #eaeaea;border-left:2px solid #eaeaea;content:\"\";cursor:pointer;position:absolute;transform:rotate(-45deg)}.uppy-ProviderBrowserItem-checkbox:disabled:after{cursor:default}[data-uppy-theme=dark] .uppy-ProviderBrowserItem-checkbox{background-color:#1f1f1f;border-color:#939393}[data-uppy-theme=dark] .uppy-ProviderBrowserItem-checkbox--is-checked{background-color:#333}.uppy-SearchProvider{align-items:center;display:flex;flex:1;flex-direction:column;height:100%;justify-content:center;width:100%}[data-uppy-theme=dark] .uppy-SearchProvider{background-color:#1f1f1f}.uppy-SearchProvider-input{margin-bottom:15px;max-width:650px;width:90%}.uppy-size--md .uppy-SearchProvider-input{margin-bottom:20px}.uppy-SearchProvider-input::-webkit-search-cancel-button{display:none}.uppy-SearchProvider-searchButton{padding:13px 25px}.uppy-size--md .uppy-SearchProvider-searchButton{padding:13px 30px}.uppy-DashboardContent-panelBody{align-items:center;display:flex;flex:1;justify-content:center}[data-uppy-theme=dark] .uppy-DashboardContent-panelBody{background-color:#1f1f1f}.uppy-Provider-auth,.uppy-Provider-empty,.uppy-Provider-error,.uppy-Provider-loading{align-items:center;color:#939393;display:flex;flex:1;flex-flow:column wrap;justify-content:center}.uppy-Provider-empty{color:#939393}.uppy-Provider-authIcon svg{height:75px;width:100px}.uppy-Provider-authTitle{color:#757575;font-size:17px;font-weight:400;line-height:1.4;margin-bottom:30px;max-width:500px;padding:0 15px;text-align:center}.uppy-size--md .uppy-Provider-authTitle{font-size:20px}[data-uppy-theme=dark] .uppy-Provider-authTitle{color:#cfcfcf}.uppy-Provider-btn-google{align-items:center;background:#4285f4;display:flex;padding:8px 12px!important}.uppy-Provider-btn-google:hover{background-color:#1266f1}.uppy-Provider-btn-google:focus{box-shadow:0 0 0 3px #4285f466;outline:none}.uppy-Provider-btn-google svg{margin-right:8px}[dir=ltr] .uppy-Provider-breadcrumbs{text-align:left}[dir=rtl] .uppy-Provider-breadcrumbs{text-align:right}.uppy-Provider-breadcrumbs{color:#525252;flex:1;font-size:12px;margin-bottom:10px}.uppy-size--md .uppy-Provider-breadcrumbs{margin-bottom:0}[data-uppy-theme=dark] .uppy-Provider-breadcrumbs{color:#eaeaea}[dir=ltr] .uppy-Provider-breadcrumbsIcon{margin-right:4px}[dir=rtl] .uppy-Provider-breadcrumbsIcon{margin-left:4px}.uppy-Provider-breadcrumbsIcon{color:#525252;display:inline-block;line-height:1;vertical-align:middle}.uppy-Provider-breadcrumbsIcon svg{fill:#525252;height:13px;width:13px}.uppy-Provider-breadcrumbs button{border-radius:3px;display:inline-block;line-height:inherit;padding:4px}.uppy-Provider-breadcrumbs button:focus{outline:none}.uppy-Provider-breadcrumbs button::-moz-focus-inner{border:0}.uppy-Provider-breadcrumbs button:hover{color:#0e51a0}.uppy-Provider-breadcrumbs button:focus{background-color:#dfe6f1}[data-uppy-theme=dark] .uppy-Provider-breadcrumbs button:focus{background-color:#333}.uppy-Provider-breadcrumbs button:not(:last-of-type){text-decoration:underline}.uppy-Provider-breadcrumbs button:last-of-type{color:#333;cursor:normal;font-weight:500;pointer-events:none}.uppy-Provider-breadcrumbs button:hover{cursor:pointer}[data-uppy-theme=dark] .uppy-Provider-breadcrumbs button{color:#eaeaea}.uppy-ProviderBrowser{display:flex;flex:1;flex-direction:column;font-size:14px;font-weight:400;height:100%}.uppy-ProviderBrowser-user{color:#333;font-weight:500;margin:0 8px 0 0}[data-uppy-theme=dark] .uppy-ProviderBrowser-user{color:#eaeaea}[dir=ltr] .uppy-ProviderBrowser-user:after{left:4px}[dir=rtl] .uppy-ProviderBrowser-user:after{right:4px}.uppy-ProviderBrowser-user:after{color:#939393;content:\"\\b7\";font-weight:400;position:relative}.uppy-ProviderBrowser-header{border-bottom:1px solid #eaeaea;position:relative;z-index:1001}[data-uppy-theme=dark] .uppy-ProviderBrowser-header{border-bottom:1px solid #333}.uppy-ProviderBrowser-headerBar{background-color:#fafafa;color:#757575;font-size:12px;line-height:1.4;padding:7px 15px;z-index:1001}.uppy-size--md .uppy-ProviderBrowser-headerBar{align-items:center;display:flex}[data-uppy-theme=dark] .uppy-ProviderBrowser-headerBar{background-color:#1f1f1f}.uppy-ProviderBrowser-headerBar--simple{display:block;justify-content:center;text-align:center}.uppy-ProviderBrowser-headerBar--simple .uppy-Provider-breadcrumbsWrap{display:inline-block;flex:none;vertical-align:middle}.uppy-ProviderBrowser-searchFilter{align-items:center;display:flex;height:30px;margin-bottom:15px;margin-top:15px;padding-left:8px;padding-right:8px;position:relative;width:100%}[dir=ltr] .uppy-ProviderBrowser-searchFilterInput{padding-left:30px}[dir=ltr] .uppy-ProviderBrowser-searchFilterInput,[dir=rtl] .uppy-ProviderBrowser-searchFilterInput{padding-right:30px}[dir=rtl] .uppy-ProviderBrowser-searchFilterInput{padding-left:30px}.uppy-ProviderBrowser-searchFilterInput{background-color:#eaeaea;border:0;border-radius:4px;color:#333;font-family:-apple-system,system-ui,BlinkMacSystemFont,Segoe UI,Segoe UI Symbol,Segoe UI Emoji,Apple Color Emoji,Roboto,Helvetica,Arial,sans-serif;font-size:13px;height:30px;line-height:1.4;outline:0;width:100%;z-index:1001}.uppy-ProviderBrowser-searchFilterInput::-webkit-search-cancel-button{display:none}[data-uppy-theme=dark] .uppy-ProviderBrowser-searchFilterInput{background-color:#1f1f1f;color:#eaeaea}.uppy-ProviderBrowser-searchFilterInput:focus{background-color:#cfcfcf;border:0}[data-uppy-theme=dark] .uppy-ProviderBrowser-searchFilterInput:focus{background-color:#333}[dir=ltr] .uppy-ProviderBrowser-searchFilterIcon{left:16px}[dir=rtl] .uppy-ProviderBrowser-searchFilterIcon{right:16px}.uppy-ProviderBrowser-searchFilterIcon{color:#757575;height:12px;position:absolute;width:12px;z-index:1002}.uppy-ProviderBrowser-searchFilterInput::placeholder{color:#939393;opacity:1}[dir=ltr] .uppy-ProviderBrowser-searchFilterReset{right:16px}[dir=rtl] .uppy-ProviderBrowser-searchFilterReset{left:16px}.uppy-ProviderBrowser-searchFilterReset{border-radius:3px;color:#939393;cursor:pointer;height:22px;padding:6px;position:absolute;width:22px;z-index:1002}.uppy-ProviderBrowser-searchFilterReset:focus{outline:none}.uppy-ProviderBrowser-searchFilterReset::-moz-focus-inner{border:0}.uppy-ProviderBrowser-searchFilterReset:focus{box-shadow:0 0 0 3px #1269cf80}.uppy-ProviderBrowser-searchFilterReset:hover{color:#757575}.uppy-ProviderBrowser-searchFilterReset svg{vertical-align:text-top}.uppy-ProviderBrowser-userLogout{border-radius:3px;color:#1269cf;cursor:pointer;line-height:inherit;padding:4px}.uppy-ProviderBrowser-userLogout:focus{outline:none}.uppy-ProviderBrowser-userLogout::-moz-focus-inner{border:0}.uppy-ProviderBrowser-userLogout:hover{color:#0e51a0}.uppy-ProviderBrowser-userLogout:focus{background-color:#dfe6f1}[data-uppy-theme=dark] .uppy-ProviderBrowser-userLogout:focus{background-color:#333}.uppy-ProviderBrowser-userLogout:hover{text-decoration:underline}[data-uppy-theme=dark] .uppy-ProviderBrowser-userLogout{color:#eaeaea}.uppy-ProviderBrowser-body{flex:1;position:relative}.uppy-ProviderBrowser-list{-webkit-overflow-scrolling:touch;background-color:#fff;border-spacing:0;display:block;flex:1;height:100%;inset:0;list-style:none;margin:0;overflow-x:hidden;overflow-y:auto;padding:0;position:absolute;width:100%}[data-uppy-theme=dark] .uppy-ProviderBrowser-list{background-color:#1f1f1f}.uppy-ProviderBrowser-list:focus{outline:none}.uppy-ProviderBrowserItem-inner{cursor:pointer;font-size:13px;font-weight:500}.uppy-ProviderBrowser-footer{align-items:center;background-color:#fff;border-top:1px solid #eaeaea;display:flex;height:65px;padding:0 15px}[dir=ltr] .uppy-ProviderBrowser-footer button{margin-right:8px}[dir=rtl] .uppy-ProviderBrowser-footer button{margin-left:8px}[data-uppy-theme=dark] .uppy-ProviderBrowser-footer{background-color:#1f1f1f;border-top:1px solid #333}.uppy-Dashboard-Item-previewInnerWrap{align-items:center;border-radius:3px;box-shadow:0 0 2px #0006;display:flex;flex-direction:column;height:100%;justify-content:center;overflow:hidden;position:relative;width:100%}.uppy-size--md .uppy-Dashboard-Item-previewInnerWrap{box-shadow:0 1px 2px #00000026}.uppy-Dashboard--singleFile .uppy-Dashboard-Item-previewInnerWrap{box-shadow:none}.uppy-Dashboard-Item-previewInnerWrap:after{background-color:#000000a6;content:\"\";display:none;inset:0;position:absolute;z-index:1001}.uppy-Dashboard-Item-previewLink{inset:0;position:absolute;z-index:1002}.uppy-Dashboard-Item-previewLink:focus{box-shadow:inset 0 0 0 3px #579df0}[data-uppy-theme=dark] .uppy-Dashboard-Item-previewLink:focus{box-shadow:inset 0 0 0 3px #016c8d}.uppy-Dashboard-Item-preview img.uppy-Dashboard-Item-previewImg{border-radius:3px;height:100%;object-fit:cover;transform:translateZ(0);width:100%}.uppy-Dashboard--singleFile .uppy-Dashboard-Item-preview img.uppy-Dashboard-Item-previewImg{height:auto;max-height:100%;max-width:100%;object-fit:contain;padding:10px;width:auto}.uppy-Dashboard-Item-progress{color:#fff;left:50%;position:absolute;text-align:center;top:50%;transform:translate(-50%,-50%);transition:all .35 ease;width:120px;z-index:1002}.uppy-Dashboard-Item-progressIndicator{color:#fff;display:inline-block;height:38px;opacity:.9;width:38px}.uppy-size--md .uppy-Dashboard-Item-progressIndicator{height:55px;width:55px}button.uppy-Dashboard-Item-progressIndicator{cursor:pointer}button.uppy-Dashboard-Item-progressIndicator:focus{outline:none}button.uppy-Dashboard-Item-progressIndicator::-moz-focus-inner{border:0}button.uppy-Dashboard-Item-progressIndicator:focus .uppy-Dashboard-Item-progressIcon--bg,button.uppy-Dashboard-Item-progressIndicator:focus .uppy-Dashboard-Item-progressIcon--retry{fill:#579df0}.uppy-Dashboard-Item-progressIcon--circle{height:100%;width:100%}.uppy-Dashboard-Item-progressIcon--bg{stroke:#fff6}.uppy-Dashboard-Item-progressIcon--progress{stroke:#fff;transition:stroke-dashoffset .5s ease-out}.uppy-Dashboard-Item-progressIcon--play{fill:#fff;stroke:#fff;transition:all .2s}.uppy-Dashboard-Item-progressIcon--cancel{fill:#fff;transition:all .2s}.uppy-Dashboard-Item-progressIcon--pause{fill:#fff;stroke:#fff;transition:all .2s}.uppy-Dashboard-Item-progressIcon--check{fill:#fff;transition:all .2s}.uppy-Dashboard-Item-progressIcon--retry{fill:#fff}[dir=ltr] .uppy-Dashboard-Item.is-complete .uppy-Dashboard-Item-progress{right:-8px}[dir=rtl] .uppy-Dashboard-Item.is-complete .uppy-Dashboard-Item-progress{left:-8px}[dir=ltr] .uppy-Dashboard-Item.is-complete .uppy-Dashboard-Item-progress{left:auto}[dir=rtl] .uppy-Dashboard-Item.is-complete .uppy-Dashboard-Item-progress{right:auto}.uppy-Dashboard-Item.is-complete .uppy-Dashboard-Item-progress{top:-9px;transform:none;width:auto}.uppy-Dashboard-Item.is-error .uppy-Dashboard-Item-progressIndicator{height:18px;width:18px}.uppy-size--md .uppy-Dashboard-Item.is-error .uppy-Dashboard-Item-progressIndicator{height:28px;width:28px}.uppy-Dashboard-Item.is-complete .uppy-Dashboard-Item-progressIndicator{height:18px;opacity:1;width:18px}.uppy-size--md .uppy-Dashboard-Item.is-complete .uppy-Dashboard-Item-progressIndicator{height:22px;width:22px}.uppy-Dashboard-Item.is-processing .uppy-Dashboard-Item-progress{opacity:0}[dir=ltr] .uppy-Dashboard-Item-fileInfo{padding-right:5px}[dir=rtl] .uppy-Dashboard-Item-fileInfo{padding-left:5px}[dir=ltr] .uppy-Dashboard--singleFile .uppy-Dashboard-Item-fileInfo{padding-right:10px}[dir=rtl] .uppy-Dashboard--singleFile .uppy-Dashboard-Item-fileInfo{padding-left:10px}[dir=ltr] .uppy-size--md.uppy-Dashboard--singleFile .uppy-Dashboard-Item-fileInfo{padding-right:15px}[dir=rtl] .uppy-size--md.uppy-Dashboard--singleFile .uppy-Dashboard-Item-fileInfo{padding-left:15px}.uppy-Dashboard-Item-name{word-wrap:anywhere;font-size:12px;font-weight:500;line-height:1.3;margin-bottom:5px;word-break:break-all}[data-uppy-theme=dark] .uppy-Dashboard-Item-name{color:#eaeaea}.uppy-size--md.uppy-Dashboard--singleFile .uppy-Dashboard-Item-name{font-size:14px;line-height:1.4}.uppy-Dashboard-Item-fileName{align-items:baseline;display:flex}.uppy-Dashboard-Item-fileName button{margin-left:5px}.uppy-Dashboard-Item-author{color:#757575;display:inline-block;font-size:11px;font-weight:400;line-height:1;margin-bottom:5px;vertical-align:bottom}.uppy-Dashboard-Item-author a{color:#757575}.uppy-Dashboard-Item-status{color:#757575;font-size:11px;font-weight:400;line-height:1}[data-uppy-theme=dark] .uppy-Dashboard-Item-status{color:#bbb}.uppy-Dashboard-Item-statusSize{display:inline-block;margin-bottom:5px;text-transform:uppercase;vertical-align:bottom}.uppy-Dashboard-Item-reSelect{color:#1269cf;font-family:inherit;font-size:inherit;font-weight:600}.uppy-Dashboard-Item-errorMessage{background-color:#fdeff1;color:#a51523;font-size:11px;font-weight:500;line-height:1.3;padding:5px 6px}.uppy-Dashboard-Item-errorMessageBtn{color:#a51523;cursor:pointer;font-size:11px;font-weight:500;text-decoration:underline}.uppy-Dashboard-Item-preview .uppy-Dashboard-Item-errorMessage{display:none}.uppy-size--md .uppy-Dashboard-Item-preview .uppy-Dashboard-Item-errorMessage{border-bottom-left-radius:3px;border-bottom-right-radius:3px;border-top:1px solid #f7c2c8;bottom:0;display:block;left:0;line-height:1.4;padding:6px 8px;position:absolute;right:0}.uppy-Dashboard-Item-fileInfo .uppy-Dashboard-Item-errorMessage{border:1px solid #f7c2c8;border-radius:3px;display:inline-block;position:static}.uppy-size--md .uppy-Dashboard-Item-fileInfo .uppy-Dashboard-Item-errorMessage{display:none}.uppy-Dashboard-Item-action{color:#939393;cursor:pointer}.uppy-Dashboard-Item-action:focus{outline:none}.uppy-Dashboard-Item-action::-moz-focus-inner{border:0}.uppy-Dashboard-Item-action:focus{box-shadow:0 0 0 3px #1269cf80}.uppy-Dashboard-Item-action:hover{color:#1f1f1f;opacity:1}[data-uppy-theme=dark] .uppy-Dashboard-Item-action{color:#cfcfcf}[data-uppy-theme=dark] .uppy-Dashboard-Item-action:focus{outline:none}[data-uppy-theme=dark] .uppy-Dashboard-Item-action::-moz-focus-inner{border:0}[data-uppy-theme=dark] .uppy-Dashboard-Item-action:focus{box-shadow:0 0 0 2px #aae1ffd9}[data-uppy-theme=dark] .uppy-Dashboard-Item-action:hover{color:#eaeaea}.uppy-Dashboard-Item-action--remove{color:#1f1f1f;opacity:.95}.uppy-Dashboard-Item-action--remove:hover{color:#000;opacity:1}[dir=ltr] .uppy-size--md .uppy-Dashboard-Item-action--remove{right:-8px}[dir=rtl] .uppy-size--md .uppy-Dashboard-Item-action--remove{left:-8px}.uppy-size--md .uppy-Dashboard-Item-action--remove{height:18px;padding:0;position:absolute;top:-8px;width:18px;z-index:1002}.uppy-size--md .uppy-Dashboard-Item-action--remove:focus{border-radius:50%}[dir=ltr] .uppy-Dashboard--singleFile.uppy-size--height-md .uppy-Dashboard-Item-action--remove{right:8px}[dir=rtl] .uppy-Dashboard--singleFile.uppy-size--height-md .uppy-Dashboard-Item-action--remove{left:8px}.uppy-Dashboard--singleFile.uppy-size--height-md .uppy-Dashboard-Item-action--remove{position:absolute;top:8px}[data-uppy-theme=dark] .uppy-Dashboard-Item-action--remove{color:#525252}[data-uppy-theme=dark] .uppy-Dashboard-Item-action--remove:hover{color:#333}.uppy-Dashboard:not(.uppy-size--md):not(.uppy-Dashboard--singleFile.uppy-size--height-md) .uppy-Dashboard-Item-actionWrapper{align-items:center;display:flex}.uppy-Dashboard:not(.uppy-size--md):not(.uppy-Dashboard--singleFile.uppy-size--height-md) .uppy-Dashboard-Item-action{height:22px;margin-left:3px;padding:3px;width:22px}.uppy-Dashboard:not(.uppy-size--md):not(.uppy-Dashboard--singleFile.uppy-size--height-md) .uppy-Dashboard-Item-action:focus{border-radius:3px}.uppy-size--md .uppy-Dashboard-Item-action--copyLink,.uppy-size--md .uppy-Dashboard-Item-action--edit{height:16px;padding:0;width:16px}.uppy-size--md .uppy-Dashboard-Item-action--copyLink:focus,.uppy-size--md .uppy-Dashboard-Item-action--edit:focus{border-radius:3px}.uppy-Dashboard-Item{align-items:center;border-bottom:1px solid #eaeaea;display:flex;padding:10px}[dir=ltr] .uppy-Dashboard:not(.uppy-Dashboard--singleFile) .uppy-Dashboard-Item{padding-right:0}[dir=rtl] .uppy-Dashboard:not(.uppy-Dashboard--singleFile) .uppy-Dashboard-Item{padding-left:0}[data-uppy-theme=dark] .uppy-Dashboard-Item{border-bottom:1px solid #333}[dir=ltr] .uppy-size--md .uppy-Dashboard-Item{float:left}[dir=rtl] .uppy-size--md .uppy-Dashboard-Item{float:right}.uppy-size--md .uppy-Dashboard-Item{border-bottom:0;display:block;height:215px;margin:5px 15px;padding:0;position:relative;width:calc(33.333% - 30px)}.uppy-size--lg .uppy-Dashboard-Item{height:190px;margin:5px 15px;padding:0;width:calc(25% - 30px)}.uppy-size--xl .uppy-Dashboard-Item{height:210px;padding:0;width:calc(20% - 30px)}.uppy-Dashboard--singleFile .uppy-Dashboard-Item{border-bottom:0;display:flex;flex-direction:column;height:100%;max-width:400px;padding:15px;position:relative;width:100%}.uppy-Dashboard-Item.is-ghost .uppy-Dashboard-Item-previewInnerWrap{opacity:.2}.uppy-Dashboard-Item.is-ghost .uppy-Dashboard-Item-name{opacity:.7}.uppy-Dashboard-Item.is-ghost .uppy-Dashboard-Item-preview:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='35' height='39'%3E%3Cpath d='M1.708 38.66c1.709 0 3.417-3.417 6.834-3.417 3.416 0 5.125 3.417 8.61 3.417 3.348 0 5.056-3.417 8.473-3.417 4.305 0 5.125 3.417 6.833 3.417.889 0 1.709-.889 1.709-1.709v-19.68C34.167-5.757 0-5.757 0 17.271v19.68c0 .82.888 1.709 1.708 1.709zm8.542-17.084a3.383 3.383 0 0 1-3.417-3.416 3.383 3.383 0 0 1 3.417-3.417 3.383 3.383 0 0 1 3.417 3.417 3.383 3.383 0 0 1-3.417 3.416zm13.667 0A3.383 3.383 0 0 1 20.5 18.16a3.383 3.383 0 0 1 3.417-3.417 3.383 3.383 0 0 1 3.416 3.417 3.383 3.383 0 0 1-3.416 3.416z' fill='%2523000'/%3E%3C/svg%3E\");background-position:50% 10px;background-repeat:no-repeat;background-size:25px;content:\"\";inset:0;opacity:.5;position:absolute;z-index:1005}.uppy-size--md .uppy-Dashboard-Item.is-ghost .uppy-Dashboard-Item-preview:before{background-position:50% 50%;background-size:40px}.uppy-Dashboard--singleFile .uppy-Dashboard-Item.is-ghost .uppy-Dashboard-Item-preview:before{background-position:50% 50%;background-size:30%}.uppy-Dashboard-Item-preview{flex-grow:0;flex-shrink:0;height:50px;position:relative;width:50px}.uppy-size--md .uppy-Dashboard-Item-preview{height:140px;width:100%}.uppy-size--lg .uppy-Dashboard-Item-preview{height:120px}.uppy-size--xl .uppy-Dashboard-Item-preview{height:140px}.uppy-Dashboard--singleFile .uppy-Dashboard-Item-preview{flex-grow:1;max-height:75%;width:100%}.uppy-Dashboard--singleFile.uppy-size--md .uppy-Dashboard-Item-preview{max-height:100%}[dir=ltr] .uppy-Dashboard-Item-fileInfoAndButtons{padding-right:8px}[dir=rtl] .uppy-Dashboard-Item-fileInfoAndButtons{padding-left:8px}[dir=ltr] .uppy-Dashboard-Item-fileInfoAndButtons{padding-left:12px}[dir=rtl] .uppy-Dashboard-Item-fileInfoAndButtons{padding-right:12px}.uppy-Dashboard-Item-fileInfoAndButtons{align-items:center;display:flex;flex-grow:1;justify-content:space-between}.uppy-Dashboard--singleFile .uppy-Dashboard-Item-fileInfoAndButtons,.uppy-size--md .uppy-Dashboard-Item-fileInfoAndButtons{align-items:flex-start;padding:9px 0 0}.uppy-Dashboard--singleFile .uppy-Dashboard-Item-fileInfoAndButtons{flex-grow:0;width:100%}.uppy-Dashboard-Item-fileInfo{flex-grow:1;flex-shrink:1}.uppy-Dashboard-Item-actionWrapper{flex-grow:0;flex-shrink:0}.uppy-Dashboard-Item.is-error .uppy-Dashboard-Item-previewInnerWrap:after,.uppy-Dashboard-Item.is-inprogress .uppy-Dashboard-Item-previewInnerWrap:after{display:block}[dir=ltr] .uppy-Dashboard-Item-errorDetails{left:2px}[dir=rtl] .uppy-Dashboard-Item-errorDetails{right:2px}.uppy-Dashboard-Item-errorDetails{-webkit-appearance:none;appearance:none;background-color:#939393;border:none;border-radius:50%;color:#fff;cursor:help;flex-shrink:0;font-size:10px;font-weight:600;height:13px;line-height:12px;position:relative;text-align:center;top:0;width:13px}.uppy-Dashboard-Item-errorDetails:after{word-wrap:break-word;line-height:1.3}.uppy-Dashboard-FileCard{background-color:#fff;border-radius:5px;box-shadow:0 0 10px 4px #0000001a;display:flex;flex-direction:column;height:100%;inset:0;position:absolute;width:100%;z-index:1005}.uppy-Dashboard-FileCard .uppy-DashboardContent-bar{border-top-left-radius:5px;border-top-right-radius:5px}.uppy-Dashboard-FileCard .uppy-Dashboard-FileCard-actions{border-bottom-left-radius:5px;border-bottom-right-radius:5px}.uppy-Dashboard-FileCard-inner{display:flex;flex-direction:column;flex-grow:1;flex-shrink:1;height:100%;min-height:0}.uppy-Dashboard-FileCard-preview{align-items:center;border-bottom:1px solid #eaeaea;display:flex;flex-grow:0;flex-shrink:1;height:60%;justify-content:center;min-height:0;position:relative}[data-uppy-theme=dark] .uppy-Dashboard-FileCard-preview{background-color:#333;border-bottom:0}.uppy-Dashboard-FileCard-preview img.uppy-Dashboard-Item-previewImg{border-radius:3px;box-shadow:0 3px 20px #00000026;flex:0 0 auto;max-height:90%;max-width:90%;object-fit:cover}[dir=ltr] .uppy-Dashboard-FileCard-edit{right:10px}[dir=rtl] .uppy-Dashboard-FileCard-edit{left:10px}.uppy-Dashboard-FileCard-edit{background-color:#00000080;border-radius:50px;color:#fff;font-size:13px;padding:7px 15px;position:absolute;top:10px}.uppy-Dashboard-FileCard-edit:focus{outline:none}.uppy-Dashboard-FileCard-edit::-moz-focus-inner{border:0}.uppy-Dashboard-FileCard-edit:focus{box-shadow:0 0 0 3px #1269cf80}.uppy-Dashboard-FileCard-edit:hover{background-color:#000c}.uppy-Dashboard-FileCard-info{-webkit-overflow-scrolling:touch;flex-grow:0;flex-shrink:0;height:40%;overflow-y:auto;padding:30px 20px 20px}[data-uppy-theme=dark] .uppy-Dashboard-FileCard-info{background-color:#1f1f1f}.uppy-Dashboard-FileCard-fieldset{border:0;font-size:0;margin:auto auto 12px;max-width:640px;padding:0}.uppy-Dashboard-FileCard-label{color:#525252;display:inline-block;font-size:12px;vertical-align:middle;width:22%}.uppy-size--md .uppy-Dashboard-FileCard-label{font-size:14px}[data-uppy-theme=dark] .uppy-Dashboard-FileCard-label{color:#eaeaea}.uppy-Dashboard-FileCard-input{display:inline-block;vertical-align:middle;width:78%}.uppy-Dashboard-FileCard-actions{align-items:center;background-color:#fafafa;border-top:1px solid #eaeaea;display:flex;flex-grow:0;flex-shrink:0;height:55px;padding:0 15px}.uppy-size--md .uppy-Dashboard-FileCard-actions{height:65px}[data-uppy-theme=dark] .uppy-Dashboard-FileCard-actions{background-color:#1f1f1f;border-top:1px solid #333}[dir=ltr] .uppy-Dashboard-FileCard-actionsBtn{margin-right:10px}[dir=rtl] .uppy-Dashboard-FileCard-actionsBtn{margin-left:10px}.uppy-transition-slideDownUp-enter{opacity:.01;transform:translate3d(0,-105%,0);transition:transform .25s ease-in-out,opacity .25s ease-in-out}.uppy-transition-slideDownUp-enter.uppy-transition-slideDownUp-enter-active{opacity:1;transform:translateZ(0)}.uppy-transition-slideDownUp-leave{opacity:1;transform:translateZ(0);transition:transform .25s ease-in-out,opacity .25s ease-in-out}.uppy-transition-slideDownUp-leave.uppy-transition-slideDownUp-leave-active{opacity:.01;transform:translate3d(0,-105%,0)}@keyframes uppy-Dashboard-fadeIn{0%{opacity:0}to{opacity:1}}@keyframes uppy-Dashboard-fadeOut{0%{opacity:1}to{opacity:0}}@keyframes uppy-Dashboard-slideDownAndFadeIn{0%{opacity:0;transform:translate3d(-50%,-70%,0)}to{opacity:1;transform:translate3d(-50%,-50%,0)}}@keyframes uppy-Dashboard-slideDownAndFadeIn--small{0%{opacity:0;transform:translate3d(0,-20%,0)}to{opacity:1;transform:translateZ(0)}}@keyframes uppy-Dashboard-slideUpFadeOut{0%{opacity:1;transform:translate3d(-50%,-50%,0)}to{opacity:0;transform:translate3d(-50%,-70%,0)}}@keyframes uppy-Dashboard-slideUpFadeOut--small{0%{opacity:1;transform:translateZ(0)}to{opacity:0;transform:translate3d(0,-20%,0)}}.uppy-Dashboard--modal{z-index:1001}.uppy-Dashboard--modal[aria-hidden=true]{display:none}.uppy-Dashboard--modal.uppy-Dashboard--animateOpenClose>.uppy-Dashboard-inner{animation:uppy-Dashboard-slideDownAndFadeIn--small .3s cubic-bezier(0,0,.2,1)}@media only screen and (min-width:820px){.uppy-Dashboard--modal.uppy-Dashboard--animateOpenClose>.uppy-Dashboard-inner{animation:uppy-Dashboard-slideDownAndFadeIn .3s cubic-bezier(0,0,.2,1)}}.uppy-Dashboard--modal.uppy-Dashboard--animateOpenClose>.uppy-Dashboard-overlay{animation:uppy-Dashboard-fadeIn .3s cubic-bezier(0,0,.2,1)}.uppy-Dashboard--modal.uppy-Dashboard--animateOpenClose.uppy-Dashboard--isClosing>.uppy-Dashboard-inner{animation:uppy-Dashboard-slideUpFadeOut--small .3s cubic-bezier(0,0,.2,1)}@media only screen and (min-width:820px){.uppy-Dashboard--modal.uppy-Dashboard--animateOpenClose.uppy-Dashboard--isClosing>.uppy-Dashboard-inner{animation:uppy-Dashboard-slideUpFadeOut .3s cubic-bezier(0,0,.2,1)}}.uppy-Dashboard--modal.uppy-Dashboard--animateOpenClose.uppy-Dashboard--isClosing>.uppy-Dashboard-overlay{animation:uppy-Dashboard-fadeOut .3s cubic-bezier(0,0,.2,1)}.uppy-Dashboard-isFixed{height:100vh;overflow:hidden}.uppy-Dashboard--modal .uppy-Dashboard-overlay{background-color:#00000080;inset:0;position:fixed;z-index:1001}.uppy-Dashboard-inner{background-color:#f4f4f4;border:1px solid #eaeaea;border-radius:5px;max-height:100%;max-width:100%;outline:none;position:relative}.uppy-size--md .uppy-Dashboard-inner{min-height:auto}@media only screen and (min-width:820px){.uppy-Dashboard-inner{height:500px;width:650px}}.uppy-Dashboard--modal .uppy-Dashboard-inner{z-index:1002}[data-uppy-theme=dark] .uppy-Dashboard-inner{background-color:#1f1f1f}.uppy-Dashboard--isDisabled .uppy-Dashboard-inner{cursor:not-allowed}.uppy-Dashboard-innerWrap{border-radius:5px;display:flex;flex-direction:column;height:100%;opacity:0;overflow:hidden;position:relative}.uppy-Dashboard--isInnerWrapVisible .uppy-Dashboard-innerWrap{opacity:1}.uppy-Dashboard--isDisabled .uppy-Dashboard-innerWrap{cursor:not-allowed;filter:grayscale(100%);opacity:.6;-webkit-user-select:none;user-select:none}.uppy-Dashboard--isDisabled .uppy-ProviderIconBg{fill:#9f9f9f}.uppy-Dashboard--isDisabled [aria-disabled],.uppy-Dashboard--isDisabled [disabled]{cursor:not-allowed;pointer-events:none}.uppy-Dashboard--modal .uppy-Dashboard-inner{border:none;inset:35px 15px 15px;position:fixed}@media only screen and (min-width:820px){.uppy-Dashboard--modal .uppy-Dashboard-inner{box-shadow:0 5px 15px 4px #00000026;left:50%;right:auto;top:50%;transform:translate(-50%,-50%)}}[dir=ltr] .uppy-Dashboard-close{right:-2px}[dir=rtl] .uppy-Dashboard-close{left:-2px}.uppy-Dashboard-close{color:#ffffffe6;cursor:pointer;display:block;font-size:27px;position:absolute;top:-33px;z-index:1005}.uppy-Dashboard-close:focus{outline:none}.uppy-Dashboard-close::-moz-focus-inner{border:0}.uppy-Dashboard-close:focus{color:#6eabf2}@media only screen and (min-width:820px){[dir=ltr] .uppy-Dashboard-close{right:-35px}[dir=rtl] .uppy-Dashboard-close{left:-35px}.uppy-Dashboard-close{font-size:35px;top:-10px}}.uppy-Dashboard-serviceMsg{background-color:#fffbf7;border-bottom:1px solid #edd4b9;border-top:1px solid #edd4b9;font-size:12px;font-weight:500;line-height:1.3;padding:12px 0;position:relative;top:-1px;z-index:1004}.uppy-size--md .uppy-Dashboard-serviceMsg{font-size:14px;line-height:1.4}[data-uppy-theme=dark] .uppy-Dashboard-serviceMsg{background-color:#1f1f1f;border-bottom:1px solid #333;border-top:1px solid #333;color:#eaeaea}.uppy-Dashboard-serviceMsg-title{display:block;line-height:1;margin-bottom:4px;padding-left:42px}.uppy-Dashboard-serviceMsg-text{padding:0 15px}.uppy-Dashboard-serviceMsg-actionBtn{color:#1269cf;font-size:inherit;font-weight:inherit;vertical-align:initial}[data-uppy-theme=dark] .uppy-Dashboard-serviceMsg-actionBtn{color:#02baf2e6}.uppy-Dashboard-serviceMsg-icon{left:15px;position:absolute;top:10px}.uppy-Dashboard-AddFiles{align-items:center;display:flex;flex-direction:column;height:100%;justify-content:center;position:relative;text-align:center}[data-uppy-drag-drop-supported=true] .uppy-Dashboard-AddFiles{border:1px dashed #dfdfdf;border-radius:3px;height:calc(100% - 14px);margin:7px}.uppy-Dashboard-AddFilesPanel .uppy-Dashboard-AddFiles{border:none;height:calc(100% - 54px)}.uppy-Dashboard--modal .uppy-Dashboard-AddFiles{border-color:#cfcfcf}[data-uppy-theme=dark] .uppy-Dashboard-AddFiles{border-color:#757575}.uppy-Dashboard-AddFiles-info{display:none;margin-top:auto;padding-bottom:15px;padding-top:15px}.uppy-size--height-md .uppy-Dashboard-AddFiles-info{display:block}.uppy-size--md .uppy-Dashboard-AddFiles-info{bottom:25px;left:0;padding-bottom:0;padding-top:30px;position:absolute;right:0}[data-uppy-num-acquirers=\"0\"] .uppy-Dashboard-AddFiles-info{margin-top:0}.uppy-Dashboard-browse{color:#1269cf;cursor:pointer}.uppy-Dashboard-browse:focus{outline:none}.uppy-Dashboard-browse::-moz-focus-inner{border:0}.uppy-Dashboard-browse:focus,.uppy-Dashboard-browse:hover{border-bottom:1px solid #1269cf}[data-uppy-theme=dark] .uppy-Dashboard-browse{color:#02baf2e6}[data-uppy-theme=dark] .uppy-Dashboard-browse:focus,[data-uppy-theme=dark] .uppy-Dashboard-browse:hover{border-bottom:1px solid #02baf2}.uppy-Dashboard-browseBtn{display:block;font-size:14px;font-weight:500;margin-bottom:5px;margin-top:8px;width:100%}.uppy-size--md .uppy-Dashboard-browseBtn{font-size:15px;margin:15px auto;padding:13px 44px;width:auto}.uppy-Dashboard-AddFiles-list{-webkit-overflow-scrolling:touch;display:flex;flex:1;flex-direction:column;margin-top:2px;overflow-y:auto;padding:2px 0;width:100%}.uppy-size--md .uppy-Dashboard-AddFiles-list{flex:none;flex-direction:row;flex-wrap:wrap;justify-content:center;margin-top:15px;max-width:600px;overflow-y:visible;padding-top:0}.uppy-DashboardTab{border-bottom:1px solid #eaeaea;text-align:center;width:100%}[data-uppy-theme=dark] .uppy-DashboardTab{border-bottom:1px solid #333}.uppy-size--md .uppy-DashboardTab{border-bottom:none;display:inline-block;margin-bottom:10px;width:auto}.uppy-DashboardTab-btn{align-items:center;-webkit-appearance:none;appearance:none;background-color:initial;color:#525252;cursor:pointer;flex-direction:row;height:100%;justify-content:left;padding:12px 15px;width:100%}.uppy-DashboardTab-btn:focus{outline:none}[dir=ltr] .uppy-size--md .uppy-DashboardTab-btn{margin-right:1px}[dir=rtl] .uppy-size--md .uppy-DashboardTab-btn{margin-left:1px}.uppy-size--md .uppy-DashboardTab-btn{border-radius:5px;flex-direction:column;padding:10px 3px;width:86px}[data-uppy-theme=dark] .uppy-DashboardTab-btn{color:#eaeaea}.uppy-DashboardTab-btn::-moz-focus-inner{border:0}.uppy-DashboardTab-btn:hover{background-color:#e9ecef}[data-uppy-theme=dark] .uppy-DashboardTab-btn:hover{background-color:#333}.uppy-DashboardTab-btn:active,.uppy-DashboardTab-btn:focus{background-color:#dfe6f1}[data-uppy-theme=dark] .uppy-DashboardTab-btn:active,[data-uppy-theme=dark] .uppy-DashboardTab-btn:focus{background-color:#525252}.uppy-DashboardTab-btn svg{display:inline-block;max-height:100%;max-width:100%;overflow:hidden;transition:transform .15s ease-in-out;vertical-align:text-top}[dir=ltr] .uppy-DashboardTab-inner{margin-right:10px}[dir=rtl] .uppy-DashboardTab-inner{margin-left:10px}.uppy-DashboardTab-inner{align-items:center;background-color:#fff;border-radius:8px;box-shadow:0 1px 1px #0000001a,0 1px 2px #0000001a,0 2px 3px #00000005;display:flex;height:32px;justify-content:center;width:32px}[dir=ltr] .uppy-size--md .uppy-DashboardTab-inner{margin-right:0}[dir=rtl] .uppy-size--md .uppy-DashboardTab-inner{margin-left:0}[data-uppy-theme=dark] .uppy-DashboardTab-inner{background-color:#323232;box-shadow:0 1px 1px #0003,0 1px 2px #0003,0 2px 3px #00000014}.uppy-DashboardTab-name{font-size:14px;font-weight:400}.uppy-size--md .uppy-DashboardTab-name{font-size:12px;line-height:15px;margin-bottom:0;margin-top:8px}.uppy-DashboardTab-iconMyDevice{color:#1269cf}[data-uppy-theme=dark] .uppy-DashboardTab-iconMyDevice{color:#02baf2}.uppy-DashboardTab-iconBox{color:#0061d5}[data-uppy-theme=dark] .uppy-DashboardTab-iconBox{color:#eaeaea}.uppy-DashboardTab-iconDropbox{color:#0061fe}[data-uppy-theme=dark] .uppy-DashboardTab-iconDropbox{color:#eaeaea}.uppy-DashboardTab-iconUnsplash{color:#111}[data-uppy-theme=dark] .uppy-DashboardTab-iconUnsplash{color:#eaeaea}.uppy-DashboardTab-iconScreenRec{color:#2c3e50}[data-uppy-theme=dark] .uppy-DashboardTab-iconScreenRec{color:#eaeaea}.uppy-DashboardTab-iconAudio{color:#8030a3}[data-uppy-theme=dark] .uppy-DashboardTab-iconAudio{color:#bf6ee3}.uppy-Dashboard-input{height:.1px;opacity:0;overflow:hidden;position:absolute;width:.1px;z-index:-1}.uppy-DashboardContent-bar{align-items:center;background-color:#fafafa;border-bottom:1px solid #eaeaea;display:flex;flex-shrink:0;height:40px;justify-content:space-between;padding:0 10px;position:relative;width:100%;z-index:1004}.uppy-size--md .uppy-DashboardContent-bar{height:50px;padding:0 15px}[data-uppy-theme=dark] .uppy-DashboardContent-bar{background-color:#1f1f1f;border-bottom:1px solid #333}.uppy-DashboardContent-title{font-size:12px;font-weight:500;left:0;line-height:40px;margin:auto;max-width:170px;overflow-x:hidden;position:absolute;right:0;text-align:center;text-overflow:ellipsis;top:0;white-space:nowrap;width:100%}.uppy-size--md .uppy-DashboardContent-title{font-size:14px;line-height:50px;max-width:300px}[data-uppy-theme=dark] .uppy-DashboardContent-title{color:#eaeaea}[dir=ltr] .uppy-DashboardContent-back,[dir=ltr] .uppy-DashboardContent-save{margin-left:-6px}[dir=rtl] .uppy-DashboardContent-back,[dir=rtl] .uppy-DashboardContent-save{margin-right:-6px}.uppy-DashboardContent-back,.uppy-DashboardContent-save{-webkit-appearance:none;background:none;border:0;border-radius:3px;color:inherit;color:#1269cf;cursor:pointer;font-family:inherit;font-size:inherit;font-size:12px;font-weight:400;line-height:1;margin:0;padding:7px 6px}.uppy-DashboardContent-back:focus,.uppy-DashboardContent-save:focus{outline:none}.uppy-DashboardContent-back::-moz-focus-inner,.uppy-DashboardContent-save::-moz-focus-inner{border:0}.uppy-DashboardContent-back:hover,.uppy-DashboardContent-save:hover{color:#0e51a0}.uppy-DashboardContent-back:focus,.uppy-DashboardContent-save:focus{background-color:#dfe6f1}[data-uppy-theme=dark] .uppy-DashboardContent-back:focus,[data-uppy-theme=dark] .uppy-DashboardContent-save:focus{background-color:#333}.uppy-size--md .uppy-DashboardContent-back,.uppy-size--md .uppy-DashboardContent-save{font-size:14px}[data-uppy-theme=dark] .uppy-DashboardContent-back,[data-uppy-theme=dark] .uppy-DashboardContent-save{color:#02baf2}[dir=ltr] .uppy-DashboardContent-addMore{margin-right:-5px}[dir=rtl] .uppy-DashboardContent-addMore{margin-left:-5px}.uppy-DashboardContent-addMore{-webkit-appearance:none;background:none;border:0;border-radius:3px;color:inherit;color:#1269cf;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:500;height:29px;line-height:1;margin:0;padding:7px 8px;width:29px}.uppy-DashboardContent-addMore:focus{outline:none}.uppy-DashboardContent-addMore::-moz-focus-inner{border:0}.uppy-DashboardContent-addMore:hover{color:#0e51a0}.uppy-DashboardContent-addMore:focus{background-color:#dfe6f1}[data-uppy-theme=dark] .uppy-DashboardContent-addMore:focus{background-color:#333}[dir=ltr] .uppy-size--md .uppy-DashboardContent-addMore{margin-right:-8px}[dir=rtl] .uppy-size--md .uppy-DashboardContent-addMore{margin-left:-8px}.uppy-size--md .uppy-DashboardContent-addMore{font-size:14px;height:auto;width:auto}[data-uppy-theme=dark] .uppy-DashboardContent-addMore{color:#02baf2}[dir=ltr] .uppy-DashboardContent-addMore svg{margin-right:4px}[dir=rtl] .uppy-DashboardContent-addMore svg{margin-left:4px}.uppy-DashboardContent-addMore svg{vertical-align:initial}.uppy-size--md .uppy-DashboardContent-addMore svg{height:11px;width:11px}.uppy-DashboardContent-addMoreCaption{display:none}.uppy-size--md .uppy-DashboardContent-addMoreCaption{display:inline}.uppy-DashboardContent-panel{background-color:#f5f5f5;flex:1}.uppy-Dashboard-AddFilesPanel,.uppy-DashboardContent-panel{border-radius:5px;display:flex;flex-direction:column;inset:0;overflow:hidden;position:absolute;z-index:1005}.uppy-Dashboard-AddFilesPanel{background:#fafafa;background:linear-gradient(0deg,#fafafa 35%,#fafafad9);box-shadow:0 0 10px 5px #00000026}[data-uppy-theme=dark] .uppy-Dashboard-AddFilesPanel{background-color:#333;background-image:linear-gradient(0deg,#1f1f1f 35%,#1f1f1fd9)}.uppy-Dashboard--isAddFilesPanelVisible .uppy-Dashboard-files{filter:blur(2px)}.uppy-Dashboard-progress{bottom:0;height:12%;left:0;position:absolute;width:100%}.uppy-Dashboard-progressBarContainer.is-active{height:100%;left:0;position:absolute;top:0;width:100%;z-index:1004}.uppy-Dashboard-filesContainer{flex:1;margin:0;overflow-y:hidden;position:relative}.uppy-Dashboard-filesContainer:after{clear:both;content:\"\";display:table}.uppy-Dashboard-files{-webkit-overflow-scrolling:touch;flex:1;margin:0;overflow-y:auto;padding:0 0 10px}.uppy-size--md .uppy-Dashboard-files{padding-top:10px}.uppy-Dashboard--singleFile .uppy-Dashboard-filesInner{align-items:center;display:flex;height:100%;justify-content:center}.uppy-Dashboard-dropFilesHereHint{align-items:center;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='48' height='48' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M24 1v1C11.85 2 2 11.85 2 24s9.85 22 22 22 22-9.85 22-22S36.15 2 24 2V1zm0 0V0c13.254 0 24 10.746 24 24S37.254 48 24 48 0 37.254 0 24 10.746 0 24 0v1zm7.707 19.293a.999.999 0 1 1-1.414 1.414L25 16.414V34a1 1 0 1 1-2 0V16.414l-5.293 5.293a.999.999 0 1 1-1.414-1.414l7-7a.999.999 0 0 1 1.414 0l7 7z' fill='%231269CF'/%3E%3C/svg%3E\");background-position:50% 50%;background-repeat:no-repeat;border:1px dashed #1269cf;border-radius:3px;color:#757575;display:flex;font-size:16px;justify-content:center;inset:7px;padding-top:90px;position:absolute;text-align:center;visibility:hidden;z-index:2000}[data-uppy-theme=dark] .uppy-Dashboard-dropFilesHereHint{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='48' height='48' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M24 1v1C11.85 2 2 11.85 2 24s9.85 22 22 22 22-9.85 22-22S36.15 2 24 2V1zm0 0V0c13.254 0 24 10.746 24 24S37.254 48 24 48 0 37.254 0 24 10.746 0 24 0v1zm7.707 19.293a.999.999 0 1 1-1.414 1.414L25 16.414V34a1 1 0 1 1-2 0V16.414l-5.293 5.293a.999.999 0 1 1-1.414-1.414l7-7a.999.999 0 0 1 1.414 0l7 7z' fill='%2302BAF2'/%3E%3C/svg%3E\");border-color:#02baf2;color:#bbb}.uppy-Dashboard.uppy-Dashboard--isDraggingOver .uppy-Dashboard-dropFilesHereHint{visibility:visible}.uppy-Dashboard.uppy-Dashboard--isDraggingOver .uppy-Dashboard-files,.uppy-Dashboard.uppy-Dashboard--isDraggingOver .uppy-Dashboard-progressindicators,.uppy-Dashboard.uppy-Dashboard--isDraggingOver .uppy-Dashboard-serviceMsg,.uppy-Dashboard.uppy-Dashboard--isDraggingOver .uppy-DashboardContent-bar{opacity:.15}.uppy-Dashboard.uppy-Dashboard--isDraggingOver .uppy-Dashboard-AddFiles{opacity:.03}.uppy-Dashboard-AddFiles-title{color:#000;font-size:17px;font-weight:500;line-height:1.35;margin-bottom:5px;margin-top:15px;padding:0 15px;text-align:inline-start;width:100%}.uppy-size--md .uppy-Dashboard-AddFiles-title{font-size:21px;font-weight:400;margin-top:5px;max-width:480px;padding:0 35px;text-align:center}[data-uppy-num-acquirers=\"0\"] .uppy-Dashboard-AddFiles-title{text-align:center}[data-uppy-theme=dark] .uppy-Dashboard-AddFiles-title{color:#eaeaea}.uppy-Dashboard-AddFiles-title button{font-weight:500}.uppy-size--md .uppy-Dashboard-AddFiles-title button{font-weight:400}.uppy-Dashboard-note{color:#757575;font-size:14px;line-height:1.25;margin:auto;max-width:350px;padding:0 15px;text-align:center}.uppy-size--md .uppy-Dashboard-note{line-height:1.35;max-width:600px}[data-uppy-theme=dark] .uppy-Dashboard-note{color:#cfcfcf}a.uppy-Dashboard-poweredBy{color:#939393;display:inline-block;font-size:11px;margin-top:8px;text-align:center;text-decoration:none}.uppy-Dashboard-poweredByIcon{fill:none;stroke:#939393;margin-left:1px;margin-right:1px;opacity:.9;position:relative;top:1px;vertical-align:text-top}.uppy-Dashboard-Item-previewIcon{height:25px;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);width:25px;z-index:100}.uppy-size--md .uppy-Dashboard-Item-previewIcon{height:38px;width:38px}.uppy-Dashboard-Item-previewIcon svg{height:100%;width:100%}.uppy-Dashboard--singleFile .uppy-Dashboard-Item-previewIcon{height:100%;max-height:60%;max-width:60%;width:100%}.uppy-Dashboard-Item-previewIconWrap{height:76px;max-height:75%;position:relative}.uppy-Dashboard--singleFile .uppy-Dashboard-Item-previewIconWrap{height:100%;width:100%}.uppy-Dashboard-Item-previewIconBg{filter:drop-shadow(rgba(0,0,0,.1) 0 1px 1px);height:100%;width:100%}.uppy-Dashboard-upload{height:50px;position:relative;width:50px}.uppy-size--md .uppy-Dashboard-upload{height:60px;width:60px}.uppy-Dashboard-upload .uppy-c-icon{position:relative;top:1px;width:50%}[dir=ltr] .uppy-Dashboard-uploadCount{right:-12px}[dir=rtl] .uppy-Dashboard-uploadCount{left:-12px}.uppy-Dashboard-uploadCount{background-color:#1bb240;border-radius:50%;color:#fff;font-size:8px;height:16px;line-height:16px;position:absolute;top:-12px;width:16px}.uppy-size--md .uppy-Dashboard-uploadCount{font-size:9px;height:18px;line-height:18px;width:18px}\n"],encapsulation:2,changeDetection:0})}}return i})(),Nn=(()=>{class i{constructor(t,r,o,n,a,l,d){this.service=t,this.navigator=r,this.move=o,this.cdr=n,this.deleteService=a,this.subscription=l,this.updateStream=d,this.createPolicy="FileManagement.DirectoryDescriptor.Create",this.updatePolicy="FileManagement.DirectoryDescriptor.Update",this.deletePolicy="FileManagement.DirectoryDescriptor.Delete",this.contextMenuPolicy=`${this.createPolicy} || ${this.updatePolicy} || ${this.deletePolicy}`,this.createModalVisible=!1,this.createModalParentId="",this.renameModalVisible=!1,this.moveModalVisible=!1,this.rootId=We,this.updateDirectories=p=>{this.directories=p.map(this.markAsParentHasChildren),this.cdr.markForCheck()},this.updateSelectedNode=p=>{this.tree.setSelectedNode({id:p||We})},this.markAsParentHasChildren=p=>({...p,isLeaf:!p.entity.hasChildren&&!p.children.length,children:p?.children?.map(h=>this.markAsParentHasChildren(h))})}ngOnInit(){this.subscription.addOne(this.service.directoryTree$,this.updateDirectories),this.subscription.addOne(this.updateStream.currentDirectory$,this.updateSelectedNode)}onDrop({dragNode:t,node:r}){this.move.moveTo(this.nzNodeToFolderInfo(t),this.nzNodeToFolderInfo(r),t.parentNode.origin.id).subscribe()}onNodeClick(t){t.isRoot?this.onRootClick():this.navigator.goToFolder(t)}onRootClick(){this.navigator.goToRoot()}onCreate(t){this.createModalVisible=!0,this.createModalParentId=t.id}onRename(t){this.renameModalVisible=!0,this.contentToRename={...t,isDirectory:!0}}onDelete(t){this.deleteService.deleteFolder(t).subscribe()}onMove(t){this.folderToMove={...t.origin.entity,isDirectory:!0},this.parentOfFolderToMove=t.parentNode.origin.id,this.moveModalVisible=!0}onContentRenamed(t){this.service.refreshNode({newParentId:t.id})}afterFolderMoved(){delete this.folderToMove}nzNodeToFolderInfo(t){return{id:t.origin.id,name:t.origin.title}}onExpandedKeysChange(t){t.node.isExpanded&&t.node.key!==We&&!t.node.children.length&&this.service.updateDirectories(t.node.key)}static{this.\u0275fac=function(r){return new(r||i)(s.rXU(pi),s.rXU(ct),s.rXU(jr),s.rXU(s.gRc),s.rXU(Ur),s.rXU(v.nCQ),s.rXU(Ae))}}static{this.\u0275cmp=s.VBU({type:i,selectors:[["abp-file-management-directory-tree"]],viewQuery:function(r,o){if(1&r&&s.GBs(di.gx,5),2&r){let n;s.mGM(n=s.lsd())&&(o.tree=n.first)}},features:[s.Jv_([v.nCQ])],decls:5,vars:8,consts:[["menu",""],[3,"nodes","expandedKeys","draggable","selectedNode"],[3,"visibleChange","visible","parentId"],[3,"visibleChange","contentToRenameChange","contentRenamed","visible","contentToRename"],[3,"visibleChange","contentSaved","visible","fileToMove","oldParentId"],[3,"nodesChange","expandedKeysChange","dropOver","selectedNodeChange","nzExpandChange","nodes","expandedKeys","draggable","selectedNode"],["abp-tree-expanded-icon-template",""],["abp-tree-node-template",""],[4,"abpPermission"],[1,"far"],["aria-hidden","true",1,"fa","fa-folder","text-primary","me-2"],["class","pointer","ngbDropdownItem","",3,"click",4,"abpPermission"],["ngbDropdownItem","",1,"pointer"],["ngbDropdownItem","",1,"pointer",3,"click"]],template:function(r,o){1&r&&(s.j41(0,"div"),s.DNE(1,th,4,5,"abp-tree",1),s.k0s(),s.j41(2,"abp-create-folder-modal",2),s.mxI("visibleChange",function(a){return s.DH7(o.createModalVisible,a)||(o.createModalVisible=a),a}),s.k0s(),s.j41(3,"abp-rename-modal",3),s.mxI("visibleChange",function(a){return s.DH7(o.renameModalVisible,a)||(o.renameModalVisible=a),a})("contentToRenameChange",function(a){return s.DH7(o.contentToRename,a)||(o.contentToRename=a),a}),s.bIt("contentRenamed",function(a){return o.onContentRenamed(a)}),s.k0s(),s.j41(4,"abp-move-file-modal",4),s.mxI("visibleChange",function(a){return s.DH7(o.moveModalVisible,a)||(o.moveModalVisible=a),a}),s.bIt("contentSaved",function(){return o.afterFolderMoved()}),s.k0s()),2&r&&(s.R7$(),s.vxM(o.directories?1:-1),s.R7$(),s.R50("visible",o.createModalVisible),s.Y8G("parentId",o.createModalParentId),s.R7$(),s.R50("visible",o.renameModalVisible)("contentToRename",o.contentToRename),s.R7$(),s.R50("visible",o.moveModalVisible),s.Y8G("fileToMove",o.folderToMove)("oldParentId",o.parentOfFolderToMove))},dependencies:[v.Dud,di.kH,di.uO,di.gx,Xa._H,Lr,qr,$r,v.aM3],encapsulation:2,changeDetection:0})}}return i})(),Rn=(()=>{class i{constructor(t,r){this.list=t,this.navigator=r}goUpFolder(){this.navigator.goUpFolder()}static{this.\u0275fac=function(r){return new(r||i)(s.rXU(v.aGM),s.rXU(ct))}}static{this.\u0275cmp=s.VBU({type:i,selectors:[["abp-file-management-folder-filter"]],decls:9,vars:7,consts:[[1,"row","mb-3"],[1,"col-sm-12","col-md-auto","col-lg-auto","col-xl-auto"],["iconClass","fa fa-level-up-alt fa-flip-horizontal me-2","buttonClass","w-100 mb-2 mb-md-0 shadow-none btn-block btn btn-outline-secondary",3,"click"],[1,"col"],[1,"input-group"],[1,"form-control","page-search-filter-text",3,"ngModelChange","ngModel","placeholder"]],template:function(r,o){1&r&&(s.j41(0,"div",0)(1,"div",1)(2,"abp-button",2),s.bIt("click",function(){return o.goUpFolder()}),s.EFF(3),s.nI1(4,"abpLocalization"),s.k0s()(),s.j41(5,"div",3)(6,"div",4)(7,"input",5),s.nI1(8,"abpLocalization"),s.mxI("ngModelChange",function(a){return s.DH7(o.list.filter,a)||(o.list.filter=a),a}),s.k0s()()()()),2&r&&(s.R7$(3),s.JRh(s.bMT(4,3,"FileManagement::GoUpFolder")),s.R7$(4),s.R50("ngModel",o.list.filter),s.Y8G("placeholder",s.bMT(8,5,"FileManagement::Filter")))},dependencies:[ae.me,ae.BC,ae.vS,ve.Qp,v.aM3],encapsulation:2,changeDetection:0})}}return i})(),Un=(()=>{class i{constructor(t){this.navigator=t,this.contentUpdate=new s.bkB}static{this.\u0275fac=function(r){return new(r||i)(s.rXU(ct))}}static{this.\u0275cmp=s.VBU({type:i,selectors:[["abp-file-management-folder-panel"]],outputs:{contentUpdate:"contentUpdate"},features:[s.Jv_([v.aGM])],decls:6,vars:3,consts:[[1,"row","mb-3"],[1,"col"],[3,"breadcrumbClick","navigatedFolders"],[3,"contentUpdate"]],template:function(r,o){1&r&&(s.j41(0,"div",0)(1,"div",1)(2,"abp-file-management-breadcrumb",2),s.nI1(3,"async"),s.bIt("breadcrumbClick",function(a){return o.navigator.goToFolder(a)}),s.k0s()()(),s.nrm(4,"abp-file-management-folder-filter"),s.j41(5,"abp-file-management-folder-content",3),s.bIt("contentUpdate",function(a){return o.contentUpdate.emit(a)}),s.k0s()),2&r&&(s.R7$(2),s.Y8G("navigatedFolders",s.bMT(3,1,o.navigator.navigatedFolderPath$)))},dependencies:[Rr,$e,Rn,M.Jj],encapsulation:2,changeDetection:0})}}return i})(),zn=(()=>{class i{constructor(t){this.directory=t,this.currentContent=[]}ngOnInit(){this.directory.updateDirectories(null)}static{this.\u0275fac=function(r){return new(r||i)(s.rXU(pi))}}static{this.\u0275cmp=s.VBU({type:i,selectors:[["abp-file-management"]],features:[s.Jv_([Ur,zr,pi,ct,jr,An,Ae,{provide:se.JF,useValue:"FileManagement.FolderContentComponent"}])],decls:12,vars:4,consts:[[3,"title","toolbar"],[1,"card"],[1,"card-body","z-index-0"],[1,"row"],[1,"col-12","col-md-4","col-lg-3","col"],[1,"p-lg-3","p-md-0","mb-4"],[1,"col-12","col-md-8","col-lg-9","col"],[1,"p-lg-3","p-md-0"],[3,"contentUpdate"]],template:function(r,o){1&r&&(s.j41(0,"abp-page",0),s.nI1(1,"abpLocalization"),s.j41(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5),s.nrm(7,"abp-file-management-buttons")(8,"abp-file-management-directory-tree"),s.k0s()(),s.j41(9,"div",6)(10,"div",7)(11,"abp-file-management-folder-panel",8),s.bIt("contentUpdate",function(a){return o.currentContent=a}),s.k0s()()()()()()()),2&r&&s.Y8G("title",s.bMT(1,2,"FileManagement::Menu:FileManagement"))("toolbar",o.currentContent)},dependencies:[Qa.H1,Nn,On,Un,v.aM3],encapsulation:2,changeDetection:0})}}return i})(),oh=(()=>{class i{constructor(t){this.fileManagementFeatures=t}canActivate(){return this.fileManagementFeatures.pipe((0,_.T)(t=>t.enable))}static{this.\u0275fac=function(r){return new(r||i)(s.KVO(he.xD))}}static{this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}}return i})();const il=()=>(0,s.WQX)(he.xD).pipe((0,_.T)(e=>e.enable)),rl=()=>{const i=(0,s.WQX)(s.zZn),e=i.get(se.yJ),t=i.get(Hr,null)||{},r=i.get(Gr,null)||{},o=i.get(Wr,null)||{},n=i.get(v.d14);return(0,se.Nl)(n,"FileManagement").pipe((0,_.T)(a=>({})),(0,se.p2)(n,"FileManagement"),(0,b.M)(a=>{(0,se.xB)(e.entityActions,In,t),(0,se.xB)(e.toolbarActions,kn,r),(0,se.ah)(e.entityProps,Bn,a.prop,o)}))},nh=[{path:"",pathMatch:"full",canActivate:[v.W_R,v.RH_,il],resolve:[rl],component:zn,title:"FileManagement::Menu:FileManagement"}];let ol=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=s.$C({type:i})}static{this.\u0275inj=s.G2t({imports:[Ya.iI.forChild(nh),Ya.iI]})}}return i})(),sh=(()=>{class i{constructor(t){this.injector=t}canActivate(){const t=this.injector.get(se.yJ),r=this.injector.get(Hr,null)||{},o=this.injector.get(Gr,null)||{},n=this.injector.get(Wr,null)||{},a=this.injector.get(v.d14);return(0,se.Nl)(a,"FileManagement").pipe((0,_.T)(l=>({})),(0,se.p2)(a,"FileManagement"),(0,b.M)(l=>{(0,se.xB)(t.entityActions,In,r),(0,se.xB)(t.toolbarActions,kn,o),(0,se.ah)(t.entityProps,Bn,l.prop,n)}),(0,_.T)(()=>!0))}static{this.\u0275fac=function(r){return new(r||i)(s.KVO(s.zZn))}}static{this.\u0275prov=s.jDH({token:i,factory:i.\u0275fac})}}return i})(),ah=(()=>{class i{static forChild(t={}){return{ngModule:i,providers:[{provide:Hr,useValue:t.entityActionContributors},{provide:Gr,useValue:t.toolbarActionContributors},{provide:Wr,useValue:t.entityPropContributors},{provide:Mn,useValue:t.xsrfHeaderName||"RequestVerificationToken"}]}}static forLazy(t={}){return new v.l37(i.forChild(t))}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=s.$C({type:i})}static{this.\u0275inj=s.G2t({imports:[v.Ui,ve.Ts,di.ft,ol,Xa.zH,se.U9,er.fs,Qa.wq]})}}return i})()}}]);